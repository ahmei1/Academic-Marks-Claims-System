var E_=Object.defineProperty;var C_=(t,e,n)=>e in t?E_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var B=(t,e,n)=>C_(t,typeof e!="symbol"?e+"":e,n);function P_(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function A_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var u0={exports:{}},Dl={},c0={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Co=Symbol.for("react.element"),R_=Symbol.for("react.portal"),O_=Symbol.for("react.fragment"),j_=Symbol.for("react.strict_mode"),M_=Symbol.for("react.profiler"),I_=Symbol.for("react.provider"),D_=Symbol.for("react.context"),N_=Symbol.for("react.forward_ref"),L_=Symbol.for("react.suspense"),F_=Symbol.for("react.memo"),V_=Symbol.for("react.lazy"),Jf=Symbol.iterator;function $_(t){return t===null||typeof t!="object"?null:(t=Jf&&t[Jf]||t["@@iterator"],typeof t=="function"?t:null)}var h0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d0=Object.assign,f0={};function qr(t,e,n){this.props=t,this.context=e,this.refs=f0,this.updater=n||h0}qr.prototype.isReactComponent={};qr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function p0(){}p0.prototype=qr.prototype;function td(t,e,n){this.props=t,this.context=e,this.refs=f0,this.updater=n||h0}var nd=td.prototype=new p0;nd.constructor=td;d0(nd,qr.prototype);nd.isPureReactComponent=!0;var Qf=Array.isArray,g0=Object.prototype.hasOwnProperty,sd={current:null},m0={key:!0,ref:!0,__self:!0,__source:!0};function y0(t,e,n){var s,r={},i=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)g0.call(e,s)&&!m0.hasOwnProperty(s)&&(r[s]=e[s]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)r[s]===void 0&&(r[s]=a[s]);return{$$typeof:Co,type:t,key:i,ref:o,props:r,_owner:sd.current}}function B_(t,e){return{$$typeof:Co,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rd(t){return typeof t=="object"&&t!==null&&t.$$typeof===Co}function U_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Zf=/\/+/g;function lu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?U_(""+t.key):e.toString(36)}function Ta(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Co:case R_:o=!0}}if(o)return o=t,r=r(o),t=s===""?"."+lu(o,0):s,Qf(r)?(n="",t!=null&&(n=t.replace(Zf,"$&/")+"/"),Ta(r,e,n,"",function(u){return u})):r!=null&&(rd(r)&&(r=B_(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Zf,"$&/")+"/")+t)),e.push(r)),1;if(o=0,s=s===""?".":s+":",Qf(t))for(var a=0;a<t.length;a++){i=t[a];var l=s+lu(i,a);o+=Ta(i,e,n,l,r)}else if(l=$_(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=s+lu(i,a++),o+=Ta(i,e,n,l,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Uo(t,e,n){if(t==null)return t;var s=[],r=0;return Ta(t,s,"","",function(i){return e.call(n,i,r++)}),s}function z_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var st={current:null},Ea={transition:null},W_={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:Ea,ReactCurrentOwner:sd};function v0(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:Uo,forEach:function(t,e,n){Uo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Uo(t,function(){e++}),e},toArray:function(t){return Uo(t,function(e){return e})||[]},only:function(t){if(!rd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};K.Component=qr;K.Fragment=O_;K.Profiler=M_;K.PureComponent=td;K.StrictMode=j_;K.Suspense=L_;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W_;K.act=v0;K.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=d0({},t.props),r=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=sd.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)g0.call(e,l)&&!m0.hasOwnProperty(l)&&(s[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}return{$$typeof:Co,type:t.type,key:r,ref:i,props:s,_owner:o}};K.createContext=function(t){return t={$$typeof:D_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:I_,_context:t},t.Consumer=t};K.createElement=y0;K.createFactory=function(t){var e=y0.bind(null,t);return e.type=t,e};K.createRef=function(){return{current:null}};K.forwardRef=function(t){return{$$typeof:N_,render:t}};K.isValidElement=rd;K.lazy=function(t){return{$$typeof:V_,_payload:{_status:-1,_result:t},_init:z_}};K.memo=function(t,e){return{$$typeof:F_,type:t,compare:e===void 0?null:e}};K.startTransition=function(t){var e=Ea.transition;Ea.transition={};try{t()}finally{Ea.transition=e}};K.unstable_act=v0;K.useCallback=function(t,e){return st.current.useCallback(t,e)};K.useContext=function(t){return st.current.useContext(t)};K.useDebugValue=function(){};K.useDeferredValue=function(t){return st.current.useDeferredValue(t)};K.useEffect=function(t,e){return st.current.useEffect(t,e)};K.useId=function(){return st.current.useId()};K.useImperativeHandle=function(t,e,n){return st.current.useImperativeHandle(t,e,n)};K.useInsertionEffect=function(t,e){return st.current.useInsertionEffect(t,e)};K.useLayoutEffect=function(t,e){return st.current.useLayoutEffect(t,e)};K.useMemo=function(t,e){return st.current.useMemo(t,e)};K.useReducer=function(t,e,n){return st.current.useReducer(t,e,n)};K.useRef=function(t){return st.current.useRef(t)};K.useState=function(t){return st.current.useState(t)};K.useSyncExternalStore=function(t,e,n){return st.current.useSyncExternalStore(t,e,n)};K.useTransition=function(){return st.current.useTransition()};K.version="18.3.1";c0.exports=K;var T=c0.exports;const w0=A_(T),H_=P_({__proto__:null,default:w0},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_=T,q_=Symbol.for("react.element"),Y_=Symbol.for("react.fragment"),G_=Object.prototype.hasOwnProperty,X_=K_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,J_={key:!0,ref:!0,__self:!0,__source:!0};function x0(t,e,n){var s,r={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)G_.call(e,s)&&!J_.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:q_,type:t,key:i,ref:o,props:r,_owner:X_.current}}Dl.Fragment=Y_;Dl.jsx=x0;Dl.jsxs=x0;u0.exports=Dl;var x=u0.exports,yc={},b0={exports:{}},bt={},_0={exports:{}},k0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,M){var N=A.length;A.push(M);e:for(;0<N;){var Q=N-1>>>1,Z=A[Q];if(0<r(Z,M))A[Q]=M,A[N]=Z,N=Q;else break e}}function n(A){return A.length===0?null:A[0]}function s(A){if(A.length===0)return null;var M=A[0],N=A.pop();if(N!==M){A[0]=N;e:for(var Q=0,Z=A.length,kt=Z>>>1;Q<kt;){var be=2*(Q+1)-1,Ft=A[be],Ke=be+1,qs=A[Ke];if(0>r(Ft,N))Ke<Z&&0>r(qs,Ft)?(A[Q]=qs,A[Ke]=N,Q=Ke):(A[Q]=Ft,A[be]=N,Q=be);else if(Ke<Z&&0>r(qs,N))A[Q]=qs,A[Ke]=N,Q=Ke;else break e}}return M}function r(A,M){var N=A.sortIndex-M.sortIndex;return N!==0?N:A.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,g=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(A){for(var M=n(u);M!==null;){if(M.callback===null)s(u);else if(M.startTime<=A)s(u),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(u)}}function b(A){if(y=!1,v(A),!g)if(n(l)!==null)g=!0,Y(_);else{var M=n(u);M!==null&&$(b,M.startTime-A)}}function _(A,M){g=!1,y&&(y=!1,p(E),E=-1),f=!0;var N=d;try{for(v(M),h=n(l);h!==null&&(!(h.expirationTime>M)||A&&!j());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,d=h.priorityLevel;var Z=Q(h.expirationTime<=M);M=t.unstable_now(),typeof Z=="function"?h.callback=Z:h===n(l)&&s(l),v(M)}else s(l);h=n(l)}if(h!==null)var kt=!0;else{var be=n(u);be!==null&&$(b,be.startTime-M),kt=!1}return kt}finally{h=null,d=N,f=!1}}var S=!1,k=null,E=-1,P=5,C=-1;function j(){return!(t.unstable_now()-C<P)}function L(){if(k!==null){var A=t.unstable_now();C=A;var M=!0;try{M=k(!0,A)}finally{M?W():(S=!1,k=null)}}else S=!1}var W;if(typeof m=="function")W=function(){m(L)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,z=H.port2;H.port1.onmessage=L,W=function(){z.postMessage(null)}}else W=function(){w(L,0)};function Y(A){k=A,S||(S=!0,W())}function $(A,M){E=w(function(){A(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,Y(_))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(A){switch(d){case 1:case 2:case 3:var M=3;break;default:M=d}var N=d;d=M;try{return A()}finally{d=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,M){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var N=d;d=A;try{return M()}finally{d=N}},t.unstable_scheduleCallback=function(A,M,N){var Q=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?Q+N:Q):N=Q,A){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=N+Z,A={id:c++,callback:M,priorityLevel:A,startTime:N,expirationTime:Z,sortIndex:-1},N>Q?(A.sortIndex=N,e(u,A),n(l)===null&&A===n(u)&&(y?(p(E),E=-1):y=!0,$(b,N-Q))):(A.sortIndex=Z,e(l,A),g||f||(g=!0,Y(_))),A},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(A){var M=d;return function(){var N=d;d=M;try{return A.apply(this,arguments)}finally{d=N}}}})(k0);_0.exports=k0;var Q_=_0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_=T,xt=Q_;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S0=new Set,Hi={};function Ws(t,e){Lr(t,e),Lr(t+"Capture",e)}function Lr(t,e){for(Hi[t]=e,t=0;t<e.length;t++)S0.add(e[t])}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vc=Object.prototype.hasOwnProperty,ek=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ep={},tp={};function tk(t){return vc.call(tp,t)?!0:vc.call(ep,t)?!1:ek.test(t)?tp[t]=!0:(ep[t]=!0,!1)}function nk(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sk(t,e,n,s){if(e===null||typeof e>"u"||nk(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rt(t,e,n,s,r,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){He[t]=new rt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];He[e]=new rt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){He[t]=new rt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){He[t]=new rt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){He[t]=new rt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){He[t]=new rt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){He[t]=new rt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){He[t]=new rt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){He[t]=new rt(t,5,!1,t.toLowerCase(),null,!1,!1)});var id=/[\-:]([a-z])/g;function od(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(id,od);He[e]=new rt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(id,od);He[e]=new rt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(id,od);He[e]=new rt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){He[t]=new rt(t,1,!1,t.toLowerCase(),null,!1,!1)});He.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){He[t]=new rt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ad(t,e,n,s){var r=He.hasOwnProperty(e)?He[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sk(e,n,r,s)&&(n=null),s||r===null?tk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var Pn=Z_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zo=Symbol.for("react.element"),lr=Symbol.for("react.portal"),ur=Symbol.for("react.fragment"),ld=Symbol.for("react.strict_mode"),wc=Symbol.for("react.profiler"),T0=Symbol.for("react.provider"),E0=Symbol.for("react.context"),ud=Symbol.for("react.forward_ref"),xc=Symbol.for("react.suspense"),bc=Symbol.for("react.suspense_list"),cd=Symbol.for("react.memo"),Mn=Symbol.for("react.lazy"),C0=Symbol.for("react.offscreen"),np=Symbol.iterator;function ni(t){return t===null||typeof t!="object"?null:(t=np&&t[np]||t["@@iterator"],typeof t=="function"?t:null)}var ge=Object.assign,uu;function mi(t){if(uu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);uu=e&&e[1]||""}return`
`+uu+t}var cu=!1;function hu(t,e){if(!t||cu)return"";cu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),i=s.stack.split(`
`),o=r.length-1,a=i.length-1;1<=o&&0<=a&&r[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==i[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{cu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?mi(t):""}function rk(t){switch(t.tag){case 5:return mi(t.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 2:case 15:return t=hu(t.type,!1),t;case 11:return t=hu(t.type.render,!1),t;case 1:return t=hu(t.type,!0),t;default:return""}}function _c(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ur:return"Fragment";case lr:return"Portal";case wc:return"Profiler";case ld:return"StrictMode";case xc:return"Suspense";case bc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case E0:return(t.displayName||"Context")+".Consumer";case T0:return(t._context.displayName||"Context")+".Provider";case ud:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cd:return e=t.displayName||null,e!==null?e:_c(t.type)||"Memo";case Mn:e=t._payload,t=t._init;try{return _c(t(e))}catch{}}return null}function ik(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _c(e);case 8:return e===ld?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ts(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function P0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ok(t){var e=P0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wo(t){t._valueTracker||(t._valueTracker=ok(t))}function A0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=P0(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Ka(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function kc(t,e){var n=e.checked;return ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function sp(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=ts(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function R0(t,e){e=e.checked,e!=null&&ad(t,"checked",e,!1)}function Sc(t,e){R0(t,e);var n=ts(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Tc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Tc(t,e.type,ts(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Tc(t,e,n){(e!=="number"||Ka(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var yi=Array.isArray;function Er(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+ts(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Ec(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ip(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(R(92));if(yi(n)){if(1<n.length)throw Error(R(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ts(n)}}function O0(t,e){var n=ts(e.value),s=ts(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function op(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function j0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?j0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ho,M0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ho=Ho||document.createElement("div"),Ho.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ho.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ki(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ci={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ak=["Webkit","ms","Moz","O"];Object.keys(Ci).forEach(function(t){ak.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ci[e]=Ci[t]})});function I0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ci.hasOwnProperty(t)&&Ci[t]?(""+e).trim():e+"px"}function D0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=I0(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var lk=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pc(t,e){if(e){if(lk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function Ac(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rc=null;function hd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Oc=null,Cr=null,Pr=null;function ap(t){if(t=Ro(t)){if(typeof Oc!="function")throw Error(R(280));var e=t.stateNode;e&&(e=$l(e),Oc(t.stateNode,t.type,e))}}function N0(t){Cr?Pr?Pr.push(t):Pr=[t]:Cr=t}function L0(){if(Cr){var t=Cr,e=Pr;if(Pr=Cr=null,ap(t),e)for(t=0;t<e.length;t++)ap(e[t])}}function F0(t,e){return t(e)}function V0(){}var du=!1;function $0(t,e,n){if(du)return t(e,n);du=!0;try{return F0(t,e,n)}finally{du=!1,(Cr!==null||Pr!==null)&&(V0(),L0())}}function qi(t,e){var n=t.stateNode;if(n===null)return null;var s=$l(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var jc=!1;if(_n)try{var si={};Object.defineProperty(si,"passive",{get:function(){jc=!0}}),window.addEventListener("test",si,si),window.removeEventListener("test",si,si)}catch{jc=!1}function uk(t,e,n,s,r,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Pi=!1,qa=null,Ya=!1,Mc=null,ck={onError:function(t){Pi=!0,qa=t}};function hk(t,e,n,s,r,i,o,a,l){Pi=!1,qa=null,uk.apply(ck,arguments)}function dk(t,e,n,s,r,i,o,a,l){if(hk.apply(this,arguments),Pi){if(Pi){var u=qa;Pi=!1,qa=null}else throw Error(R(198));Ya||(Ya=!0,Mc=u)}}function Hs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function B0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lp(t){if(Hs(t)!==t)throw Error(R(188))}function fk(t){var e=t.alternate;if(!e){if(e=Hs(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return lp(r),t;if(i===s)return lp(r),e;i=i.sibling}throw Error(R(188))}if(n.return!==s.return)n=r,s=i;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,s=i;break}if(a===s){o=!0,s=r,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,s=r;break}if(a===s){o=!0,s=i,n=r;break}a=a.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==s)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function U0(t){return t=fk(t),t!==null?z0(t):null}function z0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=z0(t);if(e!==null)return e;t=t.sibling}return null}var W0=xt.unstable_scheduleCallback,up=xt.unstable_cancelCallback,pk=xt.unstable_shouldYield,gk=xt.unstable_requestPaint,_e=xt.unstable_now,mk=xt.unstable_getCurrentPriorityLevel,dd=xt.unstable_ImmediatePriority,H0=xt.unstable_UserBlockingPriority,Ga=xt.unstable_NormalPriority,yk=xt.unstable_LowPriority,K0=xt.unstable_IdlePriority,Nl=null,an=null;function vk(t){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Nl,t,void 0,(t.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:bk,wk=Math.log,xk=Math.LN2;function bk(t){return t>>>=0,t===0?32:31-(wk(t)/xk|0)|0}var Ko=64,qo=4194304;function vi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xa(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?s=vi(a):(i&=o,i!==0&&(s=vi(i)))}else o=n&~r,o!==0?s=vi(o):i!==0&&(s=vi(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-Gt(e),r=1<<n,s|=t[n],e&=~r;return s}function _k(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kk(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Gt(i),a=1<<o,l=r[o];l===-1?(!(a&n)||a&s)&&(r[o]=_k(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Ic(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function q0(){var t=Ko;return Ko<<=1,!(Ko&4194240)&&(Ko=64),t}function fu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Po(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gt(e),t[e]=n}function Sk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Gt(n),i=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~i}}function fd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Gt(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var te=0;function Y0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var G0,pd,X0,J0,Q0,Dc=!1,Yo=[],Hn=null,Kn=null,qn=null,Yi=new Map,Gi=new Map,Nn=[],Tk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cp(t,e){switch(t){case"focusin":case"focusout":Hn=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":Yi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gi.delete(e.pointerId)}}function ri(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=Ro(e),e!==null&&pd(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function Ek(t,e,n,s,r){switch(e){case"focusin":return Hn=ri(Hn,t,e,n,s,r),!0;case"dragenter":return Kn=ri(Kn,t,e,n,s,r),!0;case"mouseover":return qn=ri(qn,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return Yi.set(i,ri(Yi.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,Gi.set(i,ri(Gi.get(i)||null,t,e,n,s,r)),!0}return!1}function Z0(t){var e=Ss(t.target);if(e!==null){var n=Hs(e);if(n!==null){if(e=n.tag,e===13){if(e=B0(n),e!==null){t.blockedOn=e,Q0(t.priority,function(){X0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ca(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Nc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Rc=s,n.target.dispatchEvent(s),Rc=null}else return e=Ro(n),e!==null&&pd(e),t.blockedOn=n,!1;e.shift()}return!0}function hp(t,e,n){Ca(t)&&n.delete(e)}function Ck(){Dc=!1,Hn!==null&&Ca(Hn)&&(Hn=null),Kn!==null&&Ca(Kn)&&(Kn=null),qn!==null&&Ca(qn)&&(qn=null),Yi.forEach(hp),Gi.forEach(hp)}function ii(t,e){t.blockedOn===e&&(t.blockedOn=null,Dc||(Dc=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,Ck)))}function Xi(t){function e(r){return ii(r,t)}if(0<Yo.length){ii(Yo[0],t);for(var n=1;n<Yo.length;n++){var s=Yo[n];s.blockedOn===t&&(s.blockedOn=null)}}for(Hn!==null&&ii(Hn,t),Kn!==null&&ii(Kn,t),qn!==null&&ii(qn,t),Yi.forEach(e),Gi.forEach(e),n=0;n<Nn.length;n++)s=Nn[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<Nn.length&&(n=Nn[0],n.blockedOn===null);)Z0(n),n.blockedOn===null&&Nn.shift()}var Ar=Pn.ReactCurrentBatchConfig,Ja=!0;function Pk(t,e,n,s){var r=te,i=Ar.transition;Ar.transition=null;try{te=1,gd(t,e,n,s)}finally{te=r,Ar.transition=i}}function Ak(t,e,n,s){var r=te,i=Ar.transition;Ar.transition=null;try{te=4,gd(t,e,n,s)}finally{te=r,Ar.transition=i}}function gd(t,e,n,s){if(Ja){var r=Nc(t,e,n,s);if(r===null)ku(t,e,s,Qa,n),cp(t,s);else if(Ek(r,t,e,n,s))s.stopPropagation();else if(cp(t,s),e&4&&-1<Tk.indexOf(t)){for(;r!==null;){var i=Ro(r);if(i!==null&&G0(i),i=Nc(t,e,n,s),i===null&&ku(t,e,s,Qa,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else ku(t,e,s,null,n)}}var Qa=null;function Nc(t,e,n,s){if(Qa=null,t=hd(s),t=Ss(t),t!==null)if(e=Hs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=B0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qa=t,null}function ev(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mk()){case dd:return 1;case H0:return 4;case Ga:case yk:return 16;case K0:return 536870912;default:return 16}default:return 16}}var Vn=null,md=null,Pa=null;function tv(){if(Pa)return Pa;var t,e=md,n=e.length,s,r="value"in Vn?Vn.value:Vn.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===r[i-s];s++);return Pa=r.slice(t,1<s?1-s:void 0)}function Aa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Go(){return!0}function dp(){return!1}function _t(t){function e(n,s,r,i,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Go:dp,this.isPropagationStopped=dp,this}return ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Go)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Go)},persist:function(){},isPersistent:Go}),e}var Yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yd=_t(Yr),Ao=ge({},Yr,{view:0,detail:0}),Rk=_t(Ao),pu,gu,oi,Ll=ge({},Ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oi&&(oi&&t.type==="mousemove"?(pu=t.screenX-oi.screenX,gu=t.screenY-oi.screenY):gu=pu=0,oi=t),pu)},movementY:function(t){return"movementY"in t?t.movementY:gu}}),fp=_t(Ll),Ok=ge({},Ll,{dataTransfer:0}),jk=_t(Ok),Mk=ge({},Ao,{relatedTarget:0}),mu=_t(Mk),Ik=ge({},Yr,{animationName:0,elapsedTime:0,pseudoElement:0}),Dk=_t(Ik),Nk=ge({},Yr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lk=_t(Nk),Fk=ge({},Yr,{data:0}),pp=_t(Fk),Vk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$k={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Bk[t])?!!e[t]:!1}function vd(){return Uk}var zk=ge({},Ao,{key:function(t){if(t.key){var e=Vk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Aa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$k[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vd,charCode:function(t){return t.type==="keypress"?Aa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Aa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wk=_t(zk),Hk=ge({},Ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gp=_t(Hk),Kk=ge({},Ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vd}),qk=_t(Kk),Yk=ge({},Yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gk=_t(Yk),Xk=ge({},Ll,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Jk=_t(Xk),Qk=[9,13,27,32],wd=_n&&"CompositionEvent"in window,Ai=null;_n&&"documentMode"in document&&(Ai=document.documentMode);var Zk=_n&&"TextEvent"in window&&!Ai,nv=_n&&(!wd||Ai&&8<Ai&&11>=Ai),mp=" ",yp=!1;function sv(t,e){switch(t){case"keyup":return Qk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cr=!1;function eS(t,e){switch(t){case"compositionend":return rv(e);case"keypress":return e.which!==32?null:(yp=!0,mp);case"textInput":return t=e.data,t===mp&&yp?null:t;default:return null}}function tS(t,e){if(cr)return t==="compositionend"||!wd&&sv(t,e)?(t=tv(),Pa=md=Vn=null,cr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nv&&e.locale!=="ko"?null:e.data;default:return null}}var nS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nS[t.type]:e==="textarea"}function iv(t,e,n,s){N0(s),e=Za(e,"onChange"),0<e.length&&(n=new yd("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Ri=null,Ji=null;function sS(t){mv(t,0)}function Fl(t){var e=fr(t);if(A0(e))return t}function rS(t,e){if(t==="change")return e}var ov=!1;if(_n){var yu;if(_n){var vu="oninput"in document;if(!vu){var wp=document.createElement("div");wp.setAttribute("oninput","return;"),vu=typeof wp.oninput=="function"}yu=vu}else yu=!1;ov=yu&&(!document.documentMode||9<document.documentMode)}function xp(){Ri&&(Ri.detachEvent("onpropertychange",av),Ji=Ri=null)}function av(t){if(t.propertyName==="value"&&Fl(Ji)){var e=[];iv(e,Ji,t,hd(t)),$0(sS,e)}}function iS(t,e,n){t==="focusin"?(xp(),Ri=e,Ji=n,Ri.attachEvent("onpropertychange",av)):t==="focusout"&&xp()}function oS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fl(Ji)}function aS(t,e){if(t==="click")return Fl(e)}function lS(t,e){if(t==="input"||t==="change")return Fl(e)}function uS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jt=typeof Object.is=="function"?Object.is:uS;function Qi(t,e){if(Jt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!vc.call(e,r)||!Jt(t[r],e[r]))return!1}return!0}function bp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _p(t,e){var n=bp(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bp(n)}}function lv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function uv(){for(var t=window,e=Ka();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ka(t.document)}return e}function xd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cS(t){var e=uv(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lv(n.ownerDocument.documentElement,n)){if(s!==null&&xd(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!t.extend&&i>s&&(r=s,s=i,i=r),r=_p(n,i);var o=_p(n,s);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hS=_n&&"documentMode"in document&&11>=document.documentMode,hr=null,Lc=null,Oi=null,Fc=!1;function kp(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fc||hr==null||hr!==Ka(s)||(s=hr,"selectionStart"in s&&xd(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Oi&&Qi(Oi,s)||(Oi=s,s=Za(Lc,"onSelect"),0<s.length&&(e=new yd("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=hr)))}function Xo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var dr={animationend:Xo("Animation","AnimationEnd"),animationiteration:Xo("Animation","AnimationIteration"),animationstart:Xo("Animation","AnimationStart"),transitionend:Xo("Transition","TransitionEnd")},wu={},cv={};_n&&(cv=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);function Vl(t){if(wu[t])return wu[t];if(!dr[t])return t;var e=dr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cv)return wu[t]=e[n];return t}var hv=Vl("animationend"),dv=Vl("animationiteration"),fv=Vl("animationstart"),pv=Vl("transitionend"),gv=new Map,Sp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function os(t,e){gv.set(t,e),Ws(e,[t])}for(var xu=0;xu<Sp.length;xu++){var bu=Sp[xu],dS=bu.toLowerCase(),fS=bu[0].toUpperCase()+bu.slice(1);os(dS,"on"+fS)}os(hv,"onAnimationEnd");os(dv,"onAnimationIteration");os(fv,"onAnimationStart");os("dblclick","onDoubleClick");os("focusin","onFocus");os("focusout","onBlur");os(pv,"onTransitionEnd");Lr("onMouseEnter",["mouseout","mouseover"]);Lr("onMouseLeave",["mouseout","mouseover"]);Lr("onPointerEnter",["pointerout","pointerover"]);Lr("onPointerLeave",["pointerout","pointerover"]);Ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pS=new Set("cancel close invalid load scroll toggle".split(" ").concat(wi));function Tp(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,dk(s,e,void 0,t),t.currentTarget=null}function mv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&r.isPropagationStopped())break e;Tp(r,a,u),i=l}else for(o=0;o<s.length;o++){if(a=s[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&r.isPropagationStopped())break e;Tp(r,a,u),i=l}}}if(Ya)throw t=Mc,Ya=!1,Mc=null,t}function oe(t,e){var n=e[zc];n===void 0&&(n=e[zc]=new Set);var s=t+"__bubble";n.has(s)||(yv(e,t,2,!1),n.add(s))}function _u(t,e,n){var s=0;e&&(s|=4),yv(n,t,s,e)}var Jo="_reactListening"+Math.random().toString(36).slice(2);function Zi(t){if(!t[Jo]){t[Jo]=!0,S0.forEach(function(n){n!=="selectionchange"&&(pS.has(n)||_u(n,!1,t),_u(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jo]||(e[Jo]=!0,_u("selectionchange",!1,e))}}function yv(t,e,n,s){switch(ev(e)){case 1:var r=Pk;break;case 4:r=Ak;break;default:r=gd}n=r.bind(null,e,n,t),r=void 0,!jc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function ku(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Ss(a),o===null)return;if(l=o.tag,l===5||l===6){s=i=o;continue e}a=a.parentNode}}s=s.return}$0(function(){var u=i,c=hd(n),h=[];e:{var d=gv.get(t);if(d!==void 0){var f=yd,g=t;switch(t){case"keypress":if(Aa(n)===0)break e;case"keydown":case"keyup":f=Wk;break;case"focusin":g="focus",f=mu;break;case"focusout":g="blur",f=mu;break;case"beforeblur":case"afterblur":f=mu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=fp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=jk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=qk;break;case hv:case dv:case fv:f=Dk;break;case pv:f=Gk;break;case"scroll":f=Rk;break;case"wheel":f=Jk;break;case"copy":case"cut":case"paste":f=Lk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=gp}var y=(e&4)!==0,w=!y&&t==="scroll",p=y?d!==null?d+"Capture":null:d;y=[];for(var m=u,v;m!==null;){v=m;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,p!==null&&(b=qi(m,p),b!=null&&y.push(eo(m,b,v)))),w)break;m=m.return}0<y.length&&(d=new f(d,g,null,n,c),h.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==Rc&&(g=n.relatedTarget||n.fromElement)&&(Ss(g)||g[kn]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=u,g=g?Ss(g):null,g!==null&&(w=Hs(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=u),f!==g)){if(y=fp,b="onMouseLeave",p="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=gp,b="onPointerLeave",p="onPointerEnter",m="pointer"),w=f==null?d:fr(f),v=g==null?d:fr(g),d=new y(b,m+"leave",f,n,c),d.target=w,d.relatedTarget=v,b=null,Ss(c)===u&&(y=new y(p,m+"enter",g,n,c),y.target=v,y.relatedTarget=w,b=y),w=b,f&&g)t:{for(y=f,p=g,m=0,v=y;v;v=Gs(v))m++;for(v=0,b=p;b;b=Gs(b))v++;for(;0<m-v;)y=Gs(y),m--;for(;0<v-m;)p=Gs(p),v--;for(;m--;){if(y===p||p!==null&&y===p.alternate)break t;y=Gs(y),p=Gs(p)}y=null}else y=null;f!==null&&Ep(h,d,f,y,!1),g!==null&&w!==null&&Ep(h,w,g,y,!0)}}e:{if(d=u?fr(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var _=rS;else if(vp(d))if(ov)_=lS;else{_=oS;var S=iS}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(_=aS);if(_&&(_=_(t,u))){iv(h,_,n,c);break e}S&&S(t,d,u),t==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&Tc(d,"number",d.value)}switch(S=u?fr(u):window,t){case"focusin":(vp(S)||S.contentEditable==="true")&&(hr=S,Lc=u,Oi=null);break;case"focusout":Oi=Lc=hr=null;break;case"mousedown":Fc=!0;break;case"contextmenu":case"mouseup":case"dragend":Fc=!1,kp(h,n,c);break;case"selectionchange":if(hS)break;case"keydown":case"keyup":kp(h,n,c)}var k;if(wd)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else cr?sv(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(nv&&n.locale!=="ko"&&(cr||E!=="onCompositionStart"?E==="onCompositionEnd"&&cr&&(k=tv()):(Vn=c,md="value"in Vn?Vn.value:Vn.textContent,cr=!0)),S=Za(u,E),0<S.length&&(E=new pp(E,t,null,n,c),h.push({event:E,listeners:S}),k?E.data=k:(k=rv(n),k!==null&&(E.data=k)))),(k=Zk?eS(t,n):tS(t,n))&&(u=Za(u,"onBeforeInput"),0<u.length&&(c=new pp("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=k))}mv(h,e)})}function eo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Za(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=qi(t,n),i!=null&&s.unshift(eo(t,i,r)),i=qi(t,e),i!=null&&s.push(eo(t,i,r))),t=t.return}return s}function Gs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ep(t,e,n,s,r){for(var i=e._reactName,o=[];n!==null&&n!==s;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===s)break;a.tag===5&&u!==null&&(a=u,r?(l=qi(n,i),l!=null&&o.unshift(eo(n,l,a))):r||(l=qi(n,i),l!=null&&o.push(eo(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var gS=/\r\n?/g,mS=/\u0000|\uFFFD/g;function Cp(t){return(typeof t=="string"?t:""+t).replace(gS,`
`).replace(mS,"")}function Qo(t,e,n){if(e=Cp(e),Cp(t)!==e&&n)throw Error(R(425))}function el(){}var Vc=null,$c=null;function Bc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Uc=typeof setTimeout=="function"?setTimeout:void 0,yS=typeof clearTimeout=="function"?clearTimeout:void 0,Pp=typeof Promise=="function"?Promise:void 0,vS=typeof queueMicrotask=="function"?queueMicrotask:typeof Pp<"u"?function(t){return Pp.resolve(null).then(t).catch(wS)}:Uc;function wS(t){setTimeout(function(){throw t})}function Su(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),Xi(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);Xi(e)}function Yn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ap(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Gr=Math.random().toString(36).slice(2),on="__reactFiber$"+Gr,to="__reactProps$"+Gr,kn="__reactContainer$"+Gr,zc="__reactEvents$"+Gr,xS="__reactListeners$"+Gr,bS="__reactHandles$"+Gr;function Ss(t){var e=t[on];if(e)return e;for(var n=t.parentNode;n;){if(e=n[kn]||n[on]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ap(t);t!==null;){if(n=t[on])return n;t=Ap(t)}return e}t=n,n=t.parentNode}return null}function Ro(t){return t=t[on]||t[kn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function $l(t){return t[to]||null}var Wc=[],pr=-1;function as(t){return{current:t}}function le(t){0>pr||(t.current=Wc[pr],Wc[pr]=null,pr--)}function ie(t,e){pr++,Wc[pr]=t.current,t.current=e}var ns={},Ze=as(ns),ht=as(!1),Ls=ns;function Fr(t,e){var n=t.type.contextTypes;if(!n)return ns;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function dt(t){return t=t.childContextTypes,t!=null}function tl(){le(ht),le(Ze)}function Rp(t,e,n){if(Ze.current!==ns)throw Error(R(168));ie(Ze,e),ie(ht,n)}function vv(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(R(108,ik(t)||"Unknown",r));return ge({},n,s)}function nl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ns,Ls=Ze.current,ie(Ze,t),ie(ht,ht.current),!0}function Op(t,e,n){var s=t.stateNode;if(!s)throw Error(R(169));n?(t=vv(t,e,Ls),s.__reactInternalMemoizedMergedChildContext=t,le(ht),le(Ze),ie(Ze,t)):le(ht),ie(ht,n)}var mn=null,Bl=!1,Tu=!1;function wv(t){mn===null?mn=[t]:mn.push(t)}function _S(t){Bl=!0,wv(t)}function ls(){if(!Tu&&mn!==null){Tu=!0;var t=0,e=te;try{var n=mn;for(te=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}mn=null,Bl=!1}catch(r){throw mn!==null&&(mn=mn.slice(t+1)),W0(dd,ls),r}finally{te=e,Tu=!1}}return null}var gr=[],mr=0,sl=null,rl=0,Et=[],Ct=0,Fs=null,vn=1,wn="";function ys(t,e){gr[mr++]=rl,gr[mr++]=sl,sl=t,rl=e}function xv(t,e,n){Et[Ct++]=vn,Et[Ct++]=wn,Et[Ct++]=Fs,Fs=t;var s=vn;t=wn;var r=32-Gt(s)-1;s&=~(1<<r),n+=1;var i=32-Gt(e)+r;if(30<i){var o=r-r%5;i=(s&(1<<o)-1).toString(32),s>>=o,r-=o,vn=1<<32-Gt(e)+r|n<<r|s,wn=i+t}else vn=1<<i|n<<r|s,wn=t}function bd(t){t.return!==null&&(ys(t,1),xv(t,1,0))}function _d(t){for(;t===sl;)sl=gr[--mr],gr[mr]=null,rl=gr[--mr],gr[mr]=null;for(;t===Fs;)Fs=Et[--Ct],Et[Ct]=null,wn=Et[--Ct],Et[Ct]=null,vn=Et[--Ct],Et[Ct]=null}var wt=null,vt=null,ue=!1,Yt=null;function bv(t,e){var n=Pt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function jp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wt=t,vt=Yn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wt=t,vt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Fs!==null?{id:vn,overflow:wn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wt=t,vt=null,!0):!1;default:return!1}}function Hc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kc(t){if(ue){var e=vt;if(e){var n=e;if(!jp(t,e)){if(Hc(t))throw Error(R(418));e=Yn(n.nextSibling);var s=wt;e&&jp(t,e)?bv(s,n):(t.flags=t.flags&-4097|2,ue=!1,wt=t)}}else{if(Hc(t))throw Error(R(418));t.flags=t.flags&-4097|2,ue=!1,wt=t}}}function Mp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wt=t}function Zo(t){if(t!==wt)return!1;if(!ue)return Mp(t),ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Bc(t.type,t.memoizedProps)),e&&(e=vt)){if(Hc(t))throw _v(),Error(R(418));for(;e;)bv(t,e),e=Yn(e.nextSibling)}if(Mp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vt=Yn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vt=null}}else vt=wt?Yn(t.stateNode.nextSibling):null;return!0}function _v(){for(var t=vt;t;)t=Yn(t.nextSibling)}function Vr(){vt=wt=null,ue=!1}function kd(t){Yt===null?Yt=[t]:Yt.push(t)}var kS=Pn.ReactCurrentBatchConfig;function ai(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var s=n.stateNode}if(!s)throw Error(R(147,t));var r=s,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=r.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,t))}return t}function ea(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ip(t){var e=t._init;return e(t._payload)}function kv(t){function e(p,m){if(t){var v=p.deletions;v===null?(p.deletions=[m],p.flags|=16):v.push(m)}}function n(p,m){if(!t)return null;for(;m!==null;)e(p,m),m=m.sibling;return null}function s(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function r(p,m){return p=Qn(p,m),p.index=0,p.sibling=null,p}function i(p,m,v){return p.index=v,t?(v=p.alternate,v!==null?(v=v.index,v<m?(p.flags|=2,m):v):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,m,v,b){return m===null||m.tag!==6?(m=ju(v,p.mode,b),m.return=p,m):(m=r(m,v),m.return=p,m)}function l(p,m,v,b){var _=v.type;return _===ur?c(p,m,v.props.children,b,v.key):m!==null&&(m.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Mn&&Ip(_)===m.type)?(b=r(m,v.props),b.ref=ai(p,m,v),b.return=p,b):(b=Na(v.type,v.key,v.props,null,p.mode,b),b.ref=ai(p,m,v),b.return=p,b)}function u(p,m,v,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=Mu(v,p.mode,b),m.return=p,m):(m=r(m,v.children||[]),m.return=p,m)}function c(p,m,v,b,_){return m===null||m.tag!==7?(m=js(v,p.mode,b,_),m.return=p,m):(m=r(m,v),m.return=p,m)}function h(p,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ju(""+m,p.mode,v),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case zo:return v=Na(m.type,m.key,m.props,null,p.mode,v),v.ref=ai(p,null,m),v.return=p,v;case lr:return m=Mu(m,p.mode,v),m.return=p,m;case Mn:var b=m._init;return h(p,b(m._payload),v)}if(yi(m)||ni(m))return m=js(m,p.mode,v,null),m.return=p,m;ea(p,m)}return null}function d(p,m,v,b){var _=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return _!==null?null:a(p,m,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case zo:return v.key===_?l(p,m,v,b):null;case lr:return v.key===_?u(p,m,v,b):null;case Mn:return _=v._init,d(p,m,_(v._payload),b)}if(yi(v)||ni(v))return _!==null?null:c(p,m,v,b,null);ea(p,v)}return null}function f(p,m,v,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(v)||null,a(m,p,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zo:return p=p.get(b.key===null?v:b.key)||null,l(m,p,b,_);case lr:return p=p.get(b.key===null?v:b.key)||null,u(m,p,b,_);case Mn:var S=b._init;return f(p,m,v,S(b._payload),_)}if(yi(b)||ni(b))return p=p.get(v)||null,c(m,p,b,_,null);ea(m,b)}return null}function g(p,m,v,b){for(var _=null,S=null,k=m,E=m=0,P=null;k!==null&&E<v.length;E++){k.index>E?(P=k,k=null):P=k.sibling;var C=d(p,k,v[E],b);if(C===null){k===null&&(k=P);break}t&&k&&C.alternate===null&&e(p,k),m=i(C,m,E),S===null?_=C:S.sibling=C,S=C,k=P}if(E===v.length)return n(p,k),ue&&ys(p,E),_;if(k===null){for(;E<v.length;E++)k=h(p,v[E],b),k!==null&&(m=i(k,m,E),S===null?_=k:S.sibling=k,S=k);return ue&&ys(p,E),_}for(k=s(p,k);E<v.length;E++)P=f(k,p,E,v[E],b),P!==null&&(t&&P.alternate!==null&&k.delete(P.key===null?E:P.key),m=i(P,m,E),S===null?_=P:S.sibling=P,S=P);return t&&k.forEach(function(j){return e(p,j)}),ue&&ys(p,E),_}function y(p,m,v,b){var _=ni(v);if(typeof _!="function")throw Error(R(150));if(v=_.call(v),v==null)throw Error(R(151));for(var S=_=null,k=m,E=m=0,P=null,C=v.next();k!==null&&!C.done;E++,C=v.next()){k.index>E?(P=k,k=null):P=k.sibling;var j=d(p,k,C.value,b);if(j===null){k===null&&(k=P);break}t&&k&&j.alternate===null&&e(p,k),m=i(j,m,E),S===null?_=j:S.sibling=j,S=j,k=P}if(C.done)return n(p,k),ue&&ys(p,E),_;if(k===null){for(;!C.done;E++,C=v.next())C=h(p,C.value,b),C!==null&&(m=i(C,m,E),S===null?_=C:S.sibling=C,S=C);return ue&&ys(p,E),_}for(k=s(p,k);!C.done;E++,C=v.next())C=f(k,p,E,C.value,b),C!==null&&(t&&C.alternate!==null&&k.delete(C.key===null?E:C.key),m=i(C,m,E),S===null?_=C:S.sibling=C,S=C);return t&&k.forEach(function(L){return e(p,L)}),ue&&ys(p,E),_}function w(p,m,v,b){if(typeof v=="object"&&v!==null&&v.type===ur&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case zo:e:{for(var _=v.key,S=m;S!==null;){if(S.key===_){if(_=v.type,_===ur){if(S.tag===7){n(p,S.sibling),m=r(S,v.props.children),m.return=p,p=m;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Mn&&Ip(_)===S.type){n(p,S.sibling),m=r(S,v.props),m.ref=ai(p,S,v),m.return=p,p=m;break e}n(p,S);break}else e(p,S);S=S.sibling}v.type===ur?(m=js(v.props.children,p.mode,b,v.key),m.return=p,p=m):(b=Na(v.type,v.key,v.props,null,p.mode,b),b.ref=ai(p,m,v),b.return=p,p=b)}return o(p);case lr:e:{for(S=v.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(p,m.sibling),m=r(m,v.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else e(p,m);m=m.sibling}m=Mu(v,p.mode,b),m.return=p,p=m}return o(p);case Mn:return S=v._init,w(p,m,S(v._payload),b)}if(yi(v))return g(p,m,v,b);if(ni(v))return y(p,m,v,b);ea(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(p,m.sibling),m=r(m,v),m.return=p,p=m):(n(p,m),m=ju(v,p.mode,b),m.return=p,p=m),o(p)):n(p,m)}return w}var $r=kv(!0),Sv=kv(!1),il=as(null),ol=null,yr=null,Sd=null;function Td(){Sd=yr=ol=null}function Ed(t){var e=il.current;le(il),t._currentValue=e}function qc(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Rr(t,e){ol=t,Sd=yr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(lt=!0),t.firstContext=null)}function Mt(t){var e=t._currentValue;if(Sd!==t)if(t={context:t,memoizedValue:e,next:null},yr===null){if(ol===null)throw Error(R(308));yr=t,ol.dependencies={lanes:0,firstContext:t}}else yr=yr.next=t;return e}var Ts=null;function Cd(t){Ts===null?Ts=[t]:Ts.push(t)}function Tv(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,Cd(e)):(n.next=r.next,r.next=n),e.interleaved=n,Sn(t,s)}function Sn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var In=!1;function Pd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ev(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gn(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,X&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,Sn(t,n)}return r=s.interleaved,r===null?(e.next=e,Cd(s)):(e.next=r.next,r.next=e),s.interleaved=e,Sn(t,n)}function Ra(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,fd(t,n)}}function Dp(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function al(t,e,n,s){var r=t.updateQueue;In=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=r.baseState;o=0,c=u=l=null,a=i;do{var d=a.lane,f=a.eventTime;if((s&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,y=a;switch(d=e,f=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(f,h,d);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,d=typeof g=="function"?g.call(f,h,d):g,d==null)break e;h=ge({},h,d);break e;case 2:In=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=r.effects,d===null?r.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;d=a,a=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(!0);if(c===null&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);$s|=o,t.lanes=o,t.memoizedState=h}}function Np(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(R(191,r));r.call(s)}}}var Oo={},ln=as(Oo),no=as(Oo),so=as(Oo);function Es(t){if(t===Oo)throw Error(R(174));return t}function Ad(t,e){switch(ie(so,e),ie(no,t),ie(ln,Oo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Cc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Cc(e,t)}le(ln),ie(ln,e)}function Br(){le(ln),le(no),le(so)}function Cv(t){Es(so.current);var e=Es(ln.current),n=Cc(e,t.type);e!==n&&(ie(no,t),ie(ln,n))}function Rd(t){no.current===t&&(le(ln),le(no))}var de=as(0);function ll(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Eu=[];function Od(){for(var t=0;t<Eu.length;t++)Eu[t]._workInProgressVersionPrimary=null;Eu.length=0}var Oa=Pn.ReactCurrentDispatcher,Cu=Pn.ReactCurrentBatchConfig,Vs=0,pe=null,je=null,Le=null,ul=!1,ji=!1,ro=0,SS=0;function qe(){throw Error(R(321))}function jd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Jt(t[n],e[n]))return!1;return!0}function Md(t,e,n,s,r,i){if(Vs=i,pe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Oa.current=t===null||t.memoizedState===null?PS:AS,t=n(s,r),ji){i=0;do{if(ji=!1,ro=0,25<=i)throw Error(R(301));i+=1,Le=je=null,e.updateQueue=null,Oa.current=RS,t=n(s,r)}while(ji)}if(Oa.current=cl,e=je!==null&&je.next!==null,Vs=0,Le=je=pe=null,ul=!1,e)throw Error(R(300));return t}function Id(){var t=ro!==0;return ro=0,t}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?pe.memoizedState=Le=t:Le=Le.next=t,Le}function It(){if(je===null){var t=pe.alternate;t=t!==null?t.memoizedState:null}else t=je.next;var e=Le===null?pe.memoizedState:Le.next;if(e!==null)Le=e,je=t;else{if(t===null)throw Error(R(310));je=t,t={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Le===null?pe.memoizedState=Le=t:Le=Le.next=t}return Le}function io(t,e){return typeof e=="function"?e(t):e}function Pu(t){var e=It(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var s=je,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((Vs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=s):l=l.next=h,pe.lanes|=c,$s|=c}u=u.next}while(u!==null&&u!==i);l===null?o=s:l.next=a,Jt(s,e.memoizedState)||(lt=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=l,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do i=r.lane,pe.lanes|=i,$s|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Au(t){var e=It(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do i=t(i,o.action),o=o.next;while(o!==r);Jt(i,e.memoizedState)||(lt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function Pv(){}function Av(t,e){var n=pe,s=It(),r=e(),i=!Jt(s.memoizedState,r);if(i&&(s.memoizedState=r,lt=!0),s=s.queue,Dd(jv.bind(null,n,s,t),[t]),s.getSnapshot!==e||i||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,oo(9,Ov.bind(null,n,s,r,e),void 0,null),Fe===null)throw Error(R(349));Vs&30||Rv(n,e,r)}return r}function Rv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ov(t,e,n,s){e.value=n,e.getSnapshot=s,Mv(e)&&Iv(t)}function jv(t,e,n){return n(function(){Mv(e)&&Iv(t)})}function Mv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jt(t,n)}catch{return!0}}function Iv(t){var e=Sn(t,1);e!==null&&Xt(e,t,1,-1)}function Lp(t){var e=nn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:io,lastRenderedState:t},e.queue=t,t=t.dispatch=CS.bind(null,pe,t),[e.memoizedState,t]}function oo(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function Dv(){return It().memoizedState}function ja(t,e,n,s){var r=nn();pe.flags|=t,r.memoizedState=oo(1|e,n,void 0,s===void 0?null:s)}function Ul(t,e,n,s){var r=It();s=s===void 0?null:s;var i=void 0;if(je!==null){var o=je.memoizedState;if(i=o.destroy,s!==null&&jd(s,o.deps)){r.memoizedState=oo(e,n,i,s);return}}pe.flags|=t,r.memoizedState=oo(1|e,n,i,s)}function Fp(t,e){return ja(8390656,8,t,e)}function Dd(t,e){return Ul(2048,8,t,e)}function Nv(t,e){return Ul(4,2,t,e)}function Lv(t,e){return Ul(4,4,t,e)}function Fv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Vv(t,e,n){return n=n!=null?n.concat([t]):null,Ul(4,4,Fv.bind(null,e,t),n)}function Nd(){}function $v(t,e){var n=It();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&jd(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function Bv(t,e){var n=It();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&jd(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function Uv(t,e,n){return Vs&21?(Jt(n,e)||(n=q0(),pe.lanes|=n,$s|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,lt=!0),t.memoizedState=n)}function TS(t,e){var n=te;te=n!==0&&4>n?n:4,t(!0);var s=Cu.transition;Cu.transition={};try{t(!1),e()}finally{te=n,Cu.transition=s}}function zv(){return It().memoizedState}function ES(t,e,n){var s=Jn(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Wv(t))Hv(e,n);else if(n=Tv(t,e,n,s),n!==null){var r=nt();Xt(n,t,s,r),Kv(n,e,s)}}function CS(t,e,n){var s=Jn(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wv(t))Hv(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(r.hasEagerState=!0,r.eagerState=a,Jt(a,o)){var l=e.interleaved;l===null?(r.next=r,Cd(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=Tv(t,e,r,s),n!==null&&(r=nt(),Xt(n,t,s,r),Kv(n,e,s))}}function Wv(t){var e=t.alternate;return t===pe||e!==null&&e===pe}function Hv(t,e){ji=ul=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Kv(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,fd(t,n)}}var cl={readContext:Mt,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useInsertionEffect:qe,useLayoutEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useMutableSource:qe,useSyncExternalStore:qe,useId:qe,unstable_isNewReconciler:!1},PS={readContext:Mt,useCallback:function(t,e){return nn().memoizedState=[t,e===void 0?null:e],t},useContext:Mt,useEffect:Fp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ja(4194308,4,Fv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ja(4194308,4,t,e)},useInsertionEffect:function(t,e){return ja(4,2,t,e)},useMemo:function(t,e){var n=nn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=nn();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=ES.bind(null,pe,t),[s.memoizedState,t]},useRef:function(t){var e=nn();return t={current:t},e.memoizedState=t},useState:Lp,useDebugValue:Nd,useDeferredValue:function(t){return nn().memoizedState=t},useTransition:function(){var t=Lp(!1),e=t[0];return t=TS.bind(null,t[1]),nn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=pe,r=nn();if(ue){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),Fe===null)throw Error(R(349));Vs&30||Rv(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,Fp(jv.bind(null,s,i,t),[t]),s.flags|=2048,oo(9,Ov.bind(null,s,i,n,e),void 0,null),n},useId:function(){var t=nn(),e=Fe.identifierPrefix;if(ue){var n=wn,s=vn;n=(s&~(1<<32-Gt(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=ro++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=SS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AS={readContext:Mt,useCallback:$v,useContext:Mt,useEffect:Dd,useImperativeHandle:Vv,useInsertionEffect:Nv,useLayoutEffect:Lv,useMemo:Bv,useReducer:Pu,useRef:Dv,useState:function(){return Pu(io)},useDebugValue:Nd,useDeferredValue:function(t){var e=It();return Uv(e,je.memoizedState,t)},useTransition:function(){var t=Pu(io)[0],e=It().memoizedState;return[t,e]},useMutableSource:Pv,useSyncExternalStore:Av,useId:zv,unstable_isNewReconciler:!1},RS={readContext:Mt,useCallback:$v,useContext:Mt,useEffect:Dd,useImperativeHandle:Vv,useInsertionEffect:Nv,useLayoutEffect:Lv,useMemo:Bv,useReducer:Au,useRef:Dv,useState:function(){return Au(io)},useDebugValue:Nd,useDeferredValue:function(t){var e=It();return je===null?e.memoizedState=t:Uv(e,je.memoizedState,t)},useTransition:function(){var t=Au(io)[0],e=It().memoizedState;return[t,e]},useMutableSource:Pv,useSyncExternalStore:Av,useId:zv,unstable_isNewReconciler:!1};function Wt(t,e){if(t&&t.defaultProps){e=ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Yc(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zl={isMounted:function(t){return(t=t._reactInternals)?Hs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=nt(),r=Jn(t),i=bn(s,r);i.payload=e,n!=null&&(i.callback=n),e=Gn(t,i,r),e!==null&&(Xt(e,t,r,s),Ra(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=nt(),r=Jn(t),i=bn(s,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Gn(t,i,r),e!==null&&(Xt(e,t,r,s),Ra(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nt(),s=Jn(t),r=bn(n,s);r.tag=2,e!=null&&(r.callback=e),e=Gn(t,r,s),e!==null&&(Xt(e,t,s,n),Ra(e,t,s))}};function Vp(t,e,n,s,r,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,o):e.prototype&&e.prototype.isPureReactComponent?!Qi(n,s)||!Qi(r,i):!0}function qv(t,e,n){var s=!1,r=ns,i=e.contextType;return typeof i=="object"&&i!==null?i=Mt(i):(r=dt(e)?Ls:Ze.current,s=e.contextTypes,i=(s=s!=null)?Fr(t,r):ns),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zl,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function $p(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&zl.enqueueReplaceState(e,e.state,null)}function Gc(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Pd(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=Mt(i):(i=dt(e)?Ls:Ze.current,r.context=Fr(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Yc(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&zl.enqueueReplaceState(r,r.state,null),al(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Ur(t,e){try{var n="",s=e;do n+=rk(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function Ru(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var OS=typeof WeakMap=="function"?WeakMap:Map;function Yv(t,e,n){n=bn(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){dl||(dl=!0,oh=s),Xc(t,e)},n}function Gv(t,e,n){n=bn(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){Xc(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Xc(t,e),typeof s!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Bp(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new OS;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=HS.bind(null,t,e,n),e.then(t,t))}function Up(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function zp(t,e,n,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=bn(-1,1),e.tag=2,Gn(n,e,1))),n.lanes|=1),t)}var jS=Pn.ReactCurrentOwner,lt=!1;function et(t,e,n,s){e.child=t===null?Sv(e,null,n,s):$r(e,t.child,n,s)}function Wp(t,e,n,s,r){n=n.render;var i=e.ref;return Rr(e,r),s=Md(t,e,n,s,i,r),n=Id(),t!==null&&!lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Tn(t,e,r)):(ue&&n&&bd(e),e.flags|=1,et(t,e,s,r),e.child)}function Hp(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!Wd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Xv(t,e,i,s,r)):(t=Na(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Qi,n(o,s)&&t.ref===e.ref)return Tn(t,e,r)}return e.flags|=1,t=Qn(i,s),t.ref=e.ref,t.return=e,e.child=t}function Xv(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(Qi(i,s)&&t.ref===e.ref)if(lt=!1,e.pendingProps=s=i,(t.lanes&r)!==0)t.flags&131072&&(lt=!0);else return e.lanes=t.lanes,Tn(t,e,r)}return Jc(t,e,n,s,r)}function Jv(t,e,n){var s=e.pendingProps,r=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(wr,gt),gt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ie(wr,gt),gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,ie(wr,gt),gt|=s}else i!==null?(s=i.baseLanes|n,e.memoizedState=null):s=n,ie(wr,gt),gt|=s;return et(t,e,r,n),e.child}function Qv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Jc(t,e,n,s,r){var i=dt(n)?Ls:Ze.current;return i=Fr(e,i),Rr(e,r),n=Md(t,e,n,s,i,r),s=Id(),t!==null&&!lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Tn(t,e,r)):(ue&&s&&bd(e),e.flags|=1,et(t,e,n,r),e.child)}function Kp(t,e,n,s,r){if(dt(n)){var i=!0;nl(e)}else i=!1;if(Rr(e,r),e.stateNode===null)Ma(t,e),qv(e,n,s),Gc(e,n,s,r),s=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Mt(u):(u=dt(n)?Ls:Ze.current,u=Fr(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||l!==u)&&$p(e,o,s,u),In=!1;var d=e.memoizedState;o.state=d,al(e,s,o,r),l=e.memoizedState,a!==s||d!==l||ht.current||In?(typeof c=="function"&&(Yc(e,n,c,s),l=e.memoizedState),(a=In||Vp(e,n,a,s,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),o.props=s,o.state=l,o.context=u,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,Ev(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Wt(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Mt(l):(l=dt(n)?Ls:Ze.current,l=Fr(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&$p(e,o,s,l),In=!1,d=e.memoizedState,o.state=d,al(e,s,o,r);var g=e.memoizedState;a!==h||d!==g||ht.current||In?(typeof f=="function"&&(Yc(e,n,f,s),g=e.memoizedState),(u=In||Vp(e,n,u,s,d,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=g),o.props=s,o.state=g,o.context=l,s=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),s=!1)}return Qc(t,e,n,s,i,r)}function Qc(t,e,n,s,r,i){Qv(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return r&&Op(e,n,!1),Tn(t,e,i);s=e.stateNode,jS.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=$r(e,t.child,null,i),e.child=$r(e,null,a,i)):et(t,e,a,i),e.memoizedState=s.state,r&&Op(e,n,!0),e.child}function Zv(t){var e=t.stateNode;e.pendingContext?Rp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Rp(t,e.context,!1),Ad(t,e.containerInfo)}function qp(t,e,n,s,r){return Vr(),kd(r),e.flags|=256,et(t,e,n,s),e.child}var Zc={dehydrated:null,treeContext:null,retryLane:0};function eh(t){return{baseLanes:t,cachePool:null,transitions:null}}function ew(t,e,n){var s=e.pendingProps,r=de.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),ie(de,r&1),t===null)return Kc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,i?(s=e.mode,i=e.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Kl(o,s,0,null),t=js(t,s,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=eh(n),e.memoizedState=Zc,t):Ld(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return MS(t,e,o,s,a,r,n);if(i){i=s.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:s.children};return!(o&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=l,e.deletions=null):(s=Qn(r,l),s.subtreeFlags=r.subtreeFlags&14680064),a!==null?i=Qn(a,i):(i=js(i,o,n,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,o=t.child.memoizedState,o=o===null?eh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Zc,s}return i=t.child,t=i.sibling,s=Qn(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function Ld(t,e){return e=Kl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ta(t,e,n,s){return s!==null&&kd(s),$r(e,t.child,null,n),t=Ld(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function MS(t,e,n,s,r,i,o){if(n)return e.flags&256?(e.flags&=-257,s=Ru(Error(R(422))),ta(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=s.fallback,r=e.mode,s=Kl({mode:"visible",children:s.children},r,0,null),i=js(i,r,o,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&$r(e,t.child,null,o),e.child.memoizedState=eh(o),e.memoizedState=Zc,i);if(!(e.mode&1))return ta(t,e,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var a=s.dgst;return s=a,i=Error(R(419)),s=Ru(i,s,void 0),ta(t,e,o,s)}if(a=(o&t.childLanes)!==0,lt||a){if(s=Fe,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,Sn(t,r),Xt(s,t,r,-1))}return zd(),s=Ru(Error(R(421))),ta(t,e,o,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=KS.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,vt=Yn(r.nextSibling),wt=e,ue=!0,Yt=null,t!==null&&(Et[Ct++]=vn,Et[Ct++]=wn,Et[Ct++]=Fs,vn=t.id,wn=t.overflow,Fs=e),e=Ld(e,s.children),e.flags|=4096,e)}function Yp(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),qc(t.return,e,n)}function Ou(t,e,n,s,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function tw(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(et(t,e,s.children,n),s=de.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yp(t,n,e);else if(t.tag===19)Yp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(ie(de,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&ll(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Ou(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&ll(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Ou(e,!0,n,null,i);break;case"together":Ou(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ma(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Tn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$s|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=Qn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function IS(t,e,n){switch(e.tag){case 3:Zv(e),Vr();break;case 5:Cv(e);break;case 1:dt(e.type)&&nl(e);break;case 4:Ad(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;ie(il,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(ie(de,de.current&1),e.flags|=128,null):n&e.child.childLanes?ew(t,e,n):(ie(de,de.current&1),t=Tn(t,e,n),t!==null?t.sibling:null);ie(de,de.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return tw(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ie(de,de.current),s)break;return null;case 22:case 23:return e.lanes=0,Jv(t,e,n)}return Tn(t,e,n)}var nw,th,sw,rw;nw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};th=function(){};sw=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,Es(ln.current);var i=null;switch(n){case"input":r=kc(t,r),s=kc(t,s),i=[];break;case"select":r=ge({},r,{value:void 0}),s=ge({},s,{value:void 0}),i=[];break;case"textarea":r=Ec(t,r),s=Ec(t,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=el)}Pc(n,s);var o;n=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hi.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var l=s[u];if(a=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hi.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&oe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};rw=function(t,e,n,s){n!==s&&(e.flags|=4)};function li(t,e){if(!ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Ye(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function DS(t,e,n){var s=e.pendingProps;switch(_d(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(e),null;case 1:return dt(e.type)&&tl(),Ye(e),null;case 3:return s=e.stateNode,Br(),le(ht),le(Ze),Od(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Zo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yt!==null&&(uh(Yt),Yt=null))),th(t,e),Ye(e),null;case 5:Rd(e);var r=Es(so.current);if(n=e.type,t!==null&&e.stateNode!=null)sw(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(R(166));return Ye(e),null}if(t=Es(ln.current),Zo(e)){s=e.stateNode,n=e.type;var i=e.memoizedProps;switch(s[on]=e,s[to]=i,t=(e.mode&1)!==0,n){case"dialog":oe("cancel",s),oe("close",s);break;case"iframe":case"object":case"embed":oe("load",s);break;case"video":case"audio":for(r=0;r<wi.length;r++)oe(wi[r],s);break;case"source":oe("error",s);break;case"img":case"image":case"link":oe("error",s),oe("load",s);break;case"details":oe("toggle",s);break;case"input":sp(s,i),oe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},oe("invalid",s);break;case"textarea":ip(s,i),oe("invalid",s)}Pc(n,i),r=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?s.textContent!==a&&(i.suppressHydrationWarning!==!0&&Qo(s.textContent,a,t),r=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Qo(s.textContent,a,t),r=["children",""+a]):Hi.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&oe("scroll",s)}switch(n){case"input":Wo(s),rp(s,i,!0);break;case"textarea":Wo(s),op(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=el)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=j0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[on]=e,t[to]=s,nw(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ac(n,s),n){case"dialog":oe("cancel",t),oe("close",t),r=s;break;case"iframe":case"object":case"embed":oe("load",t),r=s;break;case"video":case"audio":for(r=0;r<wi.length;r++)oe(wi[r],t);r=s;break;case"source":oe("error",t),r=s;break;case"img":case"image":case"link":oe("error",t),oe("load",t),r=s;break;case"details":oe("toggle",t),r=s;break;case"input":sp(t,s),r=kc(t,s),oe("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=ge({},s,{value:void 0}),oe("invalid",t);break;case"textarea":ip(t,s),r=Ec(t,s),oe("invalid",t);break;default:r=s}Pc(n,r),a=r;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?D0(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&M0(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ki(t,l):typeof l=="number"&&Ki(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Hi.hasOwnProperty(i)?l!=null&&i==="onScroll"&&oe("scroll",t):l!=null&&ad(t,i,l,o))}switch(n){case"input":Wo(t),rp(t,s,!1);break;case"textarea":Wo(t),op(t);break;case"option":s.value!=null&&t.setAttribute("value",""+ts(s.value));break;case"select":t.multiple=!!s.multiple,i=s.value,i!=null?Er(t,!!s.multiple,i,!1):s.defaultValue!=null&&Er(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=el)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ye(e),null;case 6:if(t&&e.stateNode!=null)rw(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(R(166));if(n=Es(so.current),Es(ln.current),Zo(e)){if(s=e.stateNode,n=e.memoizedProps,s[on]=e,(i=s.nodeValue!==n)&&(t=wt,t!==null))switch(t.tag){case 3:Qo(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qo(s.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[on]=e,e.stateNode=s}return Ye(e),null;case 13:if(le(de),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ue&&vt!==null&&e.mode&1&&!(e.flags&128))_v(),Vr(),e.flags|=98560,i=!1;else if(i=Zo(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(R(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[on]=e}else Vr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ye(e),i=!1}else Yt!==null&&(uh(Yt),Yt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||de.current&1?Ie===0&&(Ie=3):zd())),e.updateQueue!==null&&(e.flags|=4),Ye(e),null);case 4:return Br(),th(t,e),t===null&&Zi(e.stateNode.containerInfo),Ye(e),null;case 10:return Ed(e.type._context),Ye(e),null;case 17:return dt(e.type)&&tl(),Ye(e),null;case 19:if(le(de),i=e.memoizedState,i===null)return Ye(e),null;if(s=(e.flags&128)!==0,o=i.rendering,o===null)if(s)li(i,!1);else{if(Ie!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ll(t),o!==null){for(e.flags|=128,li(i,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)i=n,t=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ie(de,de.current&1|2),e.child}t=t.sibling}i.tail!==null&&_e()>zr&&(e.flags|=128,s=!0,li(i,!1),e.lanes=4194304)}else{if(!s)if(t=ll(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),li(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ue)return Ye(e),null}else 2*_e()-i.renderingStartTime>zr&&n!==1073741824&&(e.flags|=128,s=!0,li(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=_e(),e.sibling=null,n=de.current,ie(de,s?n&1|2:n&1),e):(Ye(e),null);case 22:case 23:return Ud(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?gt&1073741824&&(Ye(e),e.subtreeFlags&6&&(e.flags|=8192)):Ye(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function NS(t,e){switch(_d(e),e.tag){case 1:return dt(e.type)&&tl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Br(),le(ht),le(Ze),Od(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Rd(e),null;case 13:if(le(de),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));Vr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return le(de),null;case 4:return Br(),null;case 10:return Ed(e.type._context),null;case 22:case 23:return Ud(),null;case 24:return null;default:return null}}var na=!1,Xe=!1,LS=typeof WeakSet=="function"?WeakSet:Set,I=null;function vr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){xe(t,e,s)}else n.current=null}function nh(t,e,n){try{n()}catch(s){xe(t,e,s)}}var Gp=!1;function FS(t,e){if(Vc=Ja,t=uv(),xd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||r!==0&&h.nodeType!==3||(a=o+r),h!==i||s!==0&&h.nodeType!==3||(l=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===r&&(a=o),d===i&&++c===s&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for($c={focusedElem:t,selectionRange:n},Ja=!1,I=e;I!==null;)if(e=I,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,I=t;else for(;I!==null;){e=I;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,w=g.memoizedState,p=e.stateNode,m=p.getSnapshotBeforeUpdate(e.elementType===e.type?y:Wt(e.type,y),w);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(b){xe(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,I=t;break}I=e.return}return g=Gp,Gp=!1,g}function Mi(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&nh(e,n,i)}r=r.next}while(r!==s)}}function Wl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function sh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function iw(t){var e=t.alternate;e!==null&&(t.alternate=null,iw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[on],delete e[to],delete e[zc],delete e[xS],delete e[bS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ow(t){return t.tag===5||t.tag===3||t.tag===4}function Xp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ow(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rh(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=el));else if(s!==4&&(t=t.child,t!==null))for(rh(t,e,n),t=t.sibling;t!==null;)rh(t,e,n),t=t.sibling}function ih(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(ih(t,e,n),t=t.sibling;t!==null;)ih(t,e,n),t=t.sibling}var Ue=null,Kt=!1;function Rn(t,e,n){for(n=n.child;n!==null;)aw(t,e,n),n=n.sibling}function aw(t,e,n){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Nl,n)}catch{}switch(n.tag){case 5:Xe||vr(n,e);case 6:var s=Ue,r=Kt;Ue=null,Rn(t,e,n),Ue=s,Kt=r,Ue!==null&&(Kt?(t=Ue,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ue.removeChild(n.stateNode));break;case 18:Ue!==null&&(Kt?(t=Ue,n=n.stateNode,t.nodeType===8?Su(t.parentNode,n):t.nodeType===1&&Su(t,n),Xi(t)):Su(Ue,n.stateNode));break;case 4:s=Ue,r=Kt,Ue=n.stateNode.containerInfo,Kt=!0,Rn(t,e,n),Ue=s,Kt=r;break;case 0:case 11:case 14:case 15:if(!Xe&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&nh(n,e,o),r=r.next}while(r!==s)}Rn(t,e,n);break;case 1:if(!Xe&&(vr(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){xe(n,e,a)}Rn(t,e,n);break;case 21:Rn(t,e,n);break;case 22:n.mode&1?(Xe=(s=Xe)||n.memoizedState!==null,Rn(t,e,n),Xe=s):Rn(t,e,n);break;default:Rn(t,e,n)}}function Jp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new LS),e.forEach(function(s){var r=qS.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function $t(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ue=a.stateNode,Kt=!1;break e;case 3:Ue=a.stateNode.containerInfo,Kt=!0;break e;case 4:Ue=a.stateNode.containerInfo,Kt=!0;break e}a=a.return}if(Ue===null)throw Error(R(160));aw(i,o,r),Ue=null,Kt=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){xe(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lw(e,t),e=e.sibling}function lw(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($t(e,t),Zt(t),s&4){try{Mi(3,t,t.return),Wl(3,t)}catch(y){xe(t,t.return,y)}try{Mi(5,t,t.return)}catch(y){xe(t,t.return,y)}}break;case 1:$t(e,t),Zt(t),s&512&&n!==null&&vr(n,n.return);break;case 5:if($t(e,t),Zt(t),s&512&&n!==null&&vr(n,n.return),t.flags&32){var r=t.stateNode;try{Ki(r,"")}catch(y){xe(t,t.return,y)}}if(s&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&R0(r,i),Ac(a,o);var u=Ac(a,i);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?D0(r,h):c==="dangerouslySetInnerHTML"?M0(r,h):c==="children"?Ki(r,h):ad(r,c,h,u)}switch(a){case"input":Sc(r,i);break;case"textarea":O0(r,i);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Er(r,!!i.multiple,f,!1):d!==!!i.multiple&&(i.defaultValue!=null?Er(r,!!i.multiple,i.defaultValue,!0):Er(r,!!i.multiple,i.multiple?[]:"",!1))}r[to]=i}catch(y){xe(t,t.return,y)}}break;case 6:if($t(e,t),Zt(t),s&4){if(t.stateNode===null)throw Error(R(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(y){xe(t,t.return,y)}}break;case 3:if($t(e,t),Zt(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Xi(e.containerInfo)}catch(y){xe(t,t.return,y)}break;case 4:$t(e,t),Zt(t);break;case 13:$t(e,t),Zt(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||($d=_e())),s&4&&Jp(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Xe=(u=Xe)||c,$t(e,t),Xe=u):$t(e,t),Zt(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(I=t,c=t.child;c!==null;){for(h=I=c;I!==null;){switch(d=I,f=d.child,d.tag){case 0:case 11:case 14:case 15:Mi(4,d,d.return);break;case 1:vr(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){s=d,n=d.return;try{e=s,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){xe(s,n,y)}}break;case 5:vr(d,d.return);break;case 22:if(d.memoizedState!==null){Zp(h);continue}}f!==null?(f.return=d,I=f):Zp(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{r=h.stateNode,u?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=I0("display",o))}catch(y){xe(t,t.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){xe(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:$t(e,t),Zt(t),s&4&&Jp(t);break;case 21:break;default:$t(e,t),Zt(t)}}function Zt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ow(n)){var s=n;break e}n=n.return}throw Error(R(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(Ki(r,""),s.flags&=-33);var i=Xp(t);ih(t,i,r);break;case 3:case 4:var o=s.stateNode.containerInfo,a=Xp(t);rh(t,a,o);break;default:throw Error(R(161))}}catch(l){xe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function VS(t,e,n){I=t,uw(t)}function uw(t,e,n){for(var s=(t.mode&1)!==0;I!==null;){var r=I,i=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||na;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Xe;a=na;var u=Xe;if(na=o,(Xe=l)&&!u)for(I=r;I!==null;)o=I,l=o.child,o.tag===22&&o.memoizedState!==null?eg(r):l!==null?(l.return=o,I=l):eg(r);for(;i!==null;)I=i,uw(i),i=i.sibling;I=r,na=a,Xe=u}Qp(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,I=i):Qp(t)}}function Qp(t){for(;I!==null;){var e=I;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xe||Wl(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Xe)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Wt(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Np(e,i,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Np(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Xi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Xe||e.flags&512&&sh(e)}catch(d){xe(e,e.return,d)}}if(e===t){I=null;break}if(n=e.sibling,n!==null){n.return=e.return,I=n;break}I=e.return}}function Zp(t){for(;I!==null;){var e=I;if(e===t){I=null;break}var n=e.sibling;if(n!==null){n.return=e.return,I=n;break}I=e.return}}function eg(t){for(;I!==null;){var e=I;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wl(4,e)}catch(l){xe(e,n,l)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(l){xe(e,r,l)}}var i=e.return;try{sh(e)}catch(l){xe(e,i,l)}break;case 5:var o=e.return;try{sh(e)}catch(l){xe(e,o,l)}}}catch(l){xe(e,e.return,l)}if(e===t){I=null;break}var a=e.sibling;if(a!==null){a.return=e.return,I=a;break}I=e.return}}var $S=Math.ceil,hl=Pn.ReactCurrentDispatcher,Fd=Pn.ReactCurrentOwner,Ot=Pn.ReactCurrentBatchConfig,X=0,Fe=null,Ee=null,We=0,gt=0,wr=as(0),Ie=0,ao=null,$s=0,Hl=0,Vd=0,Ii=null,ot=null,$d=0,zr=1/0,pn=null,dl=!1,oh=null,Xn=null,sa=!1,$n=null,fl=0,Di=0,ah=null,Ia=-1,Da=0;function nt(){return X&6?_e():Ia!==-1?Ia:Ia=_e()}function Jn(t){return t.mode&1?X&2&&We!==0?We&-We:kS.transition!==null?(Da===0&&(Da=q0()),Da):(t=te,t!==0||(t=window.event,t=t===void 0?16:ev(t.type)),t):1}function Xt(t,e,n,s){if(50<Di)throw Di=0,ah=null,Error(R(185));Po(t,n,s),(!(X&2)||t!==Fe)&&(t===Fe&&(!(X&2)&&(Hl|=n),Ie===4&&Ln(t,We)),ft(t,s),n===1&&X===0&&!(e.mode&1)&&(zr=_e()+500,Bl&&ls()))}function ft(t,e){var n=t.callbackNode;kk(t,e);var s=Xa(t,t===Fe?We:0);if(s===0)n!==null&&up(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&up(n),e===1)t.tag===0?_S(tg.bind(null,t)):wv(tg.bind(null,t)),vS(function(){!(X&6)&&ls()}),n=null;else{switch(Y0(s)){case 1:n=dd;break;case 4:n=H0;break;case 16:n=Ga;break;case 536870912:n=K0;break;default:n=Ga}n=yw(n,cw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function cw(t,e){if(Ia=-1,Da=0,X&6)throw Error(R(327));var n=t.callbackNode;if(Or()&&t.callbackNode!==n)return null;var s=Xa(t,t===Fe?We:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=pl(t,s);else{e=s;var r=X;X|=2;var i=dw();(Fe!==t||We!==e)&&(pn=null,zr=_e()+500,Os(t,e));do try{zS();break}catch(a){hw(t,a)}while(!0);Td(),hl.current=i,X=r,Ee!==null?e=0:(Fe=null,We=0,e=Ie)}if(e!==0){if(e===2&&(r=Ic(t),r!==0&&(s=r,e=lh(t,r))),e===1)throw n=ao,Os(t,0),Ln(t,s),ft(t,_e()),n;if(e===6)Ln(t,s);else{if(r=t.current.alternate,!(s&30)&&!BS(r)&&(e=pl(t,s),e===2&&(i=Ic(t),i!==0&&(s=i,e=lh(t,i))),e===1))throw n=ao,Os(t,0),Ln(t,s),ft(t,_e()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(R(345));case 2:vs(t,ot,pn);break;case 3:if(Ln(t,s),(s&130023424)===s&&(e=$d+500-_e(),10<e)){if(Xa(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){nt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Uc(vs.bind(null,t,ot,pn),e);break}vs(t,ot,pn);break;case 4:if(Ln(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var o=31-Gt(s);i=1<<o,o=e[o],o>r&&(r=o),s&=~i}if(s=r,s=_e()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*$S(s/1960))-s,10<s){t.timeoutHandle=Uc(vs.bind(null,t,ot,pn),s);break}vs(t,ot,pn);break;case 5:vs(t,ot,pn);break;default:throw Error(R(329))}}}return ft(t,_e()),t.callbackNode===n?cw.bind(null,t):null}function lh(t,e){var n=Ii;return t.current.memoizedState.isDehydrated&&(Os(t,e).flags|=256),t=pl(t,e),t!==2&&(e=ot,ot=n,e!==null&&uh(e)),t}function uh(t){ot===null?ot=t:ot.push.apply(ot,t)}function BS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!Jt(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ln(t,e){for(e&=~Vd,e&=~Hl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Gt(e),s=1<<n;t[n]=-1,e&=~s}}function tg(t){if(X&6)throw Error(R(327));Or();var e=Xa(t,0);if(!(e&1))return ft(t,_e()),null;var n=pl(t,e);if(t.tag!==0&&n===2){var s=Ic(t);s!==0&&(e=s,n=lh(t,s))}if(n===1)throw n=ao,Os(t,0),Ln(t,e),ft(t,_e()),n;if(n===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,vs(t,ot,pn),ft(t,_e()),null}function Bd(t,e){var n=X;X|=1;try{return t(e)}finally{X=n,X===0&&(zr=_e()+500,Bl&&ls())}}function Bs(t){$n!==null&&$n.tag===0&&!(X&6)&&Or();var e=X;X|=1;var n=Ot.transition,s=te;try{if(Ot.transition=null,te=1,t)return t()}finally{te=s,Ot.transition=n,X=e,!(X&6)&&ls()}}function Ud(){gt=wr.current,le(wr)}function Os(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,yS(n)),Ee!==null)for(n=Ee.return;n!==null;){var s=n;switch(_d(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&tl();break;case 3:Br(),le(ht),le(Ze),Od();break;case 5:Rd(s);break;case 4:Br();break;case 13:le(de);break;case 19:le(de);break;case 10:Ed(s.type._context);break;case 22:case 23:Ud()}n=n.return}if(Fe=t,Ee=t=Qn(t.current,null),We=gt=e,Ie=0,ao=null,Vd=Hl=$s=0,ot=Ii=null,Ts!==null){for(e=0;e<Ts.length;e++)if(n=Ts[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=r,s.next=o}n.pending=s}Ts=null}return t}function hw(t,e){do{var n=Ee;try{if(Td(),Oa.current=cl,ul){for(var s=pe.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}ul=!1}if(Vs=0,Le=je=pe=null,ji=!1,ro=0,Fd.current=null,n===null||n.return===null){Ie=1,ao=e,Ee=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=We,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Up(o);if(f!==null){f.flags&=-257,zp(f,o,a,i,e),f.mode&1&&Bp(i,u,e),e=f,l=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){Bp(i,u,e),zd();break e}l=Error(R(426))}}else if(ue&&a.mode&1){var w=Up(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),zp(w,o,a,i,e),kd(Ur(l,a));break e}}i=l=Ur(l,a),Ie!==4&&(Ie=2),Ii===null?Ii=[i]:Ii.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var p=Yv(i,l,e);Dp(i,p);break e;case 1:a=l;var m=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Xn===null||!Xn.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=Gv(i,a,e);Dp(i,b);break e}}i=i.return}while(i!==null)}pw(n)}catch(_){e=_,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(!0)}function dw(){var t=hl.current;return hl.current=cl,t===null?cl:t}function zd(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),Fe===null||!($s&268435455)&&!(Hl&268435455)||Ln(Fe,We)}function pl(t,e){var n=X;X|=2;var s=dw();(Fe!==t||We!==e)&&(pn=null,Os(t,e));do try{US();break}catch(r){hw(t,r)}while(!0);if(Td(),X=n,hl.current=s,Ee!==null)throw Error(R(261));return Fe=null,We=0,Ie}function US(){for(;Ee!==null;)fw(Ee)}function zS(){for(;Ee!==null&&!pk();)fw(Ee)}function fw(t){var e=mw(t.alternate,t,gt);t.memoizedProps=t.pendingProps,e===null?pw(t):Ee=e,Fd.current=null}function pw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=NS(n,e),n!==null){n.flags&=32767,Ee=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ie=6,Ee=null;return}}else if(n=DS(n,e,gt),n!==null){Ee=n;return}if(e=e.sibling,e!==null){Ee=e;return}Ee=e=t}while(e!==null);Ie===0&&(Ie=5)}function vs(t,e,n){var s=te,r=Ot.transition;try{Ot.transition=null,te=1,WS(t,e,n,s)}finally{Ot.transition=r,te=s}return null}function WS(t,e,n,s){do Or();while($n!==null);if(X&6)throw Error(R(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Sk(t,i),t===Fe&&(Ee=Fe=null,We=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sa||(sa=!0,yw(Ga,function(){return Or(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ot.transition,Ot.transition=null;var o=te;te=1;var a=X;X|=4,Fd.current=null,FS(t,n),lw(n,t),cS($c),Ja=!!Vc,$c=Vc=null,t.current=n,VS(n),gk(),X=a,te=o,Ot.transition=i}else t.current=n;if(sa&&(sa=!1,$n=t,fl=r),i=t.pendingLanes,i===0&&(Xn=null),vk(n.stateNode),ft(t,_e()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(dl)throw dl=!1,t=oh,oh=null,t;return fl&1&&t.tag!==0&&Or(),i=t.pendingLanes,i&1?t===ah?Di++:(Di=0,ah=t):Di=0,ls(),null}function Or(){if($n!==null){var t=Y0(fl),e=Ot.transition,n=te;try{if(Ot.transition=null,te=16>t?16:t,$n===null)var s=!1;else{if(t=$n,$n=null,fl=0,X&6)throw Error(R(331));var r=X;for(X|=4,I=t.current;I!==null;){var i=I,o=i.child;if(I.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(I=u;I!==null;){var c=I;switch(c.tag){case 0:case 11:case 15:Mi(8,c,i)}var h=c.child;if(h!==null)h.return=c,I=h;else for(;I!==null;){c=I;var d=c.sibling,f=c.return;if(iw(c),c===u){I=null;break}if(d!==null){d.return=f,I=d;break}I=f}}}var g=i.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}I=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,I=o;else e:for(;I!==null;){if(i=I,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Mi(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,I=p;break e}I=i.return}}var m=t.current;for(I=m;I!==null;){o=I;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,I=v;else e:for(o=m;I!==null;){if(a=I,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wl(9,a)}}catch(_){xe(a,a.return,_)}if(a===o){I=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,I=b;break e}I=a.return}}if(X=r,ls(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Nl,t)}catch{}s=!0}return s}finally{te=n,Ot.transition=e}}return!1}function ng(t,e,n){e=Ur(n,e),e=Yv(t,e,1),t=Gn(t,e,1),e=nt(),t!==null&&(Po(t,1,e),ft(t,e))}function xe(t,e,n){if(t.tag===3)ng(t,t,n);else for(;e!==null;){if(e.tag===3){ng(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Xn===null||!Xn.has(s))){t=Ur(n,t),t=Gv(e,t,1),e=Gn(e,t,1),t=nt(),e!==null&&(Po(e,1,t),ft(e,t));break}}e=e.return}}function HS(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=nt(),t.pingedLanes|=t.suspendedLanes&n,Fe===t&&(We&n)===n&&(Ie===4||Ie===3&&(We&130023424)===We&&500>_e()-$d?Os(t,0):Vd|=n),ft(t,e)}function gw(t,e){e===0&&(t.mode&1?(e=qo,qo<<=1,!(qo&130023424)&&(qo=4194304)):e=1);var n=nt();t=Sn(t,e),t!==null&&(Po(t,e,n),ft(t,n))}function KS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),gw(t,n)}function qS(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(R(314))}s!==null&&s.delete(e),gw(t,n)}var mw;mw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ht.current)lt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return lt=!1,IS(t,e,n);lt=!!(t.flags&131072)}else lt=!1,ue&&e.flags&1048576&&xv(e,rl,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Ma(t,e),t=e.pendingProps;var r=Fr(e,Ze.current);Rr(e,n),r=Md(null,e,s,t,r,n);var i=Id();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dt(s)?(i=!0,nl(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Pd(e),r.updater=zl,e.stateNode=r,r._reactInternals=e,Gc(e,s,t,n),e=Qc(null,e,s,!0,i,n)):(e.tag=0,ue&&i&&bd(e),et(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch(Ma(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=GS(s),t=Wt(s,t),r){case 0:e=Jc(null,e,s,t,n);break e;case 1:e=Kp(null,e,s,t,n);break e;case 11:e=Wp(null,e,s,t,n);break e;case 14:e=Hp(null,e,s,Wt(s.type,t),n);break e}throw Error(R(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Wt(s,r),Jc(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Wt(s,r),Kp(t,e,s,r,n);case 3:e:{if(Zv(e),t===null)throw Error(R(387));s=e.pendingProps,i=e.memoizedState,r=i.element,Ev(t,e),al(e,s,null,n);var o=e.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=Ur(Error(R(423)),e),e=qp(t,e,s,n,r);break e}else if(s!==r){r=Ur(Error(R(424)),e),e=qp(t,e,s,n,r);break e}else for(vt=Yn(e.stateNode.containerInfo.firstChild),wt=e,ue=!0,Yt=null,n=Sv(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vr(),s===r){e=Tn(t,e,n);break e}et(t,e,s,n)}e=e.child}return e;case 5:return Cv(e),t===null&&Kc(e),s=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,o=r.children,Bc(s,r)?o=null:i!==null&&Bc(s,i)&&(e.flags|=32),Qv(t,e),et(t,e,o,n),e.child;case 6:return t===null&&Kc(e),null;case 13:return ew(t,e,n);case 4:return Ad(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=$r(e,null,s,n):et(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Wt(s,r),Wp(t,e,s,r,n);case 7:return et(t,e,e.pendingProps,n),e.child;case 8:return et(t,e,e.pendingProps.children,n),e.child;case 12:return et(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,i=e.memoizedProps,o=r.value,ie(il,s._currentValue),s._currentValue=o,i!==null)if(Jt(i.value,o)){if(i.children===r.children&&!ht.current){e=Tn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===s){if(i.tag===1){l=bn(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),qc(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(R(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),qc(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}et(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,Rr(e,n),r=Mt(r),s=s(r),e.flags|=1,et(t,e,s,n),e.child;case 14:return s=e.type,r=Wt(s,e.pendingProps),r=Wt(s.type,r),Hp(t,e,s,r,n);case 15:return Xv(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Wt(s,r),Ma(t,e),e.tag=1,dt(s)?(t=!0,nl(e)):t=!1,Rr(e,n),qv(e,s,r),Gc(e,s,r,n),Qc(null,e,s,!0,t,n);case 19:return tw(t,e,n);case 22:return Jv(t,e,n)}throw Error(R(156,e.tag))};function yw(t,e){return W0(t,e)}function YS(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(t,e,n,s){return new YS(t,e,n,s)}function Wd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function GS(t){if(typeof t=="function")return Wd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ud)return 11;if(t===cd)return 14}return 2}function Qn(t,e){var n=t.alternate;return n===null?(n=Pt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Na(t,e,n,s,r,i){var o=2;if(s=t,typeof t=="function")Wd(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ur:return js(n.children,r,i,e);case ld:o=8,r|=8;break;case wc:return t=Pt(12,n,e,r|2),t.elementType=wc,t.lanes=i,t;case xc:return t=Pt(13,n,e,r),t.elementType=xc,t.lanes=i,t;case bc:return t=Pt(19,n,e,r),t.elementType=bc,t.lanes=i,t;case C0:return Kl(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case T0:o=10;break e;case E0:o=9;break e;case ud:o=11;break e;case cd:o=14;break e;case Mn:o=16,s=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=Pt(o,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function js(t,e,n,s){return t=Pt(7,t,s,e),t.lanes=n,t}function Kl(t,e,n,s){return t=Pt(22,t,s,e),t.elementType=C0,t.lanes=n,t.stateNode={isHidden:!1},t}function ju(t,e,n){return t=Pt(6,t,null,e),t.lanes=n,t}function Mu(t,e,n){return e=Pt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function XS(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fu(0),this.expirationTimes=fu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fu(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Hd(t,e,n,s,r,i,o,a,l){return t=new XS(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Pt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pd(i),t}function JS(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lr,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function vw(t){if(!t)return ns;t=t._reactInternals;e:{if(Hs(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var n=t.type;if(dt(n))return vv(t,n,e)}return e}function ww(t,e,n,s,r,i,o,a,l){return t=Hd(n,s,!0,t,r,i,o,a,l),t.context=vw(null),n=t.current,s=nt(),r=Jn(n),i=bn(s,r),i.callback=e??null,Gn(n,i,r),t.current.lanes=r,Po(t,r,s),ft(t,s),t}function ql(t,e,n,s){var r=e.current,i=nt(),o=Jn(r);return n=vw(n),e.context===null?e.context=n:e.pendingContext=n,e=bn(i,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=Gn(r,e,o),t!==null&&(Xt(t,r,o,i),Ra(t,r,o)),o}function gl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Kd(t,e){sg(t,e),(t=t.alternate)&&sg(t,e)}function QS(){return null}var xw=typeof reportError=="function"?reportError:function(t){console.error(t)};function qd(t){this._internalRoot=t}Yl.prototype.render=qd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));ql(t,e,null,null)};Yl.prototype.unmount=qd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bs(function(){ql(null,t,null,null)}),e[kn]=null}};function Yl(t){this._internalRoot=t}Yl.prototype.unstable_scheduleHydration=function(t){if(t){var e=J0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Nn.length&&e!==0&&e<Nn[n].priority;n++);Nn.splice(n,0,t),n===0&&Z0(t)}};function Yd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rg(){}function ZS(t,e,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var u=gl(o);i.call(u)}}var o=ww(e,s,t,0,null,!1,!1,"",rg);return t._reactRootContainer=o,t[kn]=o.current,Zi(t.nodeType===8?t.parentNode:t),Bs(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var a=s;s=function(){var u=gl(l);a.call(u)}}var l=Hd(t,0,!1,null,null,!1,!1,"",rg);return t._reactRootContainer=l,t[kn]=l.current,Zi(t.nodeType===8?t.parentNode:t),Bs(function(){ql(e,l,n,s)}),l}function Xl(t,e,n,s,r){var i=n._reactRootContainer;if(i){var o=i;if(typeof r=="function"){var a=r;r=function(){var l=gl(o);a.call(l)}}ql(e,o,t,r)}else o=ZS(n,e,t,r,s);return gl(o)}G0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=vi(e.pendingLanes);n!==0&&(fd(e,n|1),ft(e,_e()),!(X&6)&&(zr=_e()+500,ls()))}break;case 13:Bs(function(){var s=Sn(t,1);if(s!==null){var r=nt();Xt(s,t,1,r)}}),Kd(t,1)}};pd=function(t){if(t.tag===13){var e=Sn(t,134217728);if(e!==null){var n=nt();Xt(e,t,134217728,n)}Kd(t,134217728)}};X0=function(t){if(t.tag===13){var e=Jn(t),n=Sn(t,e);if(n!==null){var s=nt();Xt(n,t,e,s)}Kd(t,e)}};J0=function(){return te};Q0=function(t,e){var n=te;try{return te=t,e()}finally{te=n}};Oc=function(t,e,n){switch(e){case"input":if(Sc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=$l(s);if(!r)throw Error(R(90));A0(s),Sc(s,r)}}}break;case"textarea":O0(t,n);break;case"select":e=n.value,e!=null&&Er(t,!!n.multiple,e,!1)}};F0=Bd;V0=Bs;var e1={usingClientEntryPoint:!1,Events:[Ro,fr,$l,N0,L0,Bd]},ui={findFiberByHostInstance:Ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},t1={bundleType:ui.bundleType,version:ui.version,rendererPackageName:ui.rendererPackageName,rendererConfig:ui.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=U0(t),t===null?null:t.stateNode},findFiberByHostInstance:ui.findFiberByHostInstance||QS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ra=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ra.isDisabled&&ra.supportsFiber)try{Nl=ra.inject(t1),an=ra}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e1;bt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yd(e))throw Error(R(200));return JS(t,e,null,n)};bt.createRoot=function(t,e){if(!Yd(t))throw Error(R(299));var n=!1,s="",r=xw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Hd(t,1,!1,null,null,n,!1,s,r),t[kn]=e.current,Zi(t.nodeType===8?t.parentNode:t),new qd(e)};bt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=U0(e),t=t===null?null:t.stateNode,t};bt.flushSync=function(t){return Bs(t)};bt.hydrate=function(t,e,n){if(!Gl(e))throw Error(R(200));return Xl(null,t,e,!0,n)};bt.hydrateRoot=function(t,e,n){if(!Yd(t))throw Error(R(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",o=xw;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ww(e,null,t,1,n??null,r,!1,i,o),t[kn]=e.current,Zi(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Yl(e)};bt.render=function(t,e,n){if(!Gl(e))throw Error(R(200));return Xl(null,t,e,!1,n)};bt.unmountComponentAtNode=function(t){if(!Gl(t))throw Error(R(40));return t._reactRootContainer?(Bs(function(){Xl(null,null,t,!1,function(){t._reactRootContainer=null,t[kn]=null})}),!0):!1};bt.unstable_batchedUpdates=Bd;bt.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!Gl(n))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return Xl(t,e,n,!1,s)};bt.version="18.3.1-next-f1338f8080-20240426";function bw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bw)}catch(t){console.error(t)}}bw(),b0.exports=bt;var n1=b0.exports,ig=n1;yc.createRoot=ig.createRoot,yc.hydrateRoot=ig.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lo(){return lo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},lo.apply(this,arguments)}var Bn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bn||(Bn={}));const og="popstate";function s1(t){t===void 0&&(t={});function e(s,r){let{pathname:i,search:o,hash:a}=s.location;return ch("",{pathname:i,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:_w(r)}return i1(e,n,null,t)}function Pe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gd(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function r1(){return Math.random().toString(36).substr(2,8)}function ag(t,e){return{usr:t.state,key:t.key,idx:e}}function ch(t,e,n,s){return n===void 0&&(n=null),lo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xr(e):e,{state:n,key:e&&e.key||s||r1()})}function _w(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Xr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function i1(t,e,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:i=!1}=s,o=r.history,a=Bn.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(lo({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=Bn.Pop;let w=c(),p=w==null?null:w-u;u=w,l&&l({action:a,location:y.location,delta:p})}function d(w,p){a=Bn.Push;let m=ch(y.location,w,p);u=c()+1;let v=ag(m,u),b=y.createHref(m);try{o.pushState(v,"",b)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;r.location.assign(b)}i&&l&&l({action:a,location:y.location,delta:1})}function f(w,p){a=Bn.Replace;let m=ch(y.location,w,p);u=c();let v=ag(m,u),b=y.createHref(m);o.replaceState(v,"",b),i&&l&&l({action:a,location:y.location,delta:0})}function g(w){let p=r.location.origin!=="null"?r.location.origin:r.location.href,m=typeof w=="string"?w:_w(w);return m=m.replace(/ $/,"%20"),Pe(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let y={get action(){return a},get location(){return t(r,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(og,h),l=w,()=>{r.removeEventListener(og,h),l=null}},createHref(w){return e(r,w)},createURL:g,encodeLocation(w){let p=g(w);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:d,replace:f,go(w){return o.go(w)}};return y}var lg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(lg||(lg={}));function o1(t,e,n){return n===void 0&&(n="/"),a1(t,e,n)}function a1(t,e,n,s){let r=typeof e=="string"?Xr(e):e,i=Tw(r.pathname||"/",n);if(i==null)return null;let o=kw(t);l1(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=x1(i);a=y1(o[l],u)}return a}function kw(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Pe(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let u=Ms([s,l.relativePath]),c=n.concat(l);i.children&&i.children.length>0&&(Pe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),kw(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:g1(u,i.index),routesMeta:c})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))r(i,o);else for(let l of Sw(i.path))r(i,o,l)}),e}function Sw(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let o=Sw(s.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function l1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:m1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const u1=/^:[\w-]+$/,c1=3,h1=2,d1=1,f1=10,p1=-2,ug=t=>t==="*";function g1(t,e){let n=t.split("/"),s=n.length;return n.some(ug)&&(s+=p1),e&&(s+=h1),n.filter(r=>!ug(r)).reduce((r,i)=>r+(u1.test(i)?c1:i===""?d1:f1),s)}function m1(t,e){return t.length===e.length&&t.slice(0,-1).every((s,r)=>s===e[r])?t[t.length-1]-e[e.length-1]:0}function y1(t,e,n){let{routesMeta:s}=t,r={},i="/",o=[];for(let a=0;a<s.length;++a){let l=s[a],u=a===s.length-1,c=i==="/"?e:e.slice(i.length)||"/",h=v1({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:Ms([i,h.pathname]),pathnameBase:T1(Ms([i,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(i=Ms([i,h.pathnameBase]))}return o}function v1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=w1(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:s.reduce((u,c,h)=>{let{paramName:d,isOptional:f}=c;if(d==="*"){let y=a[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[h];return f&&!g?u[d]=void 0:u[d]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function w1(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Gd(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(s.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function x1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gd(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Tw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}const b1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_1=t=>b1.test(t);function k1(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:r=""}=typeof t=="string"?Xr(t):t,i;if(n)if(_1(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Gd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?i=cg(n.substring(1),"/"):i=cg(n,e)}else i=e;return{pathname:i,search:E1(s),hash:C1(r)}}function cg(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Iu(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function S1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ew(t,e){let n=S1(t);return e?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Cw(t,e,n,s){s===void 0&&(s=!1);let r;typeof t=="string"?r=Xr(t):(r=lo({},t),Pe(!r.pathname||!r.pathname.includes("?"),Iu("?","pathname","search",r)),Pe(!r.pathname||!r.pathname.includes("#"),Iu("#","pathname","hash",r)),Pe(!r.search||!r.search.includes("#"),Iu("#","search","hash",r)));let i=t===""||r.pathname==="",o=i?"/":r.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!s&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;r.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=k1(r,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ms=t=>t.join("/").replace(/\/\/+/g,"/"),T1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),E1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,C1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function P1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Pw=["post","put","patch","delete"];new Set(Pw);const A1=["get",...Pw];new Set(A1);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uo(){return uo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},uo.apply(this,arguments)}const Xd=T.createContext(null),R1=T.createContext(null),jo=T.createContext(null),Jl=T.createContext(null),us=T.createContext({outlet:null,matches:[],isDataRoute:!1}),Aw=T.createContext(null);function Mo(){return T.useContext(Jl)!=null}function Ql(){return Mo()||Pe(!1),T.useContext(Jl).location}function Rw(t){T.useContext(jo).static||T.useLayoutEffect(t)}function Jd(){let{isDataRoute:t}=T.useContext(us);return t?H1():O1()}function O1(){Mo()||Pe(!1);let t=T.useContext(Xd),{basename:e,future:n,navigator:s}=T.useContext(jo),{matches:r}=T.useContext(us),{pathname:i}=Ql(),o=JSON.stringify(Ew(r,n.v7_relativeSplatPath)),a=T.useRef(!1);return Rw(()=>{a.current=!0}),T.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){s.go(u);return}let h=Cw(u,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ms([e,h.pathname])),(c.replace?s.replace:s.push)(h,c.state,c)},[e,s,o,i,t])}const j1=T.createContext(null);function M1(t){let e=T.useContext(us).outlet;return e&&T.createElement(j1.Provider,{value:t},e)}function I1(t,e){return D1(t,e)}function D1(t,e,n,s){Mo()||Pe(!1);let{navigator:r}=T.useContext(jo),{matches:i}=T.useContext(us),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Ql(),c;if(e){var h;let w=typeof e=="string"?Xr(e):e;l==="/"||(h=w.pathname)!=null&&h.startsWith(l)||Pe(!1),c=w}else c=u;let d=c.pathname||"/",f=d;if(l!=="/"){let w=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=o1(t,{pathname:f}),y=$1(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Ms([l,r.encodeLocation?r.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Ms([l,r.encodeLocation?r.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,s);return e&&y?T.createElement(Jl.Provider,{value:{location:uo({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Bn.Pop}},y):y}function N1(){let t=W1(),e=P1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:r},n):null,null)}const L1=T.createElement(N1,null);class F1 extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(us.Provider,{value:this.props.routeContext},T.createElement(Aw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function V1(t){let{routeContext:e,match:n,children:s}=t,r=T.useContext(Xd);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(us.Provider,{value:e},s)}function $1(t,e,n,s){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let c=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);c>=0||Pe(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:d,errors:f}=n,g=h.route.loader&&d[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,h,d)=>{let f,g=!1,y=null,w=null;n&&(f=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||L1,l&&(u<0&&d===0?(K1("route-fallback"),g=!0,w=null):u===d&&(g=!0,w=h.route.hydrateFallbackElement||null)));let p=e.concat(o.slice(0,d+1)),m=()=>{let v;return f?v=y:g?v=w:h.route.Component?v=T.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=c,T.createElement(V1,{match:h,routeContext:{outlet:c,matches:p,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?T.createElement(F1,{location:n.location,revalidation:n.revalidation,component:y,error:f,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var Ow=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ow||{}),jw=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(jw||{});function B1(t){let e=T.useContext(Xd);return e||Pe(!1),e}function U1(t){let e=T.useContext(R1);return e||Pe(!1),e}function z1(t){let e=T.useContext(us);return e||Pe(!1),e}function Mw(t){let e=z1(),n=e.matches[e.matches.length-1];return n.route.id||Pe(!1),n.route.id}function W1(){var t;let e=T.useContext(Aw),n=U1(),s=Mw();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function H1(){let{router:t}=B1(Ow.UseNavigateStable),e=Mw(jw.UseNavigateStable),n=T.useRef(!1);return Rw(()=>{n.current=!0}),T.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,uo({fromRouteId:e},i)))},[t,e])}const hg={};function K1(t,e,n){hg[t]||(hg[t]=!0)}function q1(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function hh(t){let{to:e,replace:n,state:s,relative:r}=t;Mo()||Pe(!1);let{future:i,static:o}=T.useContext(jo),{matches:a}=T.useContext(us),{pathname:l}=Ql(),u=Jd(),c=Cw(e,Ew(a,i.v7_relativeSplatPath),l,r==="path"),h=JSON.stringify(c);return T.useEffect(()=>u(JSON.parse(h),{replace:n,state:s,relative:r}),[u,h,r,n,s]),null}function Y1(t){return M1(t.context)}function rr(t){Pe(!1)}function G1(t){let{basename:e="/",children:n=null,location:s,navigationType:r=Bn.Pop,navigator:i,static:o=!1,future:a}=t;Mo()&&Pe(!1);let l=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:l,navigator:i,static:o,future:uo({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof s=="string"&&(s=Xr(s));let{pathname:c="/",search:h="",hash:d="",state:f=null,key:g="default"}=s,y=T.useMemo(()=>{let w=Tw(c,l);return w==null?null:{location:{pathname:w,search:h,hash:d,state:f,key:g},navigationType:r}},[l,c,h,d,f,g,r]);return y==null?null:T.createElement(jo.Provider,{value:u},T.createElement(Jl.Provider,{children:n,value:y}))}function X1(t){let{children:e,location:n}=t;return I1(dh(e),n)}new Promise(()=>{});function dh(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(s,r)=>{if(!T.isValidElement(s))return;let i=[...e,r];if(s.type===T.Fragment){n.push.apply(n,dh(s.props.children,i));return}s.type!==rr&&Pe(!1),!s.props.index||!s.props.children||Pe(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=dh(s.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const J1="6";try{window.__reactRouterVersion=J1}catch{}const Q1="startTransition",dg=H_[Q1];function Z1(t){let{basename:e,children:n,future:s,window:r}=t,i=T.useRef();i.current==null&&(i.current=s1({window:r,v5Compat:!0}));let o=i.current,[a,l]=T.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},c=T.useCallback(h=>{u&&dg?dg(()=>l(h)):l(h)},[l,u]);return T.useLayoutEffect(()=>o.listen(c),[o,c]),T.useEffect(()=>q1(s),[s]),T.createElement(G1,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:s})}var fg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(fg||(fg={}));var pg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(pg||(pg={}));function Zl(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function eT(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})}const tT=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Qd extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class nT extends Qd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class gg extends Qd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class mg extends Qd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var fh;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(fh||(fh={}));class sT{constructor(e,{headers:n={},customFetch:s,region:r=fh.Any}={}){this.url=e,this.headers=n,this.region=r,this.fetch=tT(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return eT(this,arguments,void 0,function*(n,s={}){var r;let i,o;try{const{headers:a,method:l,body:u,signal:c,timeout:h}=s;let d={},{region:f}=s;f||(f=this.region);const g=new URL(`${this.url}/${n}`);f&&f!=="any"&&(d["x-region"]=f,g.searchParams.set("forceFunctionRegion",f));let y;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(d["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(d["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;let w=c;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),c?(w=o.signal,c.addEventListener("abort",()=>o.abort())):w=o.signal);const p=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),a),body:y,signal:w}).catch(_=>{throw new nT(_)}),m=p.headers.get("x-relay-error");if(m&&m==="true")throw new gg(p);if(!p.ok)throw new mg(p);let v=((r=p.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),b;return v==="application/json"?b=yield p.json():v==="application/octet-stream"||v==="application/pdf"?b=yield p.blob():v==="text/event-stream"?b=p:v==="multipart/form-data"?b=yield p.formData():b=yield p.text(),{data:b,error:null,response:p}}catch(a){return{data:null,error:a,response:a instanceof mg||a instanceof gg?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var rT=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},iT=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let r=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,u=i.status,c=i.statusText;if(i.ok){var h,d;if(n.method!=="HEAD"){var f;const p=await i.text();p===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((f=n.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?a=p:a=JSON.parse(p))}const y=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),w=(d=i.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");y&&w&&w.length>1&&(l=parseInt(w[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,c="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var g;const y=await i.text();try{o=JSON.parse(y),Array.isArray(o)&&i.status===404&&(a=[],o=null,u=200,c="OK")}catch{i.status===404&&y===""?(u=204,c="No Content"):o={message:y}}if(o&&n.isMaybeSingle&&(!(o==null||(g=o.details)===null||g===void 0)&&g.includes("0 rows"))&&(o=null,u=200,c="OK"),o&&n.shouldThrowOnError)throw new rT(o)}return{error:o,data:a,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(r=r.catch(i=>{var o;let a="";const l=i==null?void 0:i.cause;if(l){var u,c,h,d;const g=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",y=(c=l==null?void 0:l.code)!==null&&c!==void 0?c:"";a=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(d=l==null?void 0:l.name)!==null&&d!==void 0?d:"Error"}: ${g}`,y&&(a+=` (${y})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var f;a=(f=i==null?void 0:i.stack)!==null&&f!==void 0?f:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),r.then(t,e)}returns(){return this}overrideTypes(){return this}},oT=class extends iT{select(t){let e=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:s,referencedTable:r=s}={}){const i=r?`${r}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:s=n}={}){const r=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:s=!1,wal:r=!1,format:i="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,n?"settings":null,s?"buffers":null,r?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const yg=new RegExp("[,()]");var ir=class extends oT{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&yg.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&yg.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:s}={}){let r="";s==="plain"?r="pl":s==="phrase"?r="ph":s==="websearch"&&(r="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${r}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},aT=class{constructor(t,{headers:e={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=s}select(t,e){const{head:n=!1,count:s}=e??{},r=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),s&&this.headers.append("Prefer",`count=${s}`),new ir({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var s;const r="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((o,a)=>o.concat(Object.keys(a)),[]);if(i.length>0){const o=[...new Set(i)].map(a=>`"${a}"`);this.url.searchParams.set("columns",o.join(","))}}return new ir({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:s,defaultToNull:r=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),s&&this.headers.append("Prefer",`count=${s}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new ir({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:e}={}){var n;const s="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new ir({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new ir({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},lT=class Iw{constructor(e,{headers:n={},schema:s,fetch:r}={}){this.url=e,this.headers=new Headers(n),this.schemaName=s,this.fetch=r}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new aT(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Iw(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:s=!1,get:r=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let u;s||r?(a=s?"HEAD":"GET",Object.entries(n).filter(([h,d])=>d!==void 0).map(([h,d])=>[h,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([h,d])=>{l.searchParams.append(h,d)})):(a="POST",u=n);const c=new Headers(this.headers);return i&&c.set("Prefer",`count=${i}`),new ir({method:a,url:l,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class uT{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,r=parseInt(s.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const cT="2.89.0",hT=`realtime-js/${cT}`,Dw="1.0.0",dT="2.0.0",vg=Dw,ph=1e4,fT=1e3,pT=100;var Dn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Dn||(Dn={}));var Re;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Re||(Re={}));var qt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(qt||(qt={}));var gh;(function(t){t.websocket="websocket"})(gh||(gh={}));var _s;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(_s||(_s={}));class gT{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,s;const r=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,r)}_encodeJsonUserBroadcastPush(e){var n,s;const r=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:{},o=new TextEncoder().encode(JSON.stringify(r)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,n,s){var r,i;const o=e.topic,a=(r=e.ref)!==null&&r!==void 0?r:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const d=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+h.length,f=new ArrayBuffer(this.HEADER_LENGTH+d);let g=new DataView(f),y=0;g.setUint8(y++,this.KINDS.userBroadcastPush),g.setUint8(y++,l.length),g.setUint8(y++,a.length),g.setUint8(y++,o.length),g.setUint8(y++,u.length),g.setUint8(y++,h.length),g.setUint8(y++,n),Array.from(l,p=>g.setUint8(y++,p.charCodeAt(0))),Array.from(a,p=>g.setUint8(y++,p.charCodeAt(0))),Array.from(o,p=>g.setUint8(y++,p.charCodeAt(0))),Array.from(u,p=>g.setUint8(y++,p.charCodeAt(0))),Array.from(h,p=>g.setUint8(y++,p.charCodeAt(0)));var w=new Uint8Array(f.byteLength+s.byteLength);return w.set(new Uint8Array(f),0),w.set(new Uint8Array(s),f.byteLength),w.buffer}decode(e,n){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return n(s)}if(typeof e=="string"){const s=JSON.parse(e),[r,i,o,a,l]=s;return n({join_ref:r,ref:i,topic:o,event:a,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),s=n.getUint8(0),r=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,r)}}_decodeUserBroadcast(e,n,s){const r=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=s.decode(e.slice(l,l+r));l=l+r;const c=s.decode(e.slice(l,l+i));l=l+i;const h=s.decode(e.slice(l,l+o));l=l+o;const d=e.slice(l,e.byteLength),f=a===this.JSON_ENCODING?JSON.parse(s.decode(d)):d,g={type:this.BROADCAST_EVENT,event:c,payload:f};return o>0&&(g.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>n.includes(s)))}}class Nw{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var re;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(re||(re={}));const wg=(t,e,n={})=>{var s;const r=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=mT(o,t,e,r),i),{}):{}},mT=(t,e,n,s)=>{const r=e.find(a=>a.name===t),i=r==null?void 0:r.type,o=n[t];return i&&!s.includes(i)?Lw(i,o):mh(o)},Lw=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return xT(e,n)}switch(t){case re.bool:return yT(e);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return vT(e);case re.json:case re.jsonb:return wT(e);case re.timestamp:return bT(e);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return mh(e);default:return mh(e)}},mh=t=>t,yT=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},vT=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},wT=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},xT=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Lw(e,a))}return t},bT=t=>typeof t=="string"?t.replace(" ","T"):t,Fw=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Du{constructor(e,n,s={},r=ph){this.channel=e,this.event=n,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var xg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(xg||(xg={}));class Ni{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ni.syncState(this.state,r,i,o),this.pendingDiffs.forEach(l=>{this.state=Ni.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Ni.syncDiff(this.state,r,i,o),a())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,r){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const d=c.map(w=>w.presence_ref),f=h.map(w=>w.presence_ref),g=c.filter(w=>f.indexOf(w.presence_ref)<0),y=h.filter(w=>d.indexOf(w.presence_ref)<0);g.length>0&&(a[u]=g),y.length>0&&(l[u]=y)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},s,r)}static syncDiff(e,n,s,r){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(f=>f.presence_ref),d=c.filter(f=>h.indexOf(f.presence_ref)<0);e[a].unshift(...d)}s(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,r(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const r=e[s];return"metas"in r?n[s]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[s]=r,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bg;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(bg||(bg={}));var Li;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Li||(Li={}));var gn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(gn||(gn={}));class xr{constructor(e,n={config:{}},s){var r,i;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=Re.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Du(this,qt.join,this.params,this.timeout),this.rejoinTimer=new Nw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Re.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Re.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Ni(this),this.broadcastEndpointURL=Fw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Re.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(f=>f.filter))!==null&&r!==void 0?r:[],c=!!this.bindings[Li.PRESENCE]&&this.bindings[Li.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},d={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(gn.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(gn.CLOSED)),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){e==null||e(gn.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,w=(g=y==null?void 0:y.length)!==null&&g!==void 0?g:0,p=[];for(let m=0;m<w;m++){const v=y[m],{filter:{event:b,schema:_,table:S,filter:k}}=v,E=f&&f[m];if(E&&E.event===b&&xr.isFilterValueEqual(E.schema,_)&&xr.isFilterValueEqual(E.table,S)&&xr.isFilterValueEqual(E.filter,k))p.push(Object.assign(Object.assign({},v),{id:E.id}));else{this.unsubscribe(),this.state=Re.errored,e==null||e(gn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(gn.SUBSCRIBED);return}}).receive("error",f=>{this.state=Re.errored,e==null||e(gn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(gn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===Re.joined&&e===Li.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,s)}async httpSend(e,n,s={}){var r;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var s,r;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Re.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qt.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(r=>{s=new Du(this,qt.leave,{},e),s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Re.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const r=new AbortController,i=setTimeout(()=>r.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(i),o}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Du(this,e,n,s);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>pT){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var r,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=qt;if(s&&[a,l,u,c].indexOf(o)>=0&&s!==this._joinRef())return;let d=this._onMessage(o,n,s);if(n&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(f=>{var g,y,w;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(y=f.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(f=>f.callback(d,s)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var g,y,w,p,m,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const b=f.id,_=(g=f.filter)===null||g===void 0?void 0:g.event;return b&&((y=n.ids)===null||y===void 0?void 0:y.includes(b))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const b=(m=(p=f==null?void 0:f.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return b==="*"||b===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const g=d.data,{schema:y,table:w,commit_timestamp:p,type:m,errors:v}=g;d=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:p,eventType:m,new:{},old:{},errors:v}),this._getPayloadRecords(g))}f.callback(d,s)})}_isClosed(){return this.state===Re.closed}_isJoined(){return this.state===Re.joined}_isJoining(){return this.state===Re.joining}_isLeaving(){return this.state===Re.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const r=e.toLocaleLowerCase(),i={type:r,filter:n,callback:s};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&xr.isEqual(r.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(qt.close,{},e)}_onError(e){this._on(qt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Re.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=wg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=wg(e.columns,e.old_record)),n}}const Nu=()=>{},ia={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_T=[1e3,2e3,5e3,1e4],kT=1e4,ST=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class TT{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ph,this.transport=null,this.heartbeatIntervalMs=ia.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nu,this.ref=0,this.reconnectTimer=null,this.vsn=vg,this.logger=Nu,this.conn=null,this.sendBuffer=[],this.serializer=new gT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>r?(...i)=>r(...i):(...i)=>fetch(...i),!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${gh.websocket}`,this.httpEndpoint=Fw(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=uT.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Dn.connecting:return _s.Connecting;case Dn.open:return _s.Open;case Dn.closing:return _s.Closing;default:return _s.Closed}}isConnected(){return this.connectionState()===_s.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,r=this.getChannels().find(i=>i.topic===s);if(r)return r;{const i=new xr(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:s,payload:r,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${s} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(fT,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ia.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:r,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${s} ${r} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(s)).forEach(u=>u._trigger(r,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Dn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Dn.open||this.conn.readyState===Dn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(qt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${e}${s}${r}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([ST],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,s=!1;if(e)n=e,s=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(r){this.log("error","Error fetching access token from callback",r),n=this.accessTokenValue}else n=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:hT};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(qt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Nw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ia.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,r,i,o,a,l,u,c,h,d,f;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:ph,this.heartbeatIntervalMs=(r=e==null?void 0:e.heartbeatIntervalMs)!==null&&r!==void 0?r:ia.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Nu,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:vg,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:g=>_T[g-1]||kT,this.vsn){case Dw:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(g,y)=>y(JSON.stringify(g)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(g,y)=>y(JSON.parse(g));break;case dT:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:this.serializer.encode.bind(this.serializer),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var co=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function ET(t,e,n){const s=new URL(e,t);if(n)for(const[r,i]of Object.entries(n))i!==void 0&&s.searchParams.set(r,i);return s.toString()}async function CT(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function PT(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:s,query:r,body:i,headers:o}){const a=ET(t.baseUrl,s,r),l=await CT(t.auth),u=await e(a,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),c=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),d=h&&c?JSON.parse(c):c;if(!u.ok){const f=h?d:void 0,g=f==null?void 0:f.error;throw new co((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:f})}return{status:u.status,headers:u.headers,data:d}}}}function oa(t){return t.join("")}var AT=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:oa(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${oa(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${oa(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${oa(t.namespace)}`}),!0}catch(e){if(e instanceof co&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof co&&n.status===409)return;throw n}}};function Xs(t){return t.join("")}var RT=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xs(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xs(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xs(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xs(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xs(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xs(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof co&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof co&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},OT=class{constructor(t){var s;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=PT({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(s=t.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new AT(this.client,e),this.tableOps=new RT(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},eu=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function he(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var jT=class extends eu{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},yh=class extends eu{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Zd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),MT=()=>Response,vh=t=>{if(Array.isArray(t))return t.map(n=>vh(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const r=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[r]=vh(s)}),e},IT=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},DT=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function ho(t){"@babel/helpers - typeof";return ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ho(t)}function NT(t,e){if(ho(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(ho(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LT(t){var e=NT(t,"string");return ho(e)=="symbol"?e:e+""}function FT(t,e,n){return(e=LT(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,s)}return n}function V(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_g(Object(n),!0).forEach(function(s){FT(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_g(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const Lu=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},VT=async(t,e,n)=>{t instanceof await MT()&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const r=t.status||500,i=(s==null?void 0:s.statusCode)||r+"";e(new jT(Lu(s),r,i))}).catch(s=>{e(new yh(Lu(s),s))}):e(new yh(Lu(t),t))},$T=(t,e,n,s)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?r:(IT(s)?(r.headers=V({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(s)):r.body=s,e!=null&&e.duplex&&(r.duplex=e.duplex),V(V({},r),n))};async function Io(t,e,n,s,r,i){return new Promise((o,a)=>{t(n,$T(e,s,r,i)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>VT(l,a,s))})}async function fo(t,e,n,s){return Io(t,"GET",e,n,s)}async function Ht(t,e,n,s,r){return Io(t,"POST",e,s,r,n)}async function wh(t,e,n,s,r){return Io(t,"PUT",e,s,r,n)}async function BT(t,e,n,s){return Io(t,"HEAD",e,V(V({},n),{},{noResolveJson:!0}),s)}async function ef(t,e,n,s,r){return Io(t,"DELETE",e,s,r,n)}var UT=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(he(e))return{data:null,error:e};throw e}}};let Vw;Vw=Symbol.toStringTag;var zT=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Vw]="BlobDownloadBuilder",this.promise=null}asStream(){return new UT(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(he(e))return{data:null,error:e};throw e}}};const WT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},kg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var HT=class{constructor(t,e={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=Zd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,s){var r=this;try{let i;const o=V(V({},kg),s);let a=V(V({},r.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",r.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",r.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=r.toBase64(r.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(a=V(V({},a),s.headers));const u=r._removeEmptyFolders(e),c=r._getFinalPath(u),h=await(t=="PUT"?wh:Ht)(r.fetch,`${r.url}/object/${c}`,i,V({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(he(i))return{data:null,error:i};throw i}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,s){var r=this;const i=r._removeEmptyFolders(t),o=r._getFinalPath(i),a=new URL(r.url+`/object/upload/sign/${o}`);a.searchParams.set("token",e);try{let l;const u=V({upsert:kg.upsert},s),c=V(V({},r.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{data:{path:i,fullPath:(await wh(r.fetch,a.toString(),l,{headers:c})).Key},error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(he(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var n=this;try{let s=n._getFinalPath(t);const r=V({},n.headers);e!=null&&e.upsert&&(r["x-upsert"]="true");const i=await Ht(n.fetch,`${n.url}/object/upload/sign/${s}`,{},{headers:r}),o=new URL(n.url+i.url),a=o.searchParams.get("token");if(!a)throw new eu("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var s=this;try{return{data:await Ht(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:s.headers}),error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}}async copy(t,e,n){var s=this;try{return{data:{path:(await Ht(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:s.headers})).Key},error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}}async createSignedUrl(t,e,n){var s=this;try{let r=s._getFinalPath(t),i=await Ht(s.fetch,`${s.url}/object/sign/${r}`,V({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:s.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${s.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}}async createSignedUrls(t,e,n){var s=this;try{const r=await Ht(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:e,paths:t},{headers:s.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(o=>V(V({},o),{},{signedUrl:o.signedURL?encodeURI(`${s.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),r=s?`?${s}`:"",i=this._getFinalPath(t),o=()=>fo(this.fetch,`${this.url}/${n}/${i}${r}`,{headers:this.headers,noResolveJson:!0});return new zT(o,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:vh(await fo(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await BT(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(he(s)&&s instanceof yh){const r=s.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:s}}throw s}}getPublicUrl(t,e){const n=this._getFinalPath(t),s=[],r=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";r!==""&&s.push(r);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&s.push(o);let a=s.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}async remove(t){var e=this;try{return{data:await ef(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}}async list(t,e,n){var s=this;try{const r=V(V(V({},WT),e),{},{prefix:t||""});return{data:await Ht(s.fetch,`${s.url}/object/list/${s.bucketId}`,r,{headers:s.headers},n),error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}}async listV2(t,e){var n=this;try{const s=V({},t);return{data:await Ht(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,s,{headers:n.headers},e),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const $w="2.89.0",Bw={"X-Client-Info":`storage-js/${$w}`};var KT=class{constructor(t,e={},n,s){this.shouldThrowOnError=!1;const r=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase.")),this.url=r.href.replace(/\/$/,""),this.headers=V(V({},Bw),e),this.fetch=Zd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await fo(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await fo(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await Ht(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}}async updateBucket(t,e){var n=this;try{return{data:await wh(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}}async emptyBucket(t){var e=this;try{return{data:await Ht(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await ef(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},qT=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=V(V({},Bw),e),this.fetch=Zd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Ht(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const s=n.toString(),r=s?`${e.url}/bucket?${s}`:`${e.url}/bucket`;return{data:await fo(e.fetch,r,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await ef(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!DT(t))throw new eu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new OT({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(n,{get(r,i){const o=r[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(r,a),error:null}}catch(l){if(s)throw l;return{data:null,error:l}}}}})}};const tf={"X-Client-Info":`storage-js/${$w}`,"Content-Type":"application/json"};var Uw=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function mt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Fu=class extends Uw{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},YT=class extends Uw{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const nf=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),GT=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Sg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),XT=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t.status||500,r=t;if(typeof r.json=="function")r.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||s+"";e(new Fu(Sg(i),s,o))}).catch(()=>{const i=s+"";e(new Fu(r.statusText||`HTTP ${s} error`,s,i))});else{const i=s+"";e(new Fu(r.statusText||`HTTP ${s} error`,s,i))}}else e(new YT(Sg(t),t))},JT=(t,e,n,s)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return s?(GT(s)?(r.headers=V({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(s)):r.body=s,V(V({},r),n)):r};async function QT(t,e,n,s,r,i){return new Promise((o,a)=>{t(n,JT(e,s,r,i)).then(l=>{if(!l.ok)throw l;if(s!=null&&s.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>XT(l,a,s))})}async function yt(t,e,n,s,r){return QT(t,"POST",e,s,r,n)}var ZT=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=V(V({},tf),e),this.fetch=nf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await yt(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await yt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(mt(s))return{data:null,error:s};throw s}}async listIndexes(t){var e=this;try{return{data:await yt(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await yt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(mt(s))return{data:null,error:s};throw s}}},eE=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=V(V({},tf),e),this.fetch=nf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await yt(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await yt(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await yt(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await yt(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await yt(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}},tE=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=V(V({},tf),e),this.fetch=nf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await yt(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await yt(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await yt(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await yt(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}},nE=class extends tE{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new sE(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},sE=class extends ZT{constructor(t,e,n,s){super(t,e,s),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,V(V({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,V(V({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new rE(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},rE=class extends eE{constructor(t,e,n,s,r){super(t,e,r),this.vectorBucketName=n,this.indexName=s}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,V(V({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,V(V({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,V(V({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,V(V({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,V(V({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},iE=class extends KT{constructor(t,e={},n,s){super(t,e,n,s)}from(t){return new HT(this.url,this.headers,t,this.fetch)}get vectors(){return new nE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new qT(this.url+"/iceberg",this.headers,this.fetch)}};const zw="2.89.0",or=30*1e3,xh=3,Vu=xh*or,oE="http://localhost:9999",aE="supabase.auth.token",lE={"X-Client-Info":`gotrue-js/${zw}`},bh="X-Supabase-Api-Version",Ww={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},uE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,cE=10*60*1e3;class po extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function D(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class hE extends po{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function dE(t){return D(t)&&t.name==="AuthApiError"}class ks extends po{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class An extends po{constructor(e,n,s,r){super(e,s,r),this.name=n,this.status=s}}class pt extends An{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function fE(t){return D(t)&&t.name==="AuthSessionMissingError"}class Js extends An{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class aa extends An{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class la extends An{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function pE(t){return D(t)&&t.name==="AuthImplicitGrantRedirectError"}class Tg extends An{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gE extends An{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class _h extends An{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function $u(t){return D(t)&&t.name==="AuthRetryableFetchError"}class Eg extends An{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class kh extends An{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ml="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Cg=` 	
\r=`.split(""),mE=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Cg.length;e+=1)t[Cg[e].charCodeAt(0)]=-2;for(let e=0;e<ml.length;e+=1)t[ml[e].charCodeAt(0)]=e;return t})();function Pg(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(ml[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(ml[s]),e.queuedBits-=6}}function Hw(t,e,n){const s=mE[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ag(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=o=>{wE(o,s,n)};for(let o=0;o<t.length;o+=1)Hw(t.charCodeAt(o),r,i);return e.join("")}function yE(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function vE(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const r=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}yE(s,e)}}function wE(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if(!(t>>7-s&1)){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function jr(t){const e=[],n={queue:0,queuedBits:0},s=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)Hw(t.charCodeAt(r),n,s);return new Uint8Array(e)}function xE(t){const e=[];return vE(t,n=>e.push(n)),new Uint8Array(e)}function Cs(t){const e=[],n={queue:0,queuedBits:0},s=r=>{e.push(r)};return t.forEach(r=>Pg(r,n,s)),Pg(null,n,s),e.join("")}function bE(t){return Math.round(Date.now()/1e3)+t}function _E(){return Symbol("auth-callback")}const Be=()=>typeof window<"u"&&typeof document<"u",hs={tested:!1,writable:!1},Kw=()=>{if(!Be())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(hs.tested)return hs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),hs.tested=!0,hs.writable=!0}catch{hs.tested=!0,hs.writable=!1}return hs.writable};function kE(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return n.searchParams.forEach((s,r)=>{e[r]=s}),e}const qw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),SE=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ar=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ds=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},$e=async(t,e)=>{await t.removeItem(e)};class tu{constructor(){this.promise=new tu.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}tu.promiseConstructor=Promise;function Bu(t){const e=t.split(".");if(e.length!==3)throw new kh("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!uE.test(e[s]))throw new kh("JWT not in base64url format");return{header:JSON.parse(Ag(e[0])),payload:JSON.parse(Ag(e[1])),signature:jr(e[2]),raw:{header:e[0],payload:e[1]}}}async function TE(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function EE(t,e){return new Promise((s,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){r(o);return}}})()})}function CE(t){return("0"+t.toString(16)).substr(-2)}function PE(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let r="";for(let i=0;i<56;i++)r+=n.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(e),Array.from(e,CE).join("")}async function AE(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(s);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function RE(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await AE(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qs(t,e,n=!1){const s=PE();let r=s;n&&(r+="/PASSWORD_RECOVERY"),await ar(t,`${e}-code-verifier`,r);const i=await RE(s);return[i,s===i?"plain":"s256"]}const OE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jE(t){const e=t.headers.get(bh);if(!e||!e.match(OE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ME(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function IE(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const DE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zs(t){if(!DE.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Uu(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function NE(t,e){return new Proxy(t,{get:(n,s,r)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,s,r)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,s,r)}})}function Rg(t){return JSON.parse(JSON.stringify(t))}const ws=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),LE=[502,503,504];async function Og(t){var e;if(!SE(t))throw new _h(ws(t),0);if(LE.includes(t.status))throw new _h(ws(t),t.status);let n;try{n=await t.json()}catch(i){throw new ks(ws(i),i)}let s;const r=jE(t);if(r&&r.getTime()>=Ww["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new Eg(ws(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new pt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Eg(ws(n),t.status,n.weak_password.reasons);throw new hE(ws(n),t.status||500,s)}const FE=(t,e,n,s)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),n))};async function F(t,e,n,s){var r;const i=Object.assign({},s==null?void 0:s.headers);i[bh]||(i[bh]=Ww["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(r=s==null?void 0:s.query)!==null&&r!==void 0?r:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await VE(t,e,n+a,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function VE(t,e,n,s,r,i){const o=FE(e,s,r,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new _h(ws(l),0)}if(a.ok||await Og(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(l){await Og(l)}}function Ut(t){var e;let n=null;UE(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=bE(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function jg(t){const e=Ut(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Fn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function $E(t){return{data:t,error:null}}function BE(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i}=t,o=Zl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Mg(t){return t}function UE(t){return t.access_token&&t.refresh_token&&t.expires_in}const zu=["global","local","others"];class zE{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=qw(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=zu[0]){if(zu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zu.join(", ")}`);try{return await F(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(D(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await F(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Fn})}catch(s){if(D(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=Zl(e,["options"]),r=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(r.new_email=s==null?void 0:s.newEmail,delete r.newEmail),await F(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:BE,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(D(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await F(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Fn})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,r,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await F(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:Mg});if(c.error)throw c.error;const h=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);u[`${w}Page`]=y}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(D(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Zs(e);try{return await F(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Fn})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Zs(e);try{return await F(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Fn})}catch(s){if(D(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){Zs(e);try{return await F(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Fn})}catch(s){if(D(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Zs(e.userId);try{const{data:n,error:s}=await F(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:s}}catch(n){if(D(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Zs(e.userId),Zs(e.id);try{return{data:await F(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,r,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await F(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:Mg});if(c.error)throw c.error;const h=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);u[`${w}Page`]=y}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(D(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await F(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await F(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await F(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(D(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await F(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await F(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(D(n))return{data:null,error:n};throw n}}}function Ig(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const er={debug:!!(globalThis&&Kw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class WE extends Yw{}async function HE(t,e,n){er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),er.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{er.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw er.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new WE(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(er.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function KE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Gw(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function qE(t){return parseInt(t,16)}function YE(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function GE(t){var e;const{chainId:n,domain:s,expirationTime:r,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:h,version:d}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=Gw(t.address),g=c?`${c}://${s}`:s,y=t.statement?`${t.statement}
`:"",w=`${g} wants you to sign in with your Ethereum account:
${f}

${y}`;let p=`URI: ${h}
Version: ${d}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(r&&(p+=`
Expiration Time: ${r.toISOString()}`),a&&(p+=`
Not Before: ${a.toISOString()}`),l&&(p+=`
Request ID: ${l}`),u){let m=`
Resources:`;for(const v of u){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);m+=`
- ${v}`}p+=m}return`${w}
${p}`}class Se extends Error{constructor({message:e,code:n,cause:s,name:r}){var i;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(i=r??(s instanceof Error?s.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class yl extends Se{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function XE({error:t,options:e}){var n,s,r;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Se({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Se({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Se({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Se({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Se({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Se({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Se({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Se({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Xw(o)){if(i.rp.id!==o)return new Se({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Se({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Se({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Se({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Se({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function JE({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Se({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Se({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(Xw(s)){if(n.rpId!==s)return new Se({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Se({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Se({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Se({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class QE{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const ZE=new QE;function eC(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:s}=t,r=Zl(t,["challenge","user","excludeCredentials"]),i=jr(e).buffer,o=Object.assign(Object.assign({},n),{id:jr(n.id).buffer}),a=Object.assign(Object.assign({},r),{challenge:i,user:o});if(s&&s.length>0){a.excludeCredentials=new Array(s.length);for(let l=0;l<s.length;l++){const u=s[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:jr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function tC(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,s=Zl(t,["challenge","allowCredentials"]),r=jr(e).buffer,i=Object.assign(Object.assign({},s),{challenge:r});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:jr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function nC(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Cs(new Uint8Array(t.response.attestationObject)),clientDataJSON:Cs(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function sC(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,s=t.getClientExtensionResults(),r=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Cs(new Uint8Array(r.authenticatorData)),clientDataJSON:Cs(new Uint8Array(r.clientDataJSON)),signature:Cs(new Uint8Array(r.signature)),userHandle:r.userHandle?Cs(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Xw(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Dg(){var t,e;return!!(Be()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function rC(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new yl("Browser returned unexpected credential type",e)}:{data:null,error:new yl("Empty credential response",e)}}catch(e){return{data:null,error:XE({error:e,options:t})}}}async function iC(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new yl("Browser returned unexpected credential type",e)}:{data:null,error:new yl("Empty credential response",e)}}catch(e){return{data:null,error:JE({error:e,options:t})}}}const oC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},aC={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function vl(...t){const e=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),n=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),s={};for(const r of t)if(r)for(const i in r){const o=r[i];if(o!==void 0)if(Array.isArray(o))s[i]=o;else if(n(o))s[i]=o;else if(e(o)){const a=s[i];e(a)?s[i]=vl(a,o):s[i]=vl(o)}else s[i]=o}return s}function lC(t,e){return vl(oC,t,e||{})}function uC(t,e){return vl(aC,t,e||{})}class cC{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:r},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:a};const l=r??ZE.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${s}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=lC(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:h}=await rC({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:h}}case"request":{const u=uC(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:h}=await iC(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:h}}}}catch(o){return D(o)?{data:null,error:o}:{data:null,error:new ks("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},i){if(!n)return{data:null,error:new po("rpId is required for WebAuthn authentication")};try{if(!Dg())return{data:null,error:new ks("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:r},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:s,credential_response:l.credential_response}})}catch(o){return D(o)?{data:null,error:o}:{data:null,error:new ks("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},i){if(!n)return{data:null,error:new po("rpId is required for WebAuthn registration")};try{if(!Dg())return{data:null,error:new ks("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var h;return(h=c.data)===null||h===void 0?void 0:h.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===e&&d.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:r},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:s,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return D(o)?{data:null,error:o}:{data:null,error:new ks("Unexpected error in register",o)}}}}KE();const hC={url:oE,storageKey:aE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Ng(t,e,n){return await n()}const tr={};class go{get jwks(){var e,n;return(n=(e=tr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){tr[this.storageKey]=Object.assign(Object.assign({},tr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=tr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){tr[this.storageKey]=Object.assign(Object.assign({},tr[this.storageKey]),{cachedAt:e})}constructor(e){var n,s,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},hC),e);if(this.storageKey=i.storageKey,this.instanceID=(n=go.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,go.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Be()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new zE({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=qw(i.fetch),this.lock=i.lock||Ng,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&Be()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=HE:this.lock=Ng,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new cC(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Kw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ig(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Ig(this.memoryStorage)),Be()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${zw}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},s="none";if(Be()&&(n=kE(window.location.href),this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce")),Be()&&this.detectSessionInUrl&&s!=="none"){const{data:r,error:i}=await this._getSessionFromURL(n,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),pE(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return D(n)?this._returnResult({error:n}):this._returnResult({error:new ks("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,r;try{const i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:Ut}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(D(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var n,s,r;try{let i;if("email"in e){const{email:c,password:h,options:d}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await Qs(this.storage,this.storageKey)),i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:c,password:h,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:g},xform:Ut})}else if("phone"in e){const{phone:c,password:h,options:d}=e;i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},channel:(r=d==null?void 0:d.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Ut})}else throw new aa("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await $e(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await $e(this.storage,`${this.storageKey}-code-verifier`),D(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:jg})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:jg})}else throw new aa("You must provide either an email or phone number and a password");const{data:s,error:r}=n;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!s||!s.session||!s.user){const i=new Js;return this._returnResult({data:{user:null,session:null},error:i})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(n){if(D(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,s,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,r,i,o,a,l,u,c,h,d;let f,g;if("message"in e)f=e.message,g=e.signature;else{const{chain:y,wallet:w,statement:p,options:m}=e;let v;if(Be())if(typeof w=="object")v=w;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")v=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=w}const b=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href),_=await v.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=Gw(_[0]);let k=(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!k){const P=await v.request({method:"eth_chainId"});k=qE(P)}const E={domain:b.host,address:S,statement:p,uri:b.href,version:"1",chainId:k,nonce:(r=m==null?void 0:m.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(o=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.resources};f=GE(E),g=await v.request({method:"personal_sign",params:[YE(f),S]})}try{const{data:y,error:w}=await F(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:g},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:Ut});if(w)throw w;if(!y||!y.session||!y.user){const p=new Js;return this._returnResult({data:{user:null,session:null},error:p})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:w})}catch(y){if(D(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var n,s,r,i,o,a,l,u,c,h,d,f;let g,y;if("message"in e)g=e.message,y=e.signature;else{const{chain:w,wallet:p,statement:m,options:v}=e;let b;if(Be())if(typeof p=="object")b=p;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))b=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=p}const _=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in b&&b.signIn){const S=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),m?{statement:m}:null));let k;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")k=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)k=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)g=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),y=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${_.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(r=(s=v==null?void 0:v.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(c=v==null?void 0:v.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const S=await b.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=S}}try{const{data:w,error:p}=await F(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Cs(y)},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ut});if(p)throw p;if(!w||!w.session||!w.user){const m=new Js;return this._returnResult({data:{user:null,session:null},error:m})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:p})}catch(w){if(D(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(e){const n=await ds(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(n??"").split("/");try{if(!s&&this.flowType==="pkce")throw new gE;const{data:i,error:o}=await F(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Ut});if(await $e(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Js;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(await $e(this.storage,`${this.storageKey}-code-verifier`),D(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:n,provider:s,token:r,access_token:i,nonce:o}=e,a=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ut}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Js;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(D(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,s,r,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Qs(this.storage,this.storageKey));const{error:h}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new aa("You must provide either an email or phone number.")}catch(a){if(await $e(this.storage,`${this.storageKey}-code-verifier`),D(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var n,s;try{let r,i;"options"in e&&(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await F(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:Ut});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(r){if(D(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(e){var n,s,r,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Qs(this.storage,this.storageKey));const u=await F(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:$E});return!((i=u.data)===null||i===void 0)&&i.url&&Be()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await $e(this.storage,`${this.storageKey}-code-verifier`),D(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new pt;const{error:r}=await F(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(e){if(D(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:r,options:i}=e,{error:o}=await F(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:s,type:r,options:i}=e,{data:o,error:a}=await F(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new aa("You must provide either an email or phone number and a type")}catch(n){if(D(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ds(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Vu:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const o=await ds(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Uu()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=NE(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Fn}):await this._useSession(async n=>{var s,r,i;const{data:o,error:a}=n;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pt}:await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:Fn})})}catch(n){if(D(n))return fE(n)&&(await this._removeSession(),await $e(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:r,error:i}=s;if(i)throw i;if(!r.session)throw new pt;const o=r.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Qs(this.storage,this.storageKey));const{data:u,error:c}=await F(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Fn});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(s){if(await $e(this.storage,`${this.storageKey}-code-verifier`),D(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new pt;const n=Date.now()/1e3;let s=n,r=!0,i=null;const{payload:o}=Bu(e.access_token);if(o.exp&&(s=o.exp,r=s<=n),r){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(D(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new pt;const{data:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(D(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Be())throw new la("No browser detected.");if(e.error||e.error_description||e.error_code)throw new la(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Tg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new la("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Tg("No code detected.");const{data:m,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new la("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let d=c+h;l&&(d=parseInt(l));const f=d-c;f*1e3<=or&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const g=d-h;c-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,d,c):c-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,d,c);const{data:y,error:w}=await this._getUser(i);if(w)throw w;const p={provider_token:s,provider_refresh_token:r,access_token:i,expires_in:h,expires_at:d,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:e.type},error:null})}catch(s){if(D(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ds(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return this._returnResult({error:i});const o=(s=r.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(dE(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await $e(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=_E(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,r;try{const{data:{session:i},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await Qs(this.storage,this.storageKey,!0));try{return await F(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await $e(this.storage,`${this.storageKey}-code-verifier`),D(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:r}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:d}=i;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await F(this.fetch,"GET",f,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(r)throw r;return Be()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:e.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(D(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:r,data:{session:i}}=n;if(r)throw r;const{options:o,provider:a,token:l,access_token:u,nonce:c}=e,h=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=i==null?void 0:i.access_token)!==null&&s!==void 0?s:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ut}),{data:d,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!d||!d.session||!d.user?this._returnResult({data:{user:null,session:null},error:new Js}):(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:f}))}catch(r){if(await $e(this.storage,`${this.storageKey}-code-verifier`),D(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,r;const{data:i,error:o}=n;if(o)throw o;return await F(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await EE(async r=>(r>0&&await TE(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await F(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ut})),(r,i)=>{const o=200*Math.pow(2,r);return i&&$u(i)&&Date.now()+o-s<or})}catch(s){if(this._debug(n,"error",s),D(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),Be()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await ds(this.storage,this.storageKey);if(r&&this.userStorage){let o=await ds(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:r.user},await ar(this.userStorage,this.storageKey+"-user",o)),r.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Uu()}else if(r&&!r.user&&!r.user){const o=await ds(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(r.user=o.user,await $e(this.storage,this.storageKey+"-user"),await ar(this.storage,this.storageKey,r)):r.user=Uu()}if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const i=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Vu;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${Vu}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),$u(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(r.access_token);!a&&(o!=null&&o.user)?(r.user=o.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new pt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new tu;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new pt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(r,"error",i),D(i)){const o={data:null,error:i};return $u(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,n,s=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await $e(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await ar(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const i=Rg(r);await ar(this.storage,this.storageKey,i)}else{const r=Rg(n);await ar(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await $e(this.storage,this.storageKey),await $e(this.storage,this.storageKey+"-code-verifier"),await $e(this.storage,this.storageKey+"-user"),this.userStorage&&await $e(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Be()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),or);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-e)/or);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${or}ms, refresh threshold is ${xh} ticks`),r<=xh&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Yw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Be()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const r=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await Qs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);r.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;return i?this._returnResult({data:null,error:i}):await F(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await F(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?nC(e.webauthn.credential_response):sC(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:eC(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:tC(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const r={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])r.all.push(i),i.status==="verified"&&r[i.factor_type].push(i);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:s},error:r}=await this.getSession();if(r)return this._returnResult({data:null,error:r});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Bu(s.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((n=(e=s.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:s},error:r}=n;return r?this._returnResult({data:null,error:r}):s?await F(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new pt})})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:r},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!r)return this._returnResult({data:null,error:new pt});const o=await F(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Be()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(s){if(D(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:r},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!r)return this._returnResult({data:null,error:new pt});const o=await F(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Be()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(s){if(D(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;return s?this._returnResult({data:null,error:s}):n?await F(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:r=>({data:r,error:null})}):this._returnResult({data:null,error:new pt})})}catch(e){if(D(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:s},error:r}=n;return r?this._returnResult({data:null,error:r}):s?(await F(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new pt})})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(a=>a.kid===e);if(s)return s;const r=Date.now();if(s=this.jwks.keys.find(a=>a.kid===e),s&&this.jwks_cached_at+cE>r)return s;const{data:i,error:o}=await F(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=r,s=i.keys.find(a=>a.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:f,error:g}=await this.getSession();if(g||!f.session)return this._returnResult({data:null,error:g});s=f.session.access_token}const{header:r,payload:i,signature:o,raw:{header:a,payload:l}}=Bu(s);n!=null&&n.allowExpired||ME(i.exp);const u=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:f}=await this.getUser(s);if(f)throw f;return{data:{claims:i,header:r,signature:o},error:null}}const c=IE(r.alg),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,xE(`${a}.${l}`)))throw new kh("Invalid JWT signature");return{data:{claims:i,header:r,signature:o},error:null}}catch(s){if(D(s))return this._returnResult({data:null,error:s});throw s}}}go.nextInstanceID={};const dC=go,fC="2.89.0";let xi="";typeof Deno<"u"?xi="deno":typeof document<"u"?xi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xi="react-native":xi="node";const pC={"X-Client-Info":`supabase-js-${xi}/${fC}`},gC={headers:pC},mC={schema:"public"},yC={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vC={};function mo(t){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mo(t)}function wC(t,e){if(mo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(mo(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xC(t){var e=wC(t,"string");return mo(e)=="symbol"?e:e+""}function bC(t,e,n){return(e=xC(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,s)}return n}function ve(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lg(Object(n),!0).forEach(function(s){bC(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lg(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const _C=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),kC=()=>Headers,SC=(t,e,n)=>{const s=_C(n),r=kC();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new r(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),s(i,ve(ve({},o),{},{headers:u}))}};function TC(t){return t.endsWith("/")?t:t+"/"}function EC(t,e){var n,s;const{db:r,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:h}=e,d={db:ve(ve({},l),r),auth:ve(ve({},u),i),realtime:ve(ve({},c),o),storage:{},global:ve(ve(ve({},h),a),{},{headers:ve(ve({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(s=a==null?void 0:a.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}function CC(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(TC(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var PC=class extends dC{constructor(t){super(t)}},AC=class{constructor(t,e,n){var s,r;this.supabaseUrl=t,this.supabaseKey=e;const i=CC(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:mC,realtime:vC,auth:ve(ve({},yC),{},{storageKey:o}),global:gC},l=EC(n??{},a);if(this.storageKey=(s=l.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(r=l.global.headers)!==null&&r!==void 0?r:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=SC(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(ve({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new lT(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new iE(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new sT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:s}=await t.auth.getSession();return(e=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:r,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:u},c,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new PC({url:this.authUrl.href,headers:ve(ve({},d),c),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:r,flowType:o,lock:a,debug:l,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new TT(this.realtimeUrl.href,ve(ve({},t),{},{params:ve(ve({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const RC=(t,e,n)=>new AC(t,e,n);function OC(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}OC()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const jC="https://finbtbxuaybsokjwfrxc.supabase.co",MC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZpbmJ0Ynh1YXlic29randmcnhjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY0MTM2MzEsImV4cCI6MjA4MTk4OTYzMX0.miwH3X0RgSyEXP7dkjw9XMDtUaDfLtpe8oJP-fr3SB0",Ne=RC(jC,MC),ye={login:async(t,e)=>{const{data:n,error:s}=await Ne.from("users").select("*").eq("regNumber",t).eq("password",e).single();if(s||!n)throw new Error("Invalid credentials");return localStorage.setItem("user",JSON.stringify(n)),n},register:async t=>{const{data:e}=await Ne.from("users").select("id").eq("regNumber",t.regNumber).maybeSingle();if(e)throw new Error("User with this Registration Number already exists");const{data:n,error:s}=await Ne.from("users").insert([{...t,id:Date.now().toString(),created_at:new Date().toISOString()}]).select().single();if(s)throw s;return localStorage.setItem("user",JSON.stringify(n)),n},getCurrentUser:()=>{const t=localStorage.getItem("user");return t?JSON.parse(t):null},logout:()=>{localStorage.removeItem("user")},getUsers:async()=>{const{data:t,error:e}=await Ne.from("users").select("*");if(e)throw e;return t},getCourses:async(t={})=>{let e=Ne.from("courses").select("*");t.lecturerId&&(e=e.eq("lecturerId",t.lecturerId));const{data:n,error:s}=await e;if(s)throw s;return n},createCourse:async t=>{const{data:e,error:n}=await Ne.from("courses").insert([{...t,id:Date.now().toString()}]).select().single();if(n)throw n;return e},updateCourse:async(t,e)=>{const{data:n,error:s}=await Ne.from("courses").update(e).eq("id",t).select().single();if(s)throw s;return n},deleteCourse:async t=>{const{error:e}=await Ne.from("courses").delete().eq("id",t);if(e)throw e;return!0},getMarks:async t=>{let e=Ne.from("marks").select("*, courses(code, name)");t&&(e=e.eq("studentId",t));const{data:n,error:s}=await e;if(s)throw s;return n.map(r=>({...r,...r.courses?{code:r.courses.code,name:r.courses.name}:{}}))},createMark:async t=>{const{data:e,error:n}=await Ne.from("marks").insert([{...t,id:Date.now().toString()}]).select().single();if(n)throw n;return e},updateMark:async(t,e)=>{const{data:n,error:s}=await Ne.from("marks").update(e).eq("id",t).select().single();if(s)throw s;return n},getClaims:async(t={})=>{let e=Ne.from("claims").select("*");if(t.studentId&&(e=e.eq("studentId",t.studentId)),t.lecturerId){const{data:r,error:i}=await Ne.from("claims").select("*, courses!inner(lecturerId)").eq("courses.lecturerId",t.lecturerId);if(i)throw i;return r}const{data:n,error:s}=await e;if(s)throw s;return n},createClaim:async t=>{const{data:e,error:n}=await Ne.from("claims").insert([{...t,id:"claim_"+Date.now(),status:"pending",submittedAt:new Date().toISOString()}]).select().single();if(n)throw n;return e},updateClaim:async(t,e)=>{const{data:n,error:s}=await Ne.from("claims").update(e).eq("id",t).select().single();if(s)throw s;return n},joinCourse:async t=>{const{data:e}=await Ne.from("enrollments").select("*").eq("studentId",t.studentId).eq("courseId",t.courseId).maybeSingle();if(e)return e;const{data:n,error:s}=await Ne.from("enrollments").insert([{...t,id:Date.now().toString(),joinedAt:new Date().toISOString()}]).select().single();if(s)throw s;return n},getEnrollments:async(t={})=>{let e=Ne.from("enrollments").select("*");t.studentId&&(e=e.eq("studentId",t.studentId)),t.courseId&&(e=e.eq("courseId",t.courseId));const{data:n,error:s}=await e;if(s)throw s;return n}},IC=Object.freeze(Object.defineProperty({__proto__:null,ApiService:ye},Symbol.toStringTag,{value:"Module"})),Jw=T.createContext(null),DC=({children:t})=>{const[e,n]=T.useState(null),[s,r]=T.useState(!0);T.useEffect(()=>{const a=ye.getCurrentUser();n(a),r(!1)},[]);const i=async(a,l)=>{try{const u=await ye.login(a,l);return u?(n(u),!0):!1}catch(u){return console.error("Login failed",u),!1}},o=()=>{ye.logout(),n(null)};return x.jsx(Jw.Provider,{value:{user:e,login:i,logout:o,loading:s},children:!s&&t})},Do=()=>T.useContext(Jw),NC="modulepreload",LC=function(t){return"/"+t},Fg={},FC=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=LC(l),l in Fg)return;Fg[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":NC,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},VC=()=>{const[t,e]=T.useState(!1),[n,s]=T.useState(""),[r,i]=T.useState(""),[o,a]=T.useState(""),[l,u]=T.useState(""),[c,h]=T.useState("student"),[d,f]=T.useState(""),[g,y]=T.useState(""),[w,p]=T.useState(""),[m,v]=T.useState(""),[b,_]=T.useState(""),{login:S}=Do(),k=Jd(),E=async C=>{if(C.preventDefault(),_(""),await S(n,r)){const j=JSON.parse(localStorage.getItem("user"));(j==null?void 0:j.role)==="student"?k("/student"):(j==null?void 0:j.role)==="lecturer"&&k("/lecturer")}else _("Invalid Registration Number or Password")},P=async C=>{C.preventDefault(),_("");try{const{ApiService:j}=await FC(async()=>{const{ApiService:W}=await Promise.resolve().then(()=>IC);return{ApiService:W}},void 0),L={regNumber:n,password:r,name:o,email:l,role:c,...c==="student"?{academicYear:d,program:g,intake:w,cohortYear:m}:{}};if(await j.register(L),await S(n,r)){const W=JSON.parse(localStorage.getItem("user"));(W==null?void 0:W.role)==="student"?k("/student"):(W==null?void 0:W.role)==="lecturer"&&k("/lecturer")}}catch(j){console.error(j),_(j.message||"Registration failed")}};return x.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-100 dark:bg-slate-900 transition-colors duration-200",children:x.jsxs("div",{className:"w-full max-w-md p-8 bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 mx-4",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Academic Marks System"}),x.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"Sign in to your account"})]}),b&&x.jsx("div",{className:"p-3 mb-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg text-sm flex items-center justify-center",children:b}),x.jsxs("div",{className:"flex justify-between mb-6",children:[x.jsx("button",{className:`text-lg font-bold pb-2 px-4 transition-colors ${t?"text-slate-400":"text-blue-600 border-b-2 border-blue-600"}`,onClick:()=>e(!1),children:"Sign In"}),x.jsx("button",{className:`text-lg font-bold pb-2 px-4 transition-colors ${t?"text-blue-600 border-b-2 border-blue-600":"text-slate-400"}`,onClick:()=>e(!0),children:"Sign Up"})]}),x.jsxs("form",{onSubmit:t?P:E,className:"space-y-4",children:[t&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Full Name"}),x.jsx("input",{type:"text",required:!0,value:o,onChange:C=>a(C.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Email"}),x.jsx("input",{type:"email",required:!0,value:l,onChange:C=>u(C.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Registration Number / Staff ID"}),x.jsx("input",{type:"text",required:!0,value:n,onChange:C=>s(C.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"})]}),t&&x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Role"}),x.jsxs("div",{className:"flex gap-4 mt-1",children:[x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer dark:text-white",children:[x.jsx("input",{type:"radio",name:"role",value:"student",checked:c==="student",onChange:()=>h("student"),className:"text-blue-600 focus:ring-blue-500"}),"Student"]}),x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer dark:text-white",children:[x.jsx("input",{type:"radio",name:"role",value:"lecturer",checked:c==="lecturer",onChange:()=>h("lecturer"),className:"text-blue-600 focus:ring-blue-500"}),"Lecturer"]})]})]}),t&&c==="student"&&x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Year"}),x.jsx("input",{type:"text",placeholder:"e.g. Year 1",value:d,onChange:C=>f(C.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Program"}),x.jsx("input",{type:"text",placeholder:"e.g. CS",value:g,onChange:C=>y(C.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Intake"}),x.jsx("input",{type:"text",placeholder:"e.g. 9",value:w,onChange:C=>p(C.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Cohort Year"}),x.jsx("input",{type:"text",placeholder:"e.g. 2024",value:m,onChange:C=>v(C.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Password"}),x.jsx("input",{type:"password",required:!0,value:r,onChange:C=>i(C.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"})]}),x.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all transform hover:-translate-y-0.5",children:t?"Create Account":"Sign In"})]}),x.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-100 dark:border-slate-700 text-center",children:[x.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 uppercase tracking-widest mb-4",children:"Demo Credentials"}),x.jsxs("div",{className:"flex justify-center gap-4 text-sm text-slate-600 dark:text-slate-300",children:[x.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 px-3 py-1 rounded",children:["Student: ",x.jsx("strong",{children:"STU001"})]}),x.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 px-3 py-1 rounded",children:["Lecturer: ",x.jsx("strong",{children:"LEC001"})]})]}),x.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Password: ",x.jsx("strong",{children:"password"})]})]})]})})},Qw=T.createContext(),$C=({children:t})=>{const[e,n]=T.useState(localStorage.getItem("app_theme")||"light");T.useEffect(()=>{const r=window.document.documentElement;e==="dark"?r.classList.add("dark"):r.classList.remove("dark"),localStorage.setItem("app_theme",e)},[e]);const s=()=>{n(r=>r==="light"?"dark":"light")};return x.jsx(Qw.Provider,{value:{theme:e,toggleTheme:s},children:t})},BC=()=>T.useContext(Qw);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Lt=(t,e)=>{const n=T.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},c)=>T.createElement("svg",{ref:c,...UC,width:r,height:r,stroke:s,strokeWidth:o?Number(i)*24/Number(r):i,className:["lucide",`lucide-${zC(t)}`,a].join(" "),...u},[...e.map(([h,d])=>T.createElement(h,d)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=Lt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=Lt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=Lt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=Lt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=Lt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=Lt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=Lt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=Lt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=Lt("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=Lt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=Lt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=Lt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),eP=()=>{const{user:t,logout:e}=Do(),{theme:n,toggleTheme:s}=BC(),r=Jd(),i=()=>{e(),r("/login")},o=new Date().getFullYear();return t?x.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 transition-colors duration-200",children:[x.jsx("header",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 sticky top-0 z-50",children:x.jsxs("div",{className:"container mx-auto px-4 h-16 flex justify-between items-center",children:[x.jsxs("div",{className:"flex items-center gap-3 text-blue-600 dark:text-blue-500 font-bold text-xl",children:[x.jsx(YC,{className:"h-8 w-8"}),x.jsx("span",{className:"hidden sm:inline",children:"UNILAK Academic Review System"}),x.jsx("span",{className:"sm:hidden",children:"UNILAK ARS"})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("button",{onClick:s,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors text-slate-600 dark:text-slate-400",title:"Toggle Theme",children:n==="dark"?x.jsx(QC,{size:20}):x.jsx(XC,{size:20})}),x.jsxs("div",{className:"flex items-center gap-3 pl-3 border-l border-slate-200 dark:border-slate-700",children:[x.jsxs("div",{className:"text-right hidden md:block",children:[x.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-200",children:t.name}),x.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 capitalize",children:t.role})]}),x.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors",children:[x.jsx(GC,{size:18}),x.jsx("span",{className:"hidden md:inline",children:"Logout"})]})]})]})]})}),x.jsx("main",{className:"container mx-auto px-4 py-8 flex-1",children:x.jsx(Y1,{})}),x.jsxs("footer",{className:"bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 py-6 text-center text-sm text-slate-500 dark:text-slate-400",children:[" ",o," University Academic System. All rights reserved."]})]}):null},tP=(t,e,n)=>{const s=parseFloat(t)||0,r=parseFloat(e)||0,i=parseFloat(n)||0;return Number((s+r+i).toFixed(2))},Zw=T.createContext({});function nP(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const sf=typeof window<"u",sP=sf?T.useLayoutEffect:T.useEffect,rf=T.createContext(null);function of(t,e){t.indexOf(e)===-1&&t.push(e)}function af(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const En=(t,e,n)=>n>e?e:n<t?t:n;let lf=()=>{};const Cn={},ex=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function tx(t){return typeof t=="object"&&t!==null}const nx=t=>/^0[^.\s]+$/u.test(t);function uf(t){let e;return()=>(e===void 0&&(e=t()),e)}const jt=t=>t,rP=(t,e)=>n=>e(t(n)),No=(...t)=>t.reduce(rP),yo=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class cf{constructor(){this.subscriptions=[]}add(e){return of(this.subscriptions,e),()=>af(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let i=0;i<r;i++){const o=this.subscriptions[i];o&&o(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const un=t=>t*1e3,At=t=>t/1e3;function sx(t,e){return e?t*(1e3/e):0}const rx=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,iP=1e-7,oP=12;function aP(t,e,n,s,r){let i,o,a=0;do o=e+(n-e)/2,i=rx(o,s,r)-t,i>0?n=o:e=o;while(Math.abs(i)>iP&&++a<oP);return o}function Lo(t,e,n,s){if(t===e&&n===s)return jt;const r=i=>aP(i,0,1,t,n);return i=>i===0||i===1?i:rx(r(i),e,s)}const ix=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ox=t=>e=>1-t(1-e),ax=Lo(.33,1.53,.69,.99),hf=ox(ax),lx=ix(hf),ux=t=>(t*=2)<1?.5*hf(t):.5*(2-Math.pow(2,-10*(t-1))),df=t=>1-Math.sin(Math.acos(t)),cx=ox(df),hx=ix(df),lP=Lo(.42,0,1,1),uP=Lo(0,0,.58,1),dx=Lo(.42,0,.58,1),cP=t=>Array.isArray(t)&&typeof t[0]!="number",fx=t=>Array.isArray(t)&&typeof t[0]=="number",hP={linear:jt,easeIn:lP,easeInOut:dx,easeOut:uP,circIn:df,circInOut:hx,circOut:cx,backIn:hf,backInOut:lx,backOut:ax,anticipate:ux},dP=t=>typeof t=="string",$g=t=>{if(fx(t)){lf(t.length===4);const[e,n,s,r]=t;return Lo(e,n,s,r)}else if(dP(t))return hP[t];return t},ua=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function fP(t,e){let n=new Set,s=new Set,r=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(c){o.has(c)&&(u.schedule(c),t()),c(a)}const u={schedule:(c,h=!1,d=!1)=>{const g=d&&r?n:s;return h&&o.add(c),g.has(c)||g.add(c),c},cancel:c=>{s.delete(c),o.delete(c)},process:c=>{if(a=c,r){i=!0;return}r=!0,[n,s]=[s,n],n.forEach(l),n.clear(),r=!1,i&&(i=!1,u.process(c))}};return u}const pP=40;function px(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=ua.reduce((v,b)=>(v[b]=fP(i),v),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:h,preRender:d,render:f,postRender:g}=o,y=()=>{const v=Cn.useManualTiming?r.timestamp:performance.now();n=!1,Cn.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(v-r.timestamp,pP),1)),r.timestamp=v,r.isProcessing=!0,a.process(r),l.process(r),u.process(r),c.process(r),h.process(r),d.process(r),f.process(r),g.process(r),r.isProcessing=!1,n&&e&&(s=!1,t(y))},w=()=>{n=!0,s=!0,r.isProcessing||t(y)};return{schedule:ua.reduce((v,b)=>{const _=o[b];return v[b]=(S,k=!1,E=!1)=>(n||w(),_.schedule(S,k,E)),v},{}),cancel:v=>{for(let b=0;b<ua.length;b++)o[ua[b]].cancel(v)},state:r,steps:o}}const{schedule:ce,cancel:ss,state:ze,steps:Wu}=px(typeof requestAnimationFrame<"u"?requestAnimationFrame:jt,!0);let La;function gP(){La=void 0}const ut={now:()=>(La===void 0&&ut.set(ze.isProcessing||Cn.useManualTiming?ze.timestamp:performance.now()),La),set:t=>{La=t,queueMicrotask(gP)}},gx=t=>e=>typeof e=="string"&&e.startsWith(t),mx=gx("--"),mP=gx("var(--"),ff=t=>mP(t)?yP.test(t.split("/*")[0].trim()):!1,yP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Jr={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},vo={...Jr,transform:t=>En(0,1,t)},ca={...Jr,default:1},Fi=t=>Math.round(t*1e5)/1e5,pf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function vP(t){return t==null}const wP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,gf=(t,e)=>n=>!!(typeof n=="string"&&wP.test(n)&&n.startsWith(t)||e&&!vP(n)&&Object.prototype.hasOwnProperty.call(n,e)),yx=(t,e,n)=>s=>{if(typeof s!="string")return s;const[r,i,o,a]=s.match(pf);return{[t]:parseFloat(r),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},xP=t=>En(0,255,t),Hu={...Jr,transform:t=>Math.round(xP(t))},Ps={test:gf("rgb","red"),parse:yx("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Hu.transform(t)+", "+Hu.transform(e)+", "+Hu.transform(n)+", "+Fi(vo.transform(s))+")"};function bP(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const Th={test:gf("#"),parse:bP,transform:Ps.transform},Fo=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),jn=Fo("deg"),cn=Fo("%"),U=Fo("px"),_P=Fo("vh"),kP=Fo("vw"),Bg={...cn,parse:t=>cn.parse(t)/100,transform:t=>cn.transform(t*100)},br={test:gf("hsl","hue"),parse:yx("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+cn.transform(Fi(e))+", "+cn.transform(Fi(n))+", "+Fi(vo.transform(s))+")"},Te={test:t=>Ps.test(t)||Th.test(t)||br.test(t),parse:t=>Ps.test(t)?Ps.parse(t):br.test(t)?br.parse(t):Th.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ps.transform(t):br.transform(t),getAnimatableNone:t=>{const e=Te.parse(t);return e.alpha=0,Te.transform(e)}},SP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TP(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(pf))==null?void 0:e.length)||0)+(((n=t.match(SP))==null?void 0:n.length)||0)>0}const vx="number",wx="color",EP="var",CP="var(",Ug="${}",PP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wo(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},r=[];let i=0;const a=e.replace(PP,l=>(Te.test(l)?(s.color.push(i),r.push(wx),n.push(Te.parse(l))):l.startsWith(CP)?(s.var.push(i),r.push(EP),n.push(l)):(s.number.push(i),r.push(vx),n.push(parseFloat(l))),++i,Ug)).split(Ug);return{values:n,split:a,indexes:s,types:r}}function xx(t){return wo(t).values}function bx(t){const{split:e,types:n}=wo(t),s=e.length;return r=>{let i="";for(let o=0;o<s;o++)if(i+=e[o],r[o]!==void 0){const a=n[o];a===vx?i+=Fi(r[o]):a===wx?i+=Te.transform(r[o]):i+=r[o]}return i}}const AP=t=>typeof t=="number"?0:Te.test(t)?Te.getAnimatableNone(t):t;function RP(t){const e=xx(t);return bx(t)(e.map(AP))}const rs={test:TP,parse:xx,createTransformer:bx,getAnimatableNone:RP};function Ku(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function OP({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,i=0,o=0;if(!e)r=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=Ku(l,a,t+1/3),i=Ku(l,a,t),o=Ku(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function wl(t,e){return n=>n>0?e:t}const fe=(t,e,n)=>t+(e-t)*n,qu=(t,e,n)=>{const s=t*t,r=n*(e*e-s)+s;return r<0?0:Math.sqrt(r)},jP=[Th,Ps,br],MP=t=>jP.find(e=>e.test(t));function zg(t){const e=MP(t);if(!e)return!1;let n=e.parse(t);return e===br&&(n=OP(n)),n}const Wg=(t,e)=>{const n=zg(t),s=zg(e);if(!n||!s)return wl(t,e);const r={...n};return i=>(r.red=qu(n.red,s.red,i),r.green=qu(n.green,s.green,i),r.blue=qu(n.blue,s.blue,i),r.alpha=fe(n.alpha,s.alpha,i),Ps.transform(r))},Eh=new Set(["none","hidden"]);function IP(t,e){return Eh.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function DP(t,e){return n=>fe(t,e,n)}function mf(t){return typeof t=="number"?DP:typeof t=="string"?ff(t)?wl:Te.test(t)?Wg:FP:Array.isArray(t)?_x:typeof t=="object"?Te.test(t)?Wg:NP:wl}function _x(t,e){const n=[...t],s=n.length,r=t.map((i,o)=>mf(i)(i,e[o]));return i=>{for(let o=0;o<s;o++)n[o]=r[o](i);return n}}function NP(t,e){const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=mf(t[r])(t[r],e[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}}function LP(t,e){const n=[],s={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const i=e.types[r],o=t.indexes[i][s[i]],a=t.values[o]??0;n[r]=a,s[i]++}return n}const FP=(t,e)=>{const n=rs.createTransformer(e),s=wo(t),r=wo(e);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?Eh.has(t)&&!r.values.length||Eh.has(e)&&!s.values.length?IP(t,e):No(_x(LP(s,r),r.values),n):wl(t,e)};function kx(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?fe(t,e,n):mf(t)(t,e)}const VP=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ce.update(e,n),stop:()=>ss(e),now:()=>ze.isProcessing?ze.timestamp:ut.now()}},Sx=(t,e,n=10)=>{let s="";const r=Math.max(Math.round(e/n),2);for(let i=0;i<r;i++)s+=Math.round(t(i/(r-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},xl=2e4;function yf(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<xl;)e+=n,s=t.next(e);return e>=xl?1/0:e}function $P(t,e=100,n){const s=n({...t,keyframes:[0,e]}),r=Math.min(yf(s),xl);return{type:"keyframes",ease:i=>s.next(r*i).value/e,duration:At(r)}}const BP=5;function Tx(t,e,n){const s=Math.max(e-BP,0);return sx(n-t(s),e-s)}const we={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Yu=.001;function UP({duration:t=we.duration,bounce:e=we.bounce,velocity:n=we.velocity,mass:s=we.mass}){let r,i,o=1-e;o=En(we.minDamping,we.maxDamping,o),t=En(we.minDuration,we.maxDuration,At(t)),o<1?(r=u=>{const c=u*o,h=c*t,d=c-n,f=Ch(u,o),g=Math.exp(-h);return Yu-d/f*g},i=u=>{const h=u*o*t,d=h*n+n,f=Math.pow(o,2)*Math.pow(u,2)*t,g=Math.exp(-h),y=Ch(Math.pow(u,2),o);return(-r(u)+Yu>0?-1:1)*((d-f)*g)/y}):(r=u=>{const c=Math.exp(-u*t),h=(u-n)*t+1;return-Yu+c*h},i=u=>{const c=Math.exp(-u*t),h=(n-u)*(t*t);return c*h});const a=5/t,l=WP(r,i,a);if(t=un(t),isNaN(l))return{stiffness:we.stiffness,damping:we.damping,duration:t};{const u=Math.pow(l,2)*s;return{stiffness:u,damping:o*2*Math.sqrt(s*u),duration:t}}}const zP=12;function WP(t,e,n){let s=n;for(let r=1;r<zP;r++)s=s-t(s)/e(s);return s}function Ch(t,e){return t*Math.sqrt(1-e*e)}const HP=["duration","bounce"],KP=["stiffness","damping","mass"];function Hg(t,e){return e.some(n=>t[n]!==void 0)}function qP(t){let e={velocity:we.velocity,stiffness:we.stiffness,damping:we.damping,mass:we.mass,isResolvedFromDuration:!1,...t};if(!Hg(t,KP)&&Hg(t,HP))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,i=2*En(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:we.mass,stiffness:r,damping:i}}else{const n=UP(t);e={...e,...n,mass:we.mass},e.isResolvedFromDuration=!0}return e}function bl(t=we.visualDuration,e=we.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:r}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:c,duration:h,velocity:d,isResolvedFromDuration:f}=qP({...n,velocity:-At(n.velocity||0)}),g=d||0,y=u/(2*Math.sqrt(l*c)),w=o-i,p=At(Math.sqrt(l/c)),m=Math.abs(w)<5;s||(s=m?we.restSpeed.granular:we.restSpeed.default),r||(r=m?we.restDelta.granular:we.restDelta.default);let v;if(y<1){const _=Ch(p,y);v=S=>{const k=Math.exp(-y*p*S);return o-k*((g+y*p*w)/_*Math.sin(_*S)+w*Math.cos(_*S))}}else if(y===1)v=_=>o-Math.exp(-p*_)*(w+(g+p*w)*_);else{const _=p*Math.sqrt(y*y-1);v=S=>{const k=Math.exp(-y*p*S),E=Math.min(_*S,300);return o-k*((g+y*p*w)*Math.sinh(E)+_*w*Math.cosh(E))/_}}const b={calculatedDuration:f&&h||null,next:_=>{const S=v(_);if(f)a.done=_>=h;else{let k=_===0?g:0;y<1&&(k=_===0?un(g):Tx(v,_,S));const E=Math.abs(k)<=s,P=Math.abs(o-S)<=r;a.done=E&&P}return a.value=a.done?o:S,a},toString:()=>{const _=Math.min(yf(b),xl),S=Sx(k=>b.next(_*k).value,_,30);return _+"ms "+S},toTransition:()=>{}};return b}bl.applyToOptions=t=>{const e=$P(t,100,bl);return t.ease=e.ease,t.duration=un(e.duration),t.type="keyframes",t};function Ph({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=t[0],d={done:!1,value:h},f=E=>a!==void 0&&E<a||l!==void 0&&E>l,g=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let y=n*e;const w=h+y,p=o===void 0?w:o(w);p!==w&&(y=p-h);const m=E=>-y*Math.exp(-E/s),v=E=>p+m(E),b=E=>{const P=m(E),C=v(E);d.done=Math.abs(P)<=u,d.value=d.done?p:C};let _,S;const k=E=>{f(d.value)&&(_=E,S=bl({keyframes:[d.value,g(d.value)],velocity:Tx(v,E,d.value),damping:r,stiffness:i,restDelta:u,restSpeed:c}))};return k(0),{calculatedDuration:null,next:E=>{let P=!1;return!S&&_===void 0&&(P=!0,b(E),k(E)),_!==void 0&&E>=_?S.next(E-_):(!P&&b(E),d)}}}function YP(t,e,n){const s=[],r=n||Cn.mix||kx,i=t.length-1;for(let o=0;o<i;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||jt:e;a=No(l,a)}s.push(a)}return s}function GP(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const i=t.length;if(lf(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=YP(e,s,r),l=a.length,u=c=>{if(o&&c<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const d=yo(t[h],t[h+1],c);return a[h](d)};return n?c=>u(En(t[0],t[i-1],c)):u}function XP(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=yo(0,e,s);t.push(fe(n,1,r))}}function JP(t){const e=[0];return XP(e,t.length-1),e}function QP(t,e){return t.map(n=>n*e)}function ZP(t,e){return t.map(()=>e||dx).splice(0,t.length-1)}function Vi({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=cP(s)?s.map($g):$g(s),i={done:!1,value:e[0]},o=QP(n&&n.length===e.length?n:JP(e),t),a=GP(o,e,{ease:Array.isArray(r)?r:ZP(e,r)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const eA=t=>t!==null;function vf(t,{repeat:e,repeatType:n="loop"},s,r=1){const i=t.filter(eA),a=r<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||s===void 0?i[a]:s}const tA={decay:Ph,inertia:Ph,tween:Vi,keyframes:Vi,spring:bl};function Ex(t){typeof t.type=="string"&&(t.type=tA[t.type])}class wf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const nA=t=>t/100;class xf extends wf{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,r;const{motionValue:n}=this.options;n&&n.updatedAt!==ut.now()&&this.tick(ut.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(s=this.options).onStop)==null||r.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Ex(e);const{type:n=Vi,repeat:s=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Vi;l!==Vi&&typeof a[0]!="number"&&(this.mixKeyframes=No(nA,kx(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=yf(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:r,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return s.next(0);const{delay:u=0,keyframes:c,repeat:h,repeatType:d,repeatDelay:f,type:g,onUpdate:y,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const p=this.currentTime-u*(this.playbackSpeed>=0?1:-1),m=this.playbackSpeed>=0?p<0:p>r;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let v=this.currentTime,b=s;if(h){const E=Math.min(this.currentTime,r)/a;let P=Math.floor(E),C=E%1;!C&&E>=1&&(C=1),C===1&&P--,P=Math.min(P,h+1),!!(P%2)&&(d==="reverse"?(C=1-C,f&&(C-=f/a)):d==="mirror"&&(b=o)),v=En(0,1,C)*a}const _=m?{done:!1,value:c[0]}:b.next(v);i&&(_.value=i(_.value));let{done:S}=_;!m&&l!==null&&(S=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return k&&g!==Ph&&(_.value=vf(c,this.options,w,this.speed)),y&&y(_.value),k&&this.finish(),_}then(e,n){return this.finished.then(e,n)}get duration(){return At(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+At(e)}get time(){return At(this.currentTime)}set time(e){var n;e=un(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ut.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=At(this.currentTime))}play(){var r,i;if(this.isStopped)return;const{driver:e=VP,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(r=this.options).onPlay)==null||i.call(r);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ut.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function sA(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const As=t=>t*180/Math.PI,Ah=t=>{const e=As(Math.atan2(t[1],t[0]));return Rh(e)},rA={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ah,rotateZ:Ah,skewX:t=>As(Math.atan(t[1])),skewY:t=>As(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Rh=t=>(t=t%360,t<0&&(t+=360),t),Kg=Ah,qg=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Yg=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),iA={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:qg,scaleY:Yg,scale:t=>(qg(t)+Yg(t))/2,rotateX:t=>Rh(As(Math.atan2(t[6],t[5]))),rotateY:t=>Rh(As(Math.atan2(-t[2],t[0]))),rotateZ:Kg,rotate:Kg,skewX:t=>As(Math.atan(t[4])),skewY:t=>As(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Oh(t){return t.includes("scale")?1:0}function jh(t,e){if(!t||t==="none")return Oh(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=iA,r=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=rA,r=a}if(!r)return Oh(e);const i=s[e],o=r[1].split(",").map(aA);return typeof i=="function"?i(o):o[i]}const oA=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return jh(n,e)};function aA(t){return parseFloat(t.trim())}const Qr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zr=new Set(Qr),Gg=t=>t===Jr||t===U,lA=new Set(["x","y","z"]),uA=Qr.filter(t=>!lA.has(t));function cA(t){const e=[];return uA.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Is={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>jh(e,"x"),y:(t,{transform:e})=>jh(e,"y")};Is.translateX=Is.x;Is.translateY=Is.y;const Ds=new Set;let Mh=!1,Ih=!1,Dh=!1;function Cx(){if(Ih){const t=Array.from(Ds).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const r=cA(s);r.length&&(n.set(s,r),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([i,o])=>{var a;(a=s.getValue(i))==null||a.set(o)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Ih=!1,Mh=!1,Ds.forEach(t=>t.complete(Dh)),Ds.clear()}function Px(){Ds.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ih=!0)})}function hA(){Dh=!0,Px(),Cx(),Dh=!1}class bf{constructor(e,n,s,r,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ds.add(this),Mh||(Mh=!0,ce.read(Px),ce.resolveKeyframes(Cx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:r}=this;if(e[0]===null){const i=r==null?void 0:r.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(s&&n){const a=s.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),r&&i===void 0&&r.set(e[0])}sA(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ds.delete(this)}cancel(){this.state==="scheduled"&&(Ds.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const dA=t=>t.startsWith("--");function fA(t,e,n){dA(e)?t.style.setProperty(e,n):t.style[e]=n}const pA=uf(()=>window.ScrollTimeline!==void 0),gA={};function mA(t,e){const n=uf(t);return()=>gA[e]??n()}const Ax=mA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),bi=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Xg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bi([0,.65,.55,1]),circOut:bi([.55,0,1,.45]),backIn:bi([.31,.01,.66,-.59]),backOut:bi([.33,1.53,.69,.99])};function Rx(t,e){if(t)return typeof t=="function"?Ax()?Sx(t,e):"ease-out":fx(t)?bi(t):Array.isArray(t)?t.map(n=>Rx(n,e)||Xg.easeOut):Xg[t]}function yA(t,e,n,{delay:s=0,duration:r=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[e]:n};l&&(c.offset=l);const h=Rx(a,r);Array.isArray(h)&&(c.easing=h);const d={delay:s,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(d.pseudoElement=u),t.animate(c,d)}function Ox(t){return typeof t=="function"&&"applyToOptions"in t}function vA({type:t,...e}){return Ox(t)&&Ax()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class wA extends wf{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:r,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,lf(typeof e.type!="string");const u=vA(e);this.animation=yA(n,s,r,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const c=vf(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):fA(n,s,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return At(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+At(e)}get time(){return At(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=un(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&pA()?(this.animation.timeline=e,jt):n(this)}}const jx={anticipate:ux,backInOut:lx,circInOut:hx};function xA(t){return t in jx}function bA(t){typeof t.ease=="string"&&xA(t.ease)&&(t.ease=jx[t.ease])}const Jg=10;class _A extends wA{constructor(e){bA(e),Ex(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:r,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new xf({...o,autoplay:!1}),l=un(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-Jg).value,a.sample(l).value,Jg),a.stop()}}const Qg=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(rs.test(t)||t==="0")&&!t.startsWith("url("));function kA(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function SA(t,e,n,s){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=Qg(r,e),a=Qg(i,e);return!o||!a?!1:kA(t)||(n==="spring"||Ox(n))&&s}function Nh(t){t.duration=0,t.type="keyframes"}const TA=new Set(["opacity","clipPath","filter","transform"]),EA=uf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function CA(t){var c;const{motionValue:e,name:n,repeatDelay:s,repeatType:r,damping:i,type:o}=t;if(!(((c=e==null?void 0:e.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return EA()&&n&&TA.has(n)&&(n!=="transform"||!u)&&!l&&!s&&r!=="mirror"&&i!==0&&o!=="inertia"}const PA=40;class AA extends wf{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:c,...h}){var g;super(),this.stop=()=>{var y,w;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=ut.now();const d={autoplay:e,delay:n,type:s,repeat:r,repeatDelay:i,repeatType:o,name:l,motionValue:u,element:c,...h},f=(c==null?void 0:c.KeyframeResolver)||bf;this.keyframeResolver=new f(a,(y,w,p)=>this.onKeyframesResolved(y,w,d,!p),l,u,c),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(e,n,s,r){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:c}=s;this.resolvedAt=ut.now(),SA(e,i,o,a)||((Cn.instantAnimations||!l)&&(c==null||c(vf(e,s,n))),e[0]=e[e.length-1],Nh(s),s.repeat=0);const d={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>PA?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},f=!u&&CA(d)?new _A({...d,element:d.motionValue.owner.current}):new xf(d);f.finished.then(()=>this.notifyFinished()).catch(jt),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),hA()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const RA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function OA(t){const e=RA.exec(t);if(!e)return[,];const[,n,s,r]=e;return[`--${n??s}`,r]}function Mx(t,e,n=1){const[s,r]=OA(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const o=i.trim();return ex(o)?parseFloat(o):o}return ff(r)?Mx(r,e,n+1):r}function _f(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Ix=new Set(["width","height","top","left","right","bottom",...Qr]),jA={test:t=>t==="auto",parse:t=>t},Dx=t=>e=>e.test(t),Nx=[Jr,U,cn,jn,kP,_P,jA],Zg=t=>Nx.find(Dx(t));function MA(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||nx(t):!0}const IA=new Set(["brightness","contrast","saturate","opacity"]);function DA(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(pf)||[];if(!s)return t;const r=n.replace(s,"");let i=IA.has(e)?1:0;return s!==n&&(i*=100),e+"("+i+r+")"}const NA=/\b([a-z-]*)\(.*?\)/gu,Lh={...rs,getAnimatableNone:t=>{const e=t.match(NA);return e?e.map(DA).join(" "):t}},em={...Jr,transform:Math.round},LA={rotate:jn,rotateX:jn,rotateY:jn,rotateZ:jn,scale:ca,scaleX:ca,scaleY:ca,scaleZ:ca,skew:jn,skewX:jn,skewY:jn,distance:U,translateX:U,translateY:U,translateZ:U,x:U,y:U,z:U,perspective:U,transformPerspective:U,opacity:vo,originX:Bg,originY:Bg,originZ:U},kf={borderWidth:U,borderTopWidth:U,borderRightWidth:U,borderBottomWidth:U,borderLeftWidth:U,borderRadius:U,radius:U,borderTopLeftRadius:U,borderTopRightRadius:U,borderBottomRightRadius:U,borderBottomLeftRadius:U,width:U,maxWidth:U,height:U,maxHeight:U,top:U,right:U,bottom:U,left:U,padding:U,paddingTop:U,paddingRight:U,paddingBottom:U,paddingLeft:U,margin:U,marginTop:U,marginRight:U,marginBottom:U,marginLeft:U,backgroundPositionX:U,backgroundPositionY:U,...LA,zIndex:em,fillOpacity:vo,strokeOpacity:vo,numOctaves:em},FA={...kf,color:Te,backgroundColor:Te,outlineColor:Te,fill:Te,stroke:Te,borderColor:Te,borderTopColor:Te,borderRightColor:Te,borderBottomColor:Te,borderLeftColor:Te,filter:Lh,WebkitFilter:Lh},Lx=t=>FA[t];function Fx(t,e){let n=Lx(t);return n!==Lh&&(n=rs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const VA=new Set(["auto","none","0"]);function $A(t,e,n){let s=0,r;for(;s<t.length&&!r;){const i=t[s];typeof i=="string"&&!VA.has(i)&&wo(i).values.length&&(r=t[s]),s++}if(r&&n)for(const i of e)t[i]=Fx(n,r)}class BA extends bf{constructor(e,n,s,r,i){super(e,n,s,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),ff(u))){const c=Mx(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Ix.has(s)||e.length!==2)return;const[r,i]=e,o=Zg(r),a=Zg(i);if(o!==a)if(Gg(o)&&Gg(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else Is[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let r=0;r<e.length;r++)(e[r]===null||MA(e[r]))&&s.push(r);s.length&&$A(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Is[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(s,r).jump(r,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const i=s.length-1,o=s[i];s[i]=Is[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function UA(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const r=(n==null?void 0:n[t])??s.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const Vx=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function zA(t){return tx(t)&&"offsetHeight"in t}const tm=30,WA=t=>!isNaN(parseFloat(t));class HA{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var i;const r=ut.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ut.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=WA(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new cf);const s=this.events[e].add(n);return e==="change"?()=>{s(),ce.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ut.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>tm)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,tm);return sx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wr(t,e){return new HA(t,e)}const{schedule:Sf}=px(queueMicrotask,!1),zt={x:!1,y:!1};function $x(){return zt.x||zt.y}function KA(t){return t==="x"||t==="y"?zt[t]?null:(zt[t]=!0,()=>{zt[t]=!1}):zt.x||zt.y?null:(zt.x=zt.y=!0,()=>{zt.x=zt.y=!1})}function Bx(t,e){const n=UA(t),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[n,r,()=>s.abort()]}function nm(t){return!(t.pointerType==="touch"||$x())}function qA(t,e,n={}){const[s,r,i]=Bx(t,n),o=a=>{if(!nm(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const c=h=>{nm(h)&&(u(h),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,r)};return s.forEach(a=>{a.addEventListener("pointerenter",o,r)}),i}const Ux=(t,e)=>e?t===e?!0:Ux(t,e.parentElement):!1,Tf=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,YA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function GA(t){return YA.has(t.tagName)||t.tabIndex!==-1}const Fa=new WeakSet;function sm(t){return e=>{e.key==="Enter"&&t(e)}}function Gu(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const XA=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=sm(()=>{if(Fa.has(n))return;Gu(n,"down");const r=sm(()=>{Gu(n,"up")}),i=()=>Gu(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function rm(t){return Tf(t)&&!$x()}function JA(t,e,n={}){const[s,r,i]=Bx(t,n),o=a=>{const l=a.currentTarget;if(!rm(a))return;Fa.add(l);const u=e(l,a),c=(f,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",d),Fa.has(l)&&Fa.delete(l),rm(f)&&typeof u=="function"&&u(f,{success:g})},h=f=>{c(f,l===window||l===document||n.useGlobalTarget||Ux(l,f.target))},d=f=>{c(f,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",d,r)};return s.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),zA(a)&&(a.addEventListener("focus",u=>XA(u,r)),!GA(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function zx(t){return tx(t)&&"ownerSVGElement"in t}function QA(t){return zx(t)&&t.tagName==="svg"}const Je=t=>!!(t&&t.getVelocity),ZA=[...Nx,Te,rs],eR=t=>ZA.find(Dx(t)),Wx=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function tR(t=!0){const e=T.useContext(rf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=e,i=T.useId();T.useEffect(()=>{if(t)return r(i)},[t]);const o=T.useCallback(()=>t&&s&&s(i),[i,s,t]);return!n&&s?[!1,o]:[!0]}const Hx=T.createContext({strict:!1}),im={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Hr={};for(const t in im)Hr[t]={isEnabled:e=>im[t].some(n=>!!e[n])};function nR(t){for(const e in t)Hr[e]={...Hr[e],...t[e]}}const sR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _l(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||sR.has(t)}let Kx=t=>!_l(t);function rR(t){typeof t=="function"&&(Kx=e=>e.startsWith("on")?!_l(e):t(e))}try{rR(require("@emotion/is-prop-valid").default)}catch{}function iR(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(Kx(r)||n===!0&&_l(r)||!e&&!_l(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}const nu=T.createContext({});function su(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function xo(t){return typeof t=="string"||Array.isArray(t)}const Ef=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cf=["initial",...Ef];function ru(t){return su(t.animate)||Cf.some(e=>xo(t[e]))}function qx(t){return!!(ru(t)||t.variants)}function oR(t,e){if(ru(t)){const{initial:n,animate:s}=t;return{initial:n===!1||xo(n)?n:void 0,animate:xo(s)?s:void 0}}return t.inherit!==!1?e:{}}function aR(t){const{initial:e,animate:n}=oR(t,T.useContext(nu));return T.useMemo(()=>({initial:e,animate:n}),[om(e),om(n)])}function om(t){return Array.isArray(t)?t.join(" "):t}function am(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ci={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(U.test(t))t=parseFloat(t);else return t;const n=am(t,e.target.x),s=am(t,e.target.y);return`${n}% ${s}%`}},lR={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=rs.parse(t);if(r.length>5)return s;const i=rs.createTransformer(t),o=typeof r[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const u=fe(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=u),typeof r[3+o]=="number"&&(r[3+o]/=u),i(r)}},Fh={borderRadius:{...ci,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ci,borderTopRightRadius:ci,borderBottomLeftRadius:ci,borderBottomRightRadius:ci,boxShadow:lR};function Yx(t,{layout:e,layoutId:n}){return Zr.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Fh[t]||t==="opacity")}const uR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cR=Qr.length;function hR(t,e,n){let s="",r=!0;for(let i=0;i<cR;i++){const o=Qr[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=Vx(a,kf[o]);if(!l){r=!1;const c=uR[o]||o;s+=`${c}(${u}) `}n&&(e[o]=u)}}return s=s.trim(),n?s=n(e,r?"":s):r&&(s="none"),s}function Pf(t,e,n){const{style:s,vars:r,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(Zr.has(l)){o=!0;continue}else if(mx(l)){r[l]=u;continue}else{const c=Vx(u,kf[l]);l.startsWith("origin")?(a=!0,i[l]=c):s[l]=c}}if(e.transform||(o||n?s.transform=hR(e,t.transform,n):s.transform&&(s.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=i;s.transformOrigin=`${l} ${u} ${c}`}}const Af=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Gx(t,e,n){for(const s in e)!Je(e[s])&&!Yx(s,n)&&(t[s]=e[s])}function dR({transformTemplate:t},e){return T.useMemo(()=>{const n=Af();return Pf(n,e,t),Object.assign({},n.vars,n.style)},[e])}function fR(t,e){const n=t.style||{},s={};return Gx(s,n,t),Object.assign(s,dR(t,e)),s}function pR(t,e){const n={},s=fR(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const gR={offset:"stroke-dashoffset",array:"stroke-dasharray"},mR={offset:"strokeDashoffset",array:"strokeDasharray"};function yR(t,e,n=1,s=0,r=!0){t.pathLength=1;const i=r?gR:mR;t[i.offset]=U.transform(-s);const o=U.transform(e),a=U.transform(n);t[i.array]=`${o} ${a}`}function Xx(t,{attrX:e,attrY:n,attrScale:s,pathLength:r,pathSpacing:i=1,pathOffset:o=0,...a},l,u,c){if(Pf(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:d}=t;h.transform&&(d.transform=h.transform,delete h.transform),(d.transform||h.transformOrigin)&&(d.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),d.transform&&(d.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),s!==void 0&&(h.scale=s),r!==void 0&&yR(h,r,i,o,!1)}const Jx=()=>({...Af(),attrs:{}}),Qx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function vR(t,e,n,s){const r=T.useMemo(()=>{const i=Jx();return Xx(i,e,Qx(s),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Gx(i,t.style,t),r.style={...i,...r.style}}return r}const wR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Rf(t){return typeof t!="string"||t.includes("-")?!1:!!(wR.indexOf(t)>-1||/[A-Z]/u.test(t))}function xR(t,e,n,{latestValues:s},r,i=!1){const a=(Rf(t)?vR:pR)(e,s,r,t),l=iR(e,typeof t=="string",i),u=t!==T.Fragment?{...l,...a,ref:n}:{},{children:c}=e,h=T.useMemo(()=>Je(c)?c.get():c,[c]);return T.createElement(t,{...u,children:h})}function lm(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Of(t,e,n,s){if(typeof e=="function"){const[r,i]=lm(s);e=e(n!==void 0?n:t.custom,r,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,i]=lm(s);e=e(n!==void 0?n:t.custom,r,i)}return e}function Va(t){return Je(t)?t.get():t}function bR({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,r){return{latestValues:_R(n,s,r,t),renderState:e()}}function _R(t,e,n,s){const r={},i=s(t,{});for(const d in i)r[d]=Va(i[d]);let{initial:o,animate:a}=t;const l=ru(t),u=qx(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const h=c?a:o;if(h&&typeof h!="boolean"&&!su(h)){const d=Array.isArray(h)?h:[h];for(let f=0;f<d.length;f++){const g=Of(t,d[f]);if(g){const{transitionEnd:y,transition:w,...p}=g;for(const m in p){let v=p[m];if(Array.isArray(v)){const b=c?v.length-1:0;v=v[b]}v!==null&&(r[m]=v)}for(const m in y)r[m]=y[m]}}}return r}const Zx=t=>(e,n)=>{const s=T.useContext(nu),r=T.useContext(rf),i=()=>bR(t,e,s,r);return n?i():nP(i)};function jf(t,e,n){var i;const{style:s}=t,r={};for(const o in s)(Je(s[o])||e.style&&Je(e.style[o])||Yx(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(r[o]=s[o]);return r}const kR=Zx({scrapeMotionValuesFromProps:jf,createRenderState:Af});function eb(t,e,n){const s=jf(t,e,n);for(const r in t)if(Je(t[r])||Je(e[r])){const i=Qr.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[i]=t[r]}return s}const SR=Zx({scrapeMotionValuesFromProps:eb,createRenderState:Jx}),TR=Symbol.for("motionComponentSymbol");function _r(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ER(t,e,n){return T.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):_r(n)&&(n.current=s))},[e])}const Mf=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),CR="framerAppearId",tb="data-"+Mf(CR),nb=T.createContext({});function PR(t,e,n,s,r){var y,w;const{visualElement:i}=T.useContext(nu),o=T.useContext(Hx),a=T.useContext(rf),l=T.useContext(Wx).reducedMotion,u=T.useRef(null);s=s||o.renderer,!u.current&&s&&(u.current=s(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,h=T.useContext(nb);c&&!c.projection&&r&&(c.type==="html"||c.type==="svg")&&AR(u.current,n,r,h);const d=T.useRef(!1);T.useInsertionEffect(()=>{c&&d.current&&c.update(n,a)});const f=n[tb],g=T.useRef(!!f&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,f))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,f)));return sP(()=>{c&&(d.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),g.current&&c.animationState&&c.animationState.animateChanges())}),T.useEffect(()=>{c&&(!g.current&&c.animationState&&c.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)==null||p.call(window,f)}),g.current=!1),c.enteringChildren=void 0)}),c}function AR(t,e,n,s){const{layoutId:r,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:sb(t.parent)),t.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!o||a&&_r(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:c,layoutScroll:l,layoutRoot:u})}function sb(t){if(t)return t.options.allowProjection!==!1?t.projection:sb(t.parent)}function Xu(t,{forwardMotionProps:e=!1}={},n,s){n&&nR(n);const r=Rf(t)?SR:kR;function i(a,l){let u;const c={...T.useContext(Wx),...a,layoutId:RR(a)},{isStatic:h}=c,d=aR(a),f=r(a,h);if(!h&&sf){OR();const g=jR(c);u=g.MeasureLayout,d.visualElement=PR(t,f,c,s,g.ProjectionNode)}return x.jsxs(nu.Provider,{value:d,children:[u&&d.visualElement?x.jsx(u,{visualElement:d.visualElement,...c}):null,xR(t,a,ER(f,d.visualElement,l),f,h,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=T.forwardRef(i);return o[TR]=t,o}function RR({layoutId:t}){const e=T.useContext(Zw).id;return e&&t!==void 0?e+"-"+t:t}function OR(t,e){T.useContext(Hx).strict}function jR(t){const{drag:e,layout:n}=Hr;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function MR(t,e){if(typeof Proxy>"u")return Xu;const n=new Map,s=(i,o)=>Xu(i,o,t,e),r=(i,o)=>s(i,o);return new Proxy(r,{get:(i,o)=>o==="create"?s:(n.has(o)||n.set(o,Xu(o,void 0,t,e)),n.get(o))})}function rb({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function IR({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function DR(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Ju(t){return t===void 0||t===1}function Vh({scale:t,scaleX:e,scaleY:n}){return!Ju(t)||!Ju(e)||!Ju(n)}function xs(t){return Vh(t)||ib(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ib(t){return um(t.x)||um(t.y)}function um(t){return t&&t!=="0%"}function kl(t,e,n){const s=t-n,r=e*s;return n+r}function cm(t,e,n,s,r){return r!==void 0&&(t=kl(t,r,s)),kl(t,n,s)+e}function $h(t,e=0,n=1,s,r){t.min=cm(t.min,e,n,s,r),t.max=cm(t.max,e,n,s,r)}function ob(t,{x:e,y:n}){$h(t.x,e.translate,e.scale,e.originPoint),$h(t.y,n.translate,n.scale,n.originPoint)}const hm=.999999999999,dm=1.0000000000001;function NR(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let i,o;for(let a=0;a<r;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Sr(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,ob(t,o)),s&&xs(i.latestValues)&&Sr(t,i.latestValues))}e.x<dm&&e.x>hm&&(e.x=1),e.y<dm&&e.y>hm&&(e.y=1)}function kr(t,e){t.min=t.min+e,t.max=t.max+e}function fm(t,e,n,s,r=.5){const i=fe(t.min,t.max,r);$h(t,e,n,i,s)}function Sr(t,e){fm(t.x,e.x,e.scaleX,e.scale,e.originX),fm(t.y,e.y,e.scaleY,e.scale,e.originY)}function ab(t,e){return rb(DR(t.getBoundingClientRect(),e))}function LR(t,e,n){const s=ab(t,n),{scroll:r}=e;return r&&(kr(s.x,r.offset.x),kr(s.y,r.offset.y)),s}const pm=()=>({translate:0,scale:1,origin:0,originPoint:0}),Tr=()=>({x:pm(),y:pm()}),gm=()=>({min:0,max:0}),Oe=()=>({x:gm(),y:gm()}),Bh={current:null},lb={current:!1};function FR(){if(lb.current=!0,!!sf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Bh.current=t.matches;t.addEventListener("change",e),e()}else Bh.current=!1}const VR=new WeakMap;function $R(t,e,n){for(const s in e){const r=e[s],i=n[s];if(Je(r))t.addValue(s,r);else if(Je(i))t.addValue(s,Wr(r,{owner:t}));else if(i!==r)if(t.hasValue(s)){const o=t.getValue(s);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(s);t.addValue(s,Wr(o!==void 0?o:r,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const mm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class BR{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=ut.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,ce.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=ru(n),this.isVariantNode=qx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const d in h){const f=h[d];l[d]!==void 0&&Je(f)&&f.set(l[d])}}mount(e){var n;this.current=e,VR.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),lb.current||FR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Bh.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ss(this.notifyUpdate),ss(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Zr.has(e);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ce.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Hr){const n=Hr[e];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Oe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<mm.length;s++){const r=mm[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,o=e[i];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=$R(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Wr(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(ex(s)||nx(s))?s=parseFloat(s):!eR(s)&&rs.test(n)&&(s=Fx(e,n)),this.setBaseTarget(e,Je(s)?s.get():s)),Je(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=Of(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(s=o[e])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Je(r)?r:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new cf),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Sf.render(this.render)}}class ub extends BR{constructor(){super(...arguments),this.KeyframeResolver=BA}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Je(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function cb(t,{style:e,vars:n},s,r){const i=t.style;let o;for(o in e)i[o]=e[o];r==null||r.applyProjectionStyles(i,s);for(o in n)i.setProperty(o,n[o])}function UR(t){return window.getComputedStyle(t)}class zR extends ub{constructor(){super(...arguments),this.type="html",this.renderInstance=cb}readValueFromInstance(e,n){var s;if(Zr.has(n))return(s=this.projection)!=null&&s.isProjecting?Oh(n):oA(e,n);{const r=UR(e),i=(mx(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return ab(e,n)}build(e,n,s){Pf(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return jf(e,n,s)}}const hb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function WR(t,e,n,s){cb(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(hb.has(r)?r:Mf(r),e.attrs[r])}class HR extends ub{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Oe}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Zr.has(n)){const s=Lx(n);return s&&s.default||0}return n=hb.has(n)?n:Mf(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return eb(e,n,s)}build(e,n,s){Xx(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,r){WR(e,n,s,r)}mount(e){this.isSVGTag=Qx(e.tagName),super.mount(e)}}const KR=(t,e)=>Rf(t)?new HR(e):new zR(e,{allowProjection:t!==T.Fragment});function Mr(t,e,n){const s=t.getProps();return Of(s,e,n!==void 0?n:s.custom,t)}const Uh=t=>Array.isArray(t);function qR(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Wr(n))}function YR(t){return Uh(t)?t[t.length-1]||0:t}function GR(t,e){const n=Mr(t,e);let{transitionEnd:s={},transition:r={},...i}=n||{};i={...i,...s};for(const o in i){const a=YR(i[o]);qR(t,o,a)}}function XR(t){return!!(Je(t)&&t.add)}function zh(t,e){const n=t.getValue("willChange");if(XR(n))return n.add(e);if(!n&&Cn.WillChange){const s=new Cn.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function db(t){return t.props[tb]}const JR=t=>t!==null;function QR(t,{repeat:e,repeatType:n="loop"},s){const r=t.filter(JR),i=e&&n!=="loop"&&e%2===1?0:r.length-1;return r[i]}const ZR={type:"spring",stiffness:500,damping:25,restSpeed:10},eO=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),tO={type:"keyframes",duration:.8},nO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sO=(t,{keyframes:e})=>e.length>2?tO:Zr.has(t)?t.startsWith("scale")?eO(e[1]):ZR:nO;function rO({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const If=(t,e,n,s={},r,i)=>o=>{const a=_f(s,t)||{},l=a.delay||s.delay||0;let{elapsed:u=0}=s;u=u-un(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:d=>{e.set(d),a.onUpdate&&a.onUpdate(d)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:r};rO(a)||Object.assign(c,sO(t,c)),c.duration&&(c.duration=un(c.duration)),c.repeatDelay&&(c.repeatDelay=un(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let h=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(Nh(c),c.delay===0&&(h=!0)),(Cn.instantAnimations||Cn.skipAnimations)&&(h=!0,Nh(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,h&&!i&&e.get()!==void 0){const d=QR(c.keyframes,a);if(d!==void 0){ce.update(()=>{c.onUpdate(d),c.onComplete()});return}}return a.isSync?new xf(c):new AA(c)};function iO({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function fb(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;s&&(i=s);const l=[],u=r&&t.animationState&&t.animationState.getState()[r];for(const c in a){const h=t.getValue(c,t.latestValues[c]??null),d=a[c];if(d===void 0||u&&iO(u,c))continue;const f={delay:n,..._f(i||{},c)},g=h.get();if(g!==void 0&&!h.isAnimating&&!Array.isArray(d)&&d===g&&!f.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const p=db(t);if(p){const m=window.MotionHandoffAnimation(p,c,ce);m!==null&&(f.startTime=m,y=!0)}}zh(t,c),h.start(If(c,h,d,t.shouldReduceMotion&&Ix.has(c)?{type:!1}:f,t,y));const w=h.animation;w&&l.push(w)}return o&&Promise.all(l).then(()=>{ce.update(()=>{o&&GR(t,o)})}),l}function pb(t,e,n,s=0,r=1){const i=Array.from(t).sort((u,c)=>u.sortNodePosition(c)).indexOf(e),o=t.size,a=(o-1)*s;return typeof n=="function"?n(i,o):r===1?i*s:a-i*s}function Wh(t,e,n={}){var l;const s=Mr(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const i=s?()=>Promise.all(fb(t,s,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:d}=r;return oO(t,e,u,c,h,d,n)}:()=>Promise.resolve(),{when:a}=r;if(a){const[u,c]=a==="beforeChildren"?[i,o]:[o,i];return u().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function oO(t,e,n=0,s=0,r=0,i=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(Wh(l,e,{...o,delay:n+(typeof s=="function"?0:s)+pb(t.variantChildren,l,s,r,i)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function aO(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(i=>Wh(t,i,n));s=Promise.all(r)}else if(typeof e=="string")s=Wh(t,e,n);else{const r=typeof e=="function"?Mr(t,e,n.custom):e;s=Promise.all(fb(t,r,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function gb(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const lO=Cf.length;function mb(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?mb(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<lO;n++){const s=Cf[n],r=t.props[s];(xo(r)||r===!1)&&(e[s]=r)}return e}const uO=[...Ef].reverse(),cO=Ef.length;function hO(t){return e=>Promise.all(e.map(({animation:n,options:s})=>aO(t,n,s)))}function dO(t){let e=hO(t),n=ym(),s=!0;const r=l=>(u,c)=>{var d;const h=Mr(t,c,l==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);if(h){const{transition:f,transitionEnd:g,...y}=h;u={...u,...y,...g}}return u};function i(l){e=l(t)}function o(l){const{props:u}=t,c=mb(t.parent)||{},h=[],d=new Set;let f={},g=1/0;for(let w=0;w<cO;w++){const p=uO[w],m=n[p],v=u[p]!==void 0?u[p]:c[p],b=xo(v),_=p===l?m.isActive:null;_===!1&&(g=w);let S=v===c[p]&&v!==u[p]&&b;if(S&&s&&t.manuallyAnimateOnMount&&(S=!1),m.protectedKeys={...f},!m.isActive&&_===null||!v&&!m.prevProp||su(v)||typeof v=="boolean")continue;const k=fO(m.prevProp,v);let E=k||p===l&&m.isActive&&!S&&b||w>g&&b,P=!1;const C=Array.isArray(v)?v:[v];let j=C.reduce(r(p),{});_===!1&&(j={});const{prevResolvedValues:L={}}=m,W={...L,...j},H=$=>{E=!0,d.has($)&&(P=!0,d.delete($)),m.needsAnimating[$]=!0;const A=t.getValue($);A&&(A.liveStyle=!1)};for(const $ in W){const A=j[$],M=L[$];if(f.hasOwnProperty($))continue;let N=!1;Uh(A)&&Uh(M)?N=!gb(A,M):N=A!==M,N?A!=null?H($):d.add($):A!==void 0&&d.has($)?H($):m.protectedKeys[$]=!0}m.prevProp=v,m.prevResolvedValues=j,m.isActive&&(f={...f,...j}),s&&t.blockInitialAnimation&&(E=!1);const z=S&&k;E&&(!z||P)&&h.push(...C.map($=>{const A={type:p};if(typeof $=="string"&&s&&!z&&t.manuallyAnimateOnMount&&t.parent){const{parent:M}=t,N=Mr(M,$);if(M.enteringChildren&&N){const{delayChildren:Q}=N.transition||{};A.delay=pb(M.enteringChildren,t,Q)}}return{animation:$,options:A}}))}if(d.size){const w={};if(typeof u.initial!="boolean"){const p=Mr(t,Array.isArray(u.initial)?u.initial[0]:u.initial);p&&p.transition&&(w.transition=p.transition)}d.forEach(p=>{const m=t.getBaseTarget(p),v=t.getValue(p);v&&(v.liveStyle=!0),w[p]=m??null}),h.push({animation:w})}let y=!!h.length;return s&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(y=!1),s=!1,y?e(h):Promise.resolve()}function a(l,u){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(d=>{var f;return(f=d.animationState)==null?void 0:f.setActive(l,u)}),n[l].isActive=u;const c=o(l);for(const d in n)n[d].protectedKeys={};return c}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=ym()}}}function fO(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!gb(e,t):!1}function fs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ym(){return{animate:fs(!0),whileInView:fs(),whileHover:fs(),whileTap:fs(),whileDrag:fs(),whileFocus:fs(),exit:fs()}}class cs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class pO extends cs{constructor(e){super(e),e.animationState||(e.animationState=dO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();su(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let gO=0;class mO extends cs{constructor(){super(...arguments),this.id=gO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const yO={animation:{Feature:pO},exit:{Feature:mO}};function bo(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Vo(t){return{point:{x:t.pageX,y:t.pageY}}}const vO=t=>e=>Tf(e)&&t(e,Vo(e));function $i(t,e,n,s){return bo(t,e,vO(n),s)}const yb=1e-4,wO=1-yb,xO=1+yb,vb=.01,bO=0-vb,_O=0+vb;function tt(t){return t.max-t.min}function kO(t,e,n){return Math.abs(t-e)<=n}function vm(t,e,n,s=.5){t.origin=s,t.originPoint=fe(e.min,e.max,t.origin),t.scale=tt(n)/tt(e),t.translate=fe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=wO&&t.scale<=xO||isNaN(t.scale))&&(t.scale=1),(t.translate>=bO&&t.translate<=_O||isNaN(t.translate))&&(t.translate=0)}function Bi(t,e,n,s){vm(t.x,e.x,n.x,s?s.originX:void 0),vm(t.y,e.y,n.y,s?s.originY:void 0)}function wm(t,e,n){t.min=n.min+e.min,t.max=t.min+tt(e)}function SO(t,e,n){wm(t.x,e.x,n.x),wm(t.y,e.y,n.y)}function xm(t,e,n){t.min=e.min-n.min,t.max=t.min+tt(e)}function Sl(t,e,n){xm(t.x,e.x,n.x),xm(t.y,e.y,n.y)}function Tt(t){return[t("x"),t("y")]}const wb=({current:t})=>t?t.ownerDocument.defaultView:null,bm=(t,e)=>Math.abs(t-e);function TO(t,e){const n=bm(t.x,e.x),s=bm(t.y,e.y);return Math.sqrt(n**2+s**2)}class xb{constructor(e,n,{transformPagePoint:s,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Zu(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=TO(d.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!g)return;const{point:y}=d,{timestamp:w}=ze;this.history.push({...y,timestamp:w});const{onStart:p,onMove:m}=this.handlers;f||(p&&p(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Qu(f,this.transformPagePoint),ce.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:g,onSessionEnd:y,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Zu(d.type==="pointercancel"?this.lastMoveEventInfo:Qu(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(d,p),y&&y(d,p)},!Tf(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=r||window;const a=Vo(e),l=Qu(a,this.transformPagePoint),{point:u}=l,{timestamp:c}=ze;this.history=[{...u,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,Zu(l,this.history)),this.removeListeners=No($i(this.contextWindow,"pointermove",this.handlePointerMove),$i(this.contextWindow,"pointerup",this.handlePointerUp),$i(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ss(this.updatePoint)}}function Qu(t,e){return e?{point:e(t.point)}:t}function _m(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Zu({point:t},e){return{point:t,delta:_m(t,bb(e)),offset:_m(t,EO(e)),velocity:CO(e,.1)}}function EO(t){return t[0]}function bb(t){return t[t.length-1]}function CO(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=bb(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>un(e)));)n--;if(!s)return{x:0,y:0};const i=At(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function PO(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?fe(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?fe(n,t,s.max):Math.min(t,n)),t}function km(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function AO(t,{top:e,left:n,bottom:s,right:r}){return{x:km(t.x,n,r),y:km(t.y,e,s)}}function Sm(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function RO(t,e){return{x:Sm(t.x,e.x),y:Sm(t.y,e.y)}}function OO(t,e){let n=.5;const s=tt(t),r=tt(e);return r>s?n=yo(e.min,e.max-s,t.min):s>r&&(n=yo(t.min,t.max-r,e.min)),En(0,1,n)}function jO(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Hh=.35;function MO(t=Hh){return t===!1?t=0:t===!0&&(t=Hh),{x:Tm(t,"left","right"),y:Tm(t,"top","bottom")}}function Tm(t,e,n){return{min:Em(t,e),max:Em(t,n)}}function Em(t,e){return typeof t=="number"?t:t[e]||0}const IO=new WeakMap;class DO{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Oe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Vo(h).point)},o=(h,d)=>{const{drag:f,dragPropagation:g,onDragStart:y}=this.getProps();if(f&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=KA(f),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=d,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Tt(p=>{let m=this.getAxisMotionValue(p).get()||0;if(cn.test(m)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[p];b&&(m=tt(b)*(parseFloat(m)/100))}}this.originPoint[p]=m}),y&&ce.postRender(()=>y(h,d)),zh(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(h,d)=>{this.latestPointerEvent=h,this.latestPanInfo=d;const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:y,onDrag:w}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:p}=d;if(g&&this.currentDirection===null){this.currentDirection=NO(p),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",d.point,p),this.updateAxis("y",d.point,p),this.visualElement.render(),w&&w(h,d)},l=(h,d)=>{this.latestPointerEvent=h,this.latestPanInfo=d,this.stop(h,d),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Tt(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)==null?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new xb(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:s,contextWindow:wb(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,r=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!s)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&ce.postRender(()=>a(s,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!ha(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=PO(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,r=this.constraints;e&&_r(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=AO(s.layoutBox,e):this.constraints=!1,this.elastic=MO(n),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Tt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=jO(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!_r(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=LR(s,r.root,this.visualElement.getTransformPagePoint());let o=RO(r.layout.layoutBox,i);if(n){const a=n(IR(o));this.hasMutatedConstraints=!!a,a&&(o=rb(a))}return o}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Tt(c=>{if(!ha(c,n,this.currentDirection))return;let h=l&&l[c]||{};o&&(h={min:0,max:0});const d=r?200:1e6,f=r?40:1e7,g={type:"inertia",velocity:s?e[c]:0,bounceStiffness:d,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return zh(this.visualElement,e),s.start(If(e,s,0,n,this.visualElement,!1))}stopAnimation(){Tt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Tt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Tt(n=>{const{drag:s}=this.getProps();if(!ha(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];i.set(e[n]-fe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!_r(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Tt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=OO({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Tt(o=>{if(!ha(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(fe(l,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;IO.set(this.visualElement,this);const e=this.visualElement.current,n=$i(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),s=()=>{const{dragConstraints:l}=this.getProps();_r(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ce.read(s);const o=bo(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Tt(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=Hh,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function ha(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function NO(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class LO extends cs{constructor(e){super(e),this.removeGroupControls=jt,this.removeListeners=jt,this.controls=new DO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||jt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Cm=t=>(e,n)=>{t&&ce.postRender(()=>t(e,n))};class FO extends cs{constructor(){super(...arguments),this.removePointerDownListener=jt}onPointerDown(e){this.session=new xb(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wb(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:Cm(e),onStart:Cm(n),onMove:s,onEnd:(i,o)=>{delete this.session,r&&ce.postRender(()=>r(i,o))}}}mount(){this.removePointerDownListener=$i(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const $a={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let ec=!1;class VO extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=e;i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),ec&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),$a.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,{projection:o}=s;return o&&(o.isPresent=i,ec=!0,r||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||ce.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Sf.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;ec=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function _b(t){const[e,n]=tR(),s=T.useContext(Zw);return x.jsx(VO,{...t,layoutGroup:s,switchLayoutGroup:T.useContext(nb),isPresent:e,safeToRemove:n})}function $O(t,e,n){const s=Je(t)?t:Wr(t);return s.start(If("",s,e,n)),s.animation}const BO=(t,e)=>t.depth-e.depth;class UO{constructor(){this.children=[],this.isDirty=!1}add(e){of(this.children,e),this.isDirty=!0}remove(e){af(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(BO),this.isDirty=!1,this.children.forEach(e)}}function zO(t,e){const n=ut.now(),s=({timestamp:r})=>{const i=r-n;i>=e&&(ss(s),t(i-e))};return ce.setup(s,!0),()=>ss(s)}const kb=["TopLeft","TopRight","BottomLeft","BottomRight"],WO=kb.length,Pm=t=>typeof t=="string"?parseFloat(t):t,Am=t=>typeof t=="number"||U.test(t);function HO(t,e,n,s,r,i){r?(t.opacity=fe(0,n.opacity??1,KO(s)),t.opacityExit=fe(e.opacity??1,0,qO(s))):i&&(t.opacity=fe(e.opacity??1,n.opacity??1,s));for(let o=0;o<WO;o++){const a=`border${kb[o]}Radius`;let l=Rm(e,a),u=Rm(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Am(l)===Am(u)?(t[a]=Math.max(fe(Pm(l),Pm(u),s),0),(cn.test(u)||cn.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=fe(e.rotate||0,n.rotate||0,s))}function Rm(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const KO=Sb(0,.5,cx),qO=Sb(.5,.95,jt);function Sb(t,e,n){return s=>s<t?0:s>e?1:n(yo(t,e,s))}function Om(t,e){t.min=e.min,t.max=e.max}function Bt(t,e){Om(t.x,e.x),Om(t.y,e.y)}function jm(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Mm(t,e,n,s,r){return t-=e,t=kl(t,1/n,s),r!==void 0&&(t=kl(t,1/r,s)),t}function YO(t,e=0,n=1,s=.5,r,i=t,o=t){if(cn.test(e)&&(e=parseFloat(e),e=fe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=fe(i.min,i.max,s);t===i&&(a-=e),t.min=Mm(t.min,e,n,a,r),t.max=Mm(t.max,e,n,a,r)}function Im(t,e,[n,s,r],i,o){YO(t,e[n],e[s],e[r],e.scale,i,o)}const GO=["x","scaleX","originX"],XO=["y","scaleY","originY"];function Dm(t,e,n,s){Im(t.x,e,GO,n?n.x:void 0,s?s.x:void 0),Im(t.y,e,XO,n?n.y:void 0,s?s.y:void 0)}function Nm(t){return t.translate===0&&t.scale===1}function Tb(t){return Nm(t.x)&&Nm(t.y)}function Lm(t,e){return t.min===e.min&&t.max===e.max}function JO(t,e){return Lm(t.x,e.x)&&Lm(t.y,e.y)}function Fm(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Eb(t,e){return Fm(t.x,e.x)&&Fm(t.y,e.y)}function Vm(t){return tt(t.x)/tt(t.y)}function $m(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class QO{constructor(){this.members=[]}add(e){of(this.members,e),e.scheduleRender()}remove(e){if(af(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ZO(t,e,n){let s="";const r=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((r||i||o)&&(s=`translate3d(${r}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:h,rotateY:d,skewX:f,skewY:g}=n;u&&(s=`perspective(${u}px) ${s}`),c&&(s+=`rotate(${c}deg) `),h&&(s+=`rotateX(${h}deg) `),d&&(s+=`rotateY(${d}deg) `),f&&(s+=`skewX(${f}deg) `),g&&(s+=`skewY(${g}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(s+=`scale(${a}, ${l})`),s||"none"}const tc=["","X","Y","Z"],ej=1e3;let tj=0;function nc(t,e,n,s){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),s&&(s[t]=0))}function Cb(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=db(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ce,!(r||i))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&Cb(s)}function Pb({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=tj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(rj),this.nodes.forEach(lj),this.nodes.forEach(uj),this.nodes.forEach(ij)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new UO)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new cf),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=zx(o)&&!QA(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let c,h=0;const d=()=>this.root.updateBlockedByResize=!1;ce.read(()=>{h=window.innerWidth}),t(o,()=>{const f=window.innerWidth;f!==h&&(h=f,this.root.updateBlockedByResize=!0,c&&c(),c=zO(d,250),$a.hasAnimatedSinceResize&&($a.hasAnimatedSinceResize=!1,this.nodes.forEach(zm)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:d,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||pj,{onLayoutAnimationStart:y,onLayoutAnimationComplete:w}=u.getProps(),p=!this.targetLayout||!Eb(this.targetLayout,f),m=!h&&d;if(this.options.layoutRoot||this.resumeFrom||m||h&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const v={..._f(g,"layout"),onPlay:y,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v),this.setAnimationOrigin(c,m)}else h||zm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ss(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cj),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Cb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Bm);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Um);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(aj),this.nodes.forEach(nj),this.nodes.forEach(sj)):this.nodes.forEach(Um),this.clearAllSnapshots();const a=ut.now();ze.delta=En(0,1e3/60,a-ze.timestamp),ze.timestamp=a,ze.isProcessing=!0,Wu.update.process(ze),Wu.preRender.process(ze),Wu.render.process(ze),ze.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Sf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(oj),this.sharedNodes.forEach(hj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ce.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ce.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!tt(this.snapshot.measuredBox.x)&&!tt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Oe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Tb(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||xs(this.latestValues)||c)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),gj(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Oe();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(mj))){const{scroll:c}=this.root;c&&(kr(a.x,c.offset.x),kr(a.y,c.offset.y))}return a}removeElementScroll(o){var l;const a=Oe();if(Bt(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:h,options:d}=c;c!==this.root&&h&&d.layoutScroll&&(h.wasRoot&&Bt(a,o),kr(a.x,h.offset.x),kr(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=Oe();Bt(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Sr(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),xs(c.latestValues)&&Sr(l,c.latestValues)}return xs(this.latestValues)&&Sr(l,this.latestValues),l}removeTransform(o){const a=Oe();Bt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!xs(u.latestValues))continue;Vh(u.latestValues)&&u.updateSnapshot();const c=Oe(),h=u.measurePageBox();Bt(c,h),Dm(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return xs(this.latestValues)&&Dm(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ze.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:h}=this.options;if(!this.layout||!(c||h))return;this.resolvedRelativeTargetAt=ze.timestamp;const d=this.getClosestProjectingParent();d&&this.linkedParentVersion!==d.layoutVersion&&!d.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(d&&d.layout?this.createRelativeTarget(d,this.layout.layoutBox,d.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Oe(),this.targetWithTransforms=Oe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),SO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bt(this.target,this.layout.layoutBox),ob(this.target,this.targetDelta)):Bt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?this.createRelativeTarget(d,this.target,d.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Vh(this.parent.latestValues)||ib(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Oe(),this.relativeTargetOrigin=Oe(),Sl(this.relativeTargetOrigin,a,l),Bt(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var g;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ze.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;Bt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,d=this.treeScale.y;NR(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Oe());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(jm(this.prevProjectionDelta.x,this.projectionDelta.x),jm(this.prevProjectionDelta.y,this.projectionDelta.y)),Bi(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==d||!$m(this.projectionDelta.x,this.prevProjectionDelta.x)||!$m(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Tr(),this.projectionDelta=Tr(),this.projectionDeltaWithTransform=Tr()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=Tr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=Oe(),f=l?l.source:void 0,g=this.layout?this.layout.source:void 0,y=f!==g,w=this.getStack(),p=!w||w.members.length<=1,m=!!(y&&!p&&this.options.crossfade===!0&&!this.path.some(fj));this.animationProgress=0;let v;this.mixTargetDelta=b=>{const _=b/1e3;Wm(h.x,o.x,_),Wm(h.y,o.y,_),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sl(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dj(this.relativeTarget,this.relativeTargetOrigin,d,_),v&&JO(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=Oe()),Bt(v,this.relativeTarget)),y&&(this.animationValues=c,HO(c,u,this.latestValues,_,m,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(ss(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ce.update(()=>{$a.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wr(0)),this.currentAnimation=$O(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ej),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&Ab(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Oe();const h=tt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const d=tt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}Bt(a,l),Sr(a,c),Bi(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new QO),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&nc("z",o,u,this.animationValues);for(let c=0;c<tc.length;c++)nc(`rotate${tc[c]}`,o,u,this.animationValues),nc(`skew${tc[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Va(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Va(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!xs(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=ZO(this.projectionDeltaWithTransform,this.treeScale,c);l&&(h=l(c,h)),o.transform=h;const{x:d,y:f}=this.projectionDelta;o.transformOrigin=`${d.origin*100}% ${f.origin*100}% 0`,u.animationValues?o.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:o.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const g in Fh){if(c[g]===void 0)continue;const{correct:y,applyTo:w,isCSSVariable:p}=Fh[g],m=h==="none"?c[g]:y(c[g],u);if(w){const v=w.length;for(let b=0;b<v;b++)o[w[b]]=m}else p?this.options.visualElement.renderState.vars[g]=m:o[g]=m}this.options.layoutId&&(o.pointerEvents=u===this?Va(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(Bm),this.root.sharedNodes.clear()}}}function nj(t){t.updateLayout()}function sj(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Tt(h=>{const d=o?e.measuredBox[h]:e.layoutBox[h],f=tt(d);d.min=s[h].min,d.max=d.min+f}):Ab(i,e.layoutBox,s)&&Tt(h=>{const d=o?e.measuredBox[h]:e.layoutBox[h],f=tt(s[h]);d.max=d.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+f)});const a=Tr();Bi(a,s,e.layoutBox);const l=Tr();o?Bi(l,t.applyTransform(r,!0),e.measuredBox):Bi(l,s,e.layoutBox);const u=!Tb(a);let c=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:d,layout:f}=h;if(d&&f){const g=Oe();Sl(g,e.layoutBox,d.layoutBox);const y=Oe();Sl(y,s,f.layoutBox),Eb(g,y)||(c=!0),h.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function rj(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function ij(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function oj(t){t.clearSnapshot()}function Bm(t){t.clearMeasurements()}function Um(t){t.isLayoutDirty=!1}function aj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function zm(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function lj(t){t.resolveTargetDelta()}function uj(t){t.calcProjection()}function cj(t){t.resetSkewAndRotation()}function hj(t){t.removeLeadSnapshot()}function Wm(t,e,n){t.translate=fe(e.translate,0,n),t.scale=fe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Hm(t,e,n,s){t.min=fe(e.min,n.min,s),t.max=fe(e.max,n.max,s)}function dj(t,e,n,s){Hm(t.x,e.x,n.x,s),Hm(t.y,e.y,n.y,s)}function fj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const pj={duration:.45,ease:[.4,0,.1,1]},Km=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),qm=Km("applewebkit/")&&!Km("chrome/")?Math.round:jt;function Ym(t){t.min=qm(t.min),t.max=qm(t.max)}function gj(t){Ym(t.x),Ym(t.y)}function Ab(t,e,n){return t==="position"||t==="preserve-aspect"&&!kO(Vm(e),Vm(n),.2)}function mj(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const yj=Pb({attachResizeListener:(t,e)=>bo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sc={current:void 0},Rb=Pb({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!sc.current){const t=new yj({});t.mount(window),t.setOptions({layoutScroll:!0}),sc.current=t}return sc.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),vj={pan:{Feature:FO},drag:{Feature:LO,ProjectionNode:Rb,MeasureLayout:_b}};function Gm(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,i=s[r];i&&ce.postRender(()=>i(e,Vo(e)))}class wj extends cs{mount(){const{current:e}=this.node;e&&(this.unmount=qA(e,(n,s)=>(Gm(this.node,s,"Start"),r=>Gm(this.node,r,"End"))))}unmount(){}}class xj extends cs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=No(bo(this.node.current,"focus",()=>this.onFocus()),bo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Xm(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),i=s[r];i&&ce.postRender(()=>i(e,Vo(e)))}class bj extends cs{mount(){const{current:e}=this.node;e&&(this.unmount=JA(e,(n,s)=>(Xm(this.node,s,"Start"),(r,{success:i})=>Xm(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Kh=new WeakMap,rc=new WeakMap,_j=t=>{const e=Kh.get(t.target);e&&e(t)},kj=t=>{t.forEach(_j)};function Sj({root:t,...e}){const n=t||document;rc.has(n)||rc.set(n,{});const s=rc.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(kj,{root:t,...e})),s[r]}function Tj(t,e,n){const s=Sj(e);return Kh.set(t,n),s.observe(t),()=>{Kh.delete(t),s.unobserve(t)}}const Ej={some:0,all:1};class Cj extends cs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:Ej[r]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),d=u?c:h;d&&d(l)};return Tj(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Pj(e,n))&&this.startObserver()}unmount(){}}function Pj({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Aj={inView:{Feature:Cj},tap:{Feature:bj},focus:{Feature:xj},hover:{Feature:wj}},Rj={layout:{ProjectionNode:Rb,MeasureLayout:_b}},Oj={...yO,...Aj,...vj,...Rj},jj=MR(Oj,KR),Ob=({children:t})=>x.jsx(jj.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:t}),Mj=()=>{var S;const{user:t}=Do(),[e,n]=T.useState([]),[s,r]=T.useState([]),[i,o]=T.useState([]),[a,l]=T.useState(!1),[u,c]=T.useState(null),[h,d]=T.useState("cat"),[f,g]=T.useState(""),[y,w]=T.useState(!0);T.useEffect(()=>{t&&p()},[t,a]);const p=async()=>{w(!0);try{const k=await ye.getMarks(t.id),E=await ye.getCourses(),P=await ye.getClaims({studentId:t.id}),j=(await ye.getEnrollments({studentId:t.id})).map(H=>H.courseId),L=k.map(H=>({...H,total:H.total||tP(H.cat,H.fat,H.assignment),course:E.find(z=>z.id===H.courseId)}));n(L);const W=E.filter(H=>{const z=!H.targetYear||H.targetYear===t.academicYear,Y=!H.intake||H.intake===t.intake,$=!H.cohortYear||H.cohortYear===t.cohortYear;return z&&Y&&$});o(W),r(P)}catch(k){console.error("Failed to load data",k)}finally{w(!1)}},m=async k=>{if(confirm("Join this course?"))try{await ye.joinCourse({studentId:t.id,courseId:k}),alert("Joined successfully!"),p()}catch{alert("Failed to join")}},v=k=>{c(k),l(!0),d("cat"),g("")},b=async k=>{k.preventDefault(),u&&(await ye.createClaim({studentId:t.id,courseId:u.courseId,assessmentType:h,explanation:f,originalMark:u[h],markId:u.id}),l(!1),alert("Claim submitted successfully!"))},_=k=>k==="approved"?x.jsx(HC,{size:16}):k==="rejected"?x.jsx(WC,{size:16}):x.jsx(KC,{size:16});return y?x.jsx("div",{className:"p-4",children:"Loading data..."}):x.jsxs(Ob,{children:[x.jsx("h2",{className:"text-2xl font-bold mb-6 text-slate-800 dark:text-white",children:"Student Dashboard"}),x.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm p-6 mb-8 flex flex-col md:flex-row gap-6 items-center border border-slate-200 dark:border-slate-700",children:[x.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center text-white shadow-md",children:x.jsx("span",{className:"text-3xl font-bold",children:t.name.charAt(0)})}),x.jsxs("div",{className:"text-center md:text-left",children:[x.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:t.name}),x.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-2",children:t.regNumber}),x.jsxs("div",{className:"flex flex-wrap gap-4 text-sm justify-center md:justify-start",children:[x.jsxs("span",{className:"bg-slate-100 dark:bg-slate-700 dark:text-slate-200 px-3 py-1 rounded-full",children:[x.jsx("strong",{children:"Year:"})," ",t.academicYear||"N/A"]}),x.jsxs("span",{className:"bg-slate-100 dark:bg-slate-700 dark:text-slate-200 px-3 py-1 rounded-full",children:[x.jsx("strong",{children:"Program:"})," ",t.program||"N/A"]}),x.jsxs("span",{className:"bg-slate-100 dark:bg-slate-700 dark:text-slate-200 px-3 py-1 rounded-full",children:[x.jsx("strong",{children:"Dept:"})," ",t.department||"N/A"]})]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[x.jsxs("section",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-6 h-fit",children:[x.jsx("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2 text-slate-800 dark:text-white",children:"Available Courses"}),x.jsxs("div",{className:"flex flex-col gap-3",children:[i.length===0&&x.jsx("p",{className:"text-slate-500 italic",children:"No courses available."}),i.map(k=>e.some(P=>P.courseId===k.id)?null:x.jsxs("div",{className:"flex justify-between items-center p-3 border-b border-slate-100 dark:border-slate-700 last:border-0 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors rounded-lg",children:[x.jsxs("div",{children:[x.jsx("div",{className:"font-bold text-slate-900 dark:text-white",children:k.code}),x.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:k.name})]}),x.jsx("button",{className:"px-3 py-1 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors shadow-sm",onClick:()=>m(k.id),children:"Join"})]},k.id))]})]}),x.jsxs("section",{children:[x.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2 text-slate-800 dark:text-white",children:[x.jsx(Sh,{size:20,className:"text-blue-500"})," My Marks"]}),x.jsxs("div",{className:"flex flex-col gap-4",children:[e.length===0&&x.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-dashed border-slate-300 dark:border-slate-700 text-center text-slate-500",children:"No marks available yet. Join a course to get started."}),e.map(k=>{var E,P;return x.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-5 transition-transform hover:-translate-y-1 duration-200",children:[x.jsxs("div",{className:"flex justify-between items-start mb-4",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"font-bold text-lg text-slate-900 dark:text-white",children:(E=k.course)==null?void 0:E.name}),x.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:(P=k.course)==null?void 0:P.code})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("span",{className:"block text-2xl font-bold text-blue-600 dark:text-blue-400",children:k.total}),x.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Total Score"})]})]}),x.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4 text-sm",children:[x.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-2 rounded text-center",children:[x.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"CAT"}),x.jsx("div",{className:"font-semibold text-slate-900 dark:text-white",children:k.cat})]}),x.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-2 rounded text-center",children:[x.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"FAT"}),x.jsx("div",{className:"font-semibold text-slate-900 dark:text-white",children:k.fat})]}),x.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-2 rounded text-center",children:[x.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Assign"}),x.jsx("div",{className:"font-semibold text-slate-900 dark:text-white",children:k.assignment})]})]}),x.jsxs("button",{className:"w-full flex items-center justify-center gap-2 py-2 text-blue-600 dark:text-blue-400 border border-blue-200 dark:border-blue-900 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors text-sm font-medium",onClick:()=>v(k),children:[x.jsx(JC,{size:16})," Request Review"]})]},k.id)})]})]}),x.jsxs("section",{className:"md:col-span-2 mt-4",children:[x.jsx("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2 text-slate-800 dark:text-white",children:"Recent Claims"}),x.jsxs("div",{className:"flex flex-col gap-4",children:[s.length===0&&x.jsx("p",{className:"text-slate-500 italic",children:"No claims submitted yet."}),s.map(k=>{const E=i.find(P=>P.id===k.courseId);return x.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[x.jsxs("div",{className:"flex justify-between mb-2",children:[x.jsxs("span",{className:"font-semibold text-slate-900 dark:text-white",children:[E==null?void 0:E.code," - ",k.assessmentType.toUpperCase()]}),x.jsxs("span",{className:`flex items-center gap-1 text-xs font-bold uppercase px-2 py-1 rounded-full 
                                            ${k.status==="approved"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":k.status==="rejected"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400"}`,children:[_(k.status)," ",k.status]})]}),x.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-3 italic",children:['"',k.explanation,'"']}),k.lecturerComment&&x.jsxs("div",{className:"bg-green-50 dark:bg-green-900/10 p-3 rounded-lg text-sm border-l-4 border-green-500 mb-2",children:[x.jsx("strong",{className:"block text-green-700 dark:text-green-400 mb-1",children:"Lecturer's Response:"}),x.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:k.lecturerComment})]}),x.jsx("div",{className:"text-xs text-slate-400 text-right mt-2",children:new Date(k.submittedAt).toLocaleDateString()})]},k.id)})]})]})]}),a&&u&&x.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:x.jsx("div",{className:"bg-white dark:bg-slate-800 w-full max-w-lg rounded-xl shadow-2xl overflow-hidden border border-slate-200 dark:border-slate-700",children:x.jsxs("div",{className:"p-6",children:[x.jsxs("h3",{className:"text-xl font-bold mb-4 text-slate-900 dark:text-white",children:["Submit Claim: ",(S=u.course)==null?void 0:S.code]}),x.jsxs("form",{onSubmit:b,children:[x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block mb-2 text-sm font-medium text-slate-700 dark:text-slate-300",children:"Assessment Type"}),x.jsxs("select",{className:"w-full p-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white outline-none focus:ring-2 focus:ring-blue-500",value:h,onChange:k=>d(k.target.value),children:[x.jsx("option",{value:"cat",children:"Continuous Assessment (CAT)"}),x.jsx("option",{value:"fat",children:"Final Assessment (FAT)"}),x.jsx("option",{value:"assignment",children:"Assignment"})]})]}),x.jsxs("div",{className:"mb-6",children:[x.jsx("label",{className:"block mb-2 text-sm font-medium text-slate-700 dark:text-slate-300",children:"Argument / Explanation"}),x.jsx("textarea",{required:!0,rows:4,className:"w-full p-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Please explain why you believe the mark is incorrect...",value:f,onChange:k=>g(k.target.value)})]}),x.jsxs("div",{className:"flex justify-end gap-3",children:[x.jsx("button",{type:"button",className:"px-4 py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",onClick:()=>l(!1),children:"Cancel"}),x.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:"Submit Claim"})]})]})]})})})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function $o(t){return t+.5|0}const Un=(t,e,n)=>Math.max(Math.min(t,n),e);function _i(t){return Un($o(t*2.55),0,255)}function Zn(t){return Un($o(t*255),0,255)}function yn(t){return Un($o(t/2.55)/100,0,1)}function Jm(t){return Un($o(t*100),0,100)}const St={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},qh=[..."0123456789ABCDEF"],Ij=t=>qh[t&15],Dj=t=>qh[(t&240)>>4]+qh[t&15],da=t=>(t&240)>>4===(t&15),Nj=t=>da(t.r)&&da(t.g)&&da(t.b)&&da(t.a);function Lj(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&St[t[1]]*17,g:255&St[t[2]]*17,b:255&St[t[3]]*17,a:e===5?St[t[4]]*17:255}:(e===7||e===9)&&(n={r:St[t[1]]<<4|St[t[2]],g:St[t[3]]<<4|St[t[4]],b:St[t[5]]<<4|St[t[6]],a:e===9?St[t[7]]<<4|St[t[8]]:255})),n}const Fj=(t,e)=>t<255?e(t):"";function Vj(t){var e=Nj(t)?Ij:Dj;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Fj(t.a,e):void 0}const $j=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function jb(t,e,n){const s=e*Math.min(n,1-n),r=(i,o=(i+t/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function Bj(t,e,n){const s=(r,i=(r+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function Uj(t,e,n){const s=jb(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)s[r]*=1-e-n,s[r]+=e;return s}function zj(t,e,n,s,r){return t===r?(e-n)/s+(e<n?6:0):e===r?(n-t)/s+2:(t-e)/s+4}function Df(t){const n=t.r/255,s=t.g/255,r=t.b/255,i=Math.max(n,s,r),o=Math.min(n,s,r),a=(i+o)/2;let l,u,c;return i!==o&&(c=i-o,u=a>.5?c/(2-i-o):c/(i+o),l=zj(n,s,r,c,i),l=l*60+.5),[l|0,u||0,a]}function Nf(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(Zn)}function Lf(t,e,n){return Nf(jb,t,e,n)}function Wj(t,e,n){return Nf(Uj,t,e,n)}function Hj(t,e,n){return Nf(Bj,t,e,n)}function Mb(t){return(t%360+360)%360}function Kj(t){const e=$j.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?_i(+e[5]):Zn(+e[5]));const r=Mb(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=Wj(r,i,o):e[1]==="hsv"?s=Hj(r,i,o):s=Lf(r,i,o),{r:s[0],g:s[1],b:s[2],a:n}}function qj(t,e){var n=Df(t);n[0]=Mb(n[0]+e),n=Lf(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Yj(t){if(!t)return;const e=Df(t),n=e[0],s=Jm(e[1]),r=Jm(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${r}%, ${yn(t.a)})`:`hsl(${n}, ${s}%, ${r}%)`}const Qm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Zm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Gj(){const t={},e=Object.keys(Zm),n=Object.keys(Qm);let s,r,i,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],r=0;r<n.length;r++)i=n[r],a=a.replace(i,Qm[i]);i=parseInt(Zm[o],16),t[a]=[i>>16&255,i>>8&255,i&255]}return t}let fa;function Xj(t){fa||(fa=Gj(),fa.transparent=[0,0,0,0]);const e=fa[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Jj=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Qj(t){const e=Jj.exec(t);let n=255,s,r,i;if(e){if(e[7]!==s){const o=+e[7];n=e[8]?_i(o):Un(o*255,0,255)}return s=+e[1],r=+e[3],i=+e[5],s=255&(e[2]?_i(s):Un(s,0,255)),r=255&(e[4]?_i(r):Un(r,0,255)),i=255&(e[6]?_i(i):Un(i,0,255)),{r:s,g:r,b:i,a:n}}}function Zj(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${yn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const ic=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,nr=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function e2(t,e,n){const s=nr(yn(t.r)),r=nr(yn(t.g)),i=nr(yn(t.b));return{r:Zn(ic(s+n*(nr(yn(e.r))-s))),g:Zn(ic(r+n*(nr(yn(e.g))-r))),b:Zn(ic(i+n*(nr(yn(e.b))-i))),a:t.a+n*(e.a-t.a)}}function pa(t,e,n){if(t){let s=Df(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=Lf(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function Ib(t,e){return t&&Object.assign(e||{},t)}function ey(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Zn(t[3]))):(e=Ib(t,{r:0,g:0,b:0,a:1}),e.a=Zn(e.a)),e}function t2(t){return t.charAt(0)==="r"?Qj(t):Kj(t)}class _o{constructor(e){if(e instanceof _o)return e;const n=typeof e;let s;n==="object"?s=ey(e):n==="string"&&(s=Lj(e)||Xj(e)||t2(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=Ib(this._rgb);return e&&(e.a=yn(e.a)),e}set rgb(e){this._rgb=ey(e)}rgbString(){return this._valid?Zj(this._rgb):void 0}hexString(){return this._valid?Vj(this._rgb):void 0}hslString(){return this._valid?Yj(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,r=e.rgb;let i;const o=n===i?.5:n,a=2*o-1,l=s.a-r.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-u,s.r=255&u*s.r+i*r.r+.5,s.g=255&u*s.g+i*r.g+.5,s.b=255&u*s.b+i*r.b+.5,s.a=o*s.a+(1-o)*r.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=e2(this._rgb,e._rgb,n)),this}clone(){return new _o(this.rgb)}alpha(e){return this._rgb.a=Zn(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=$o(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return pa(this._rgb,2,e),this}darken(e){return pa(this._rgb,2,-e),this}saturate(e){return pa(this._rgb,1,e),this}desaturate(e){return pa(this._rgb,1,-e),this}rotate(e){return qj(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function hn(){}const n2=(()=>{let t=0;return()=>t++})();function se(t){return t==null}function Me(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function J(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Dt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function en(t,e){return Dt(t)?t:e}function G(t,e){return typeof t>"u"?e:t}const s2=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Db=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ae(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ee(t,e,n,s){let r,i,o;if(Me(t))for(i=t.length,r=0;r<i;r++)e.call(n,t[r],r);else if(J(t))for(o=Object.keys(t),i=o.length,r=0;r<i;r++)e.call(n,t[o[r]],o[r])}function Tl(t,e){let n,s,r,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(r=t[n],i=e[n],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function El(t){if(Me(t))return t.map(El);if(J(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let r=0;for(;r<s;++r)e[n[r]]=El(t[n[r]]);return e}return t}function Nb(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function r2(t,e,n,s){if(!Nb(t))return;const r=e[t],i=n[t];J(r)&&J(i)?ko(r,i,s):e[t]=El(i)}function ko(t,e,n){const s=Me(e)?e:[e],r=s.length;if(!J(t))return t;n=n||{};const i=n.merger||r2;let o;for(let a=0;a<r;++a){if(o=s[a],!J(o))continue;const l=Object.keys(o);for(let u=0,c=l.length;u<c;++u)i(l[u],t,o,n)}return t}function Ui(t,e){return ko(t,e,{merger:i2})}function i2(t,e,n){if(!Nb(t))return;const s=e[t],r=n[t];J(s)&&J(r)?Ui(s,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=El(r))}const ty={"":t=>t,x:t=>t.x,y:t=>t.y};function o2(t){const e=t.split("."),n=[];let s="";for(const r of e)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function a2(t){const e=o2(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function Us(t,e){return(ty[e]||(ty[e]=a2(e)))(t)}function Ff(t){return t.charAt(0).toUpperCase()+t.slice(1)}const So=t=>typeof t<"u",is=t=>typeof t=="function",ny=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function l2(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ne=Math.PI,Ce=2*ne,Cl=Number.POSITIVE_INFINITY,u2=ne/180,De=ne/2,ps=ne/4,sy=ne*2/3,Lb=Math.log10,es=Math.sign;function Ba(t,e,n){return Math.abs(t-e)<n}function ry(t){const e=Math.round(t);t=Ba(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Lb(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function c2(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((r,i)=>r-i).pop(),e}function h2(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Pl(t){return!h2(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function d2(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function f2(t,e,n){let s,r,i;for(s=0,r=t.length;s<r;s++)i=t[s][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function xn(t){return t*(ne/180)}function p2(t){return t*(180/ne)}function iy(t){if(!Dt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Fb(t,e){const n=e.x-t.x,s=e.y-t.y,r=Math.sqrt(n*n+s*s);let i=Math.atan2(s,n);return i<-.5*ne&&(i+=Ce),{angle:i,distance:r}}function g2(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function rn(t){return(t%Ce+Ce)%Ce}function Al(t,e,n,s){const r=rn(t),i=rn(e),o=rn(n),a=rn(i-r),l=rn(o-r),u=rn(r-i),c=rn(r-o);return r===i||r===o||s&&i===o||a>l&&u<c}function ct(t,e,n){return Math.max(e,Math.min(n,t))}function m2(t){return ct(t,-32768,32767)}function Rs(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function Vf(t,e,n){n=n||(o=>t[o]<e);let s=t.length-1,r=0,i;for(;s-r>1;)i=r+s>>1,n(i)?r=i:s=i;return{lo:r,hi:s}}const Yh=(t,e,n,s)=>Vf(t,n,s?r=>{const i=t[r][e];return i<n||i===n&&t[r+1][e]===n}:r=>t[r][e]<n),y2=(t,e,n)=>Vf(t,n,s=>t[s][e]>=n);function v2(t,e,n){let s=0,r=t.length;for(;s<r&&t[s]<e;)s++;for(;r>s&&t[r-1]>n;)r--;return s>0||r<t.length?t.slice(s,r):t}const Vb=["push","pop","shift","splice","unshift"];function w2(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Vb.forEach(n=>{const s="_onData"+Ff(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const o=r.apply(this,i);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...i)}),o}})})}function oy(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,r=s.indexOf(e);r!==-1&&s.splice(r,1),!(s.length>0)&&(Vb.forEach(i=>{delete t[i]}),delete t._chartjs)}function $b(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Bb=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Ub(t,e){let n=[],s=!1;return function(...r){n=r,s||(s=!0,Bb.call(window,()=>{s=!1,t.apply(e,n)}))}}function x2(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const $f=t=>t==="start"?"left":t==="end"?"right":"center",Ge=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,b2=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e,ga=t=>t===0||t===1,ay=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ce/n)),ly=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ce/n)+1,zi={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*De)+1,easeOutSine:t=>Math.sin(t*De),easeInOutSine:t=>-.5*(Math.cos(ne*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>ga(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ga(t)?t:ay(t,.075,.3),easeOutElastic:t=>ga(t)?t:ly(t,.075,.3),easeInOutElastic(t){return ga(t)?t:t<.5?.5*ay(t*2,.1125,.45):.5+.5*ly(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-zi.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?zi.easeInBounce(t*2)*.5:zi.easeOutBounce(t*2-1)*.5+.5};function zb(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function uy(t){return zb(t)?t:new _o(t)}function oc(t){return zb(t)?t:new _o(t).saturate(.5).darken(.1).hexString()}const _2=["x","y","borderWidth","radius","tension"],k2=["color","borderColor","backgroundColor"];function S2(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:k2},numbers:{type:"number",properties:_2}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function T2(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const cy=new Map;function E2(t,e){e=e||{};const n=t+JSON.stringify(e);let s=cy.get(n);return s||(s=new Intl.NumberFormat(t,e),cy.set(n,s)),s}function Bf(t,e,n){return E2(e,n).format(t)}const C2={values(t){return Me(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let r,i=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(r="scientific"),i=P2(t,n)}const o=Lb(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Bf(t,s,l)}};function P2(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Wb={formatters:C2};function A2(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Wb.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const zs=Object.create(null),Gh=Object.create(null);function Wi(t,e){if(!e)return t;const n=e.split(".");for(let s=0,r=n.length;s<r;++s){const i=n[s];t=t[i]||(t[i]=Object.create(null))}return t}function ac(t,e,n){return typeof e=="string"?ko(Wi(t,e),n):ko(Wi(t,""),e)}class R2{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>oc(r.backgroundColor),this.hoverBorderColor=(s,r)=>oc(r.borderColor),this.hoverColor=(s,r)=>oc(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return ac(this,e,n)}get(e){return Wi(this,e)}describe(e,n){return ac(Gh,e,n)}override(e,n){return ac(zs,e,n)}route(e,n,s,r){const i=Wi(this,e),o=Wi(this,s),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[r];return J(l)?Object.assign({},u,l):G(l,u)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var ke=new R2({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[S2,T2,A2]);function O2(t){return!t||se(t.size)||se(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function hy(t,e,n,s,r){let i=e[r];return i||(i=e[r]=t.measureText(r).width,n.push(r)),i>s&&(s=i),s}function gs(t,e,n){const s=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*s)/s+r}function dy(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function fy(t,e,n,s){Hb(t,e,n,s,null)}function Hb(t,e,n,s,r){let i,o,a,l,u,c,h,d;const f=e.pointStyle,g=e.rotation,y=e.radius;let w=(g||0)*u2;if(f&&typeof f=="object"&&(i=f.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(w),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),f){default:r?t.ellipse(n,s,r/2,y,0,0,Ce):t.arc(n,s,y,0,Ce),t.closePath();break;case"triangle":c=r?r/2:y,t.moveTo(n+Math.sin(w)*c,s-Math.cos(w)*y),w+=sy,t.lineTo(n+Math.sin(w)*c,s-Math.cos(w)*y),w+=sy,t.lineTo(n+Math.sin(w)*c,s-Math.cos(w)*y),t.closePath();break;case"rectRounded":u=y*.516,l=y-u,o=Math.cos(w+ps)*l,h=Math.cos(w+ps)*(r?r/2-u:l),a=Math.sin(w+ps)*l,d=Math.sin(w+ps)*(r?r/2-u:l),t.arc(n-h,s-a,u,w-ne,w-De),t.arc(n+d,s-o,u,w-De,w),t.arc(n+h,s+a,u,w,w+De),t.arc(n-d,s+o,u,w+De,w+ne),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*y,c=r?r/2:l,t.rect(n-c,s-l,2*c,2*l);break}w+=ps;case"rectRot":h=Math.cos(w)*(r?r/2:y),o=Math.cos(w)*y,a=Math.sin(w)*y,d=Math.sin(w)*(r?r/2:y),t.moveTo(n-h,s-a),t.lineTo(n+d,s-o),t.lineTo(n+h,s+a),t.lineTo(n-d,s+o),t.closePath();break;case"crossRot":w+=ps;case"cross":h=Math.cos(w)*(r?r/2:y),o=Math.cos(w)*y,a=Math.sin(w)*y,d=Math.sin(w)*(r?r/2:y),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+d,s-o),t.lineTo(n-d,s+o);break;case"star":h=Math.cos(w)*(r?r/2:y),o=Math.cos(w)*y,a=Math.sin(w)*y,d=Math.sin(w)*(r?r/2:y),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+d,s-o),t.lineTo(n-d,s+o),w+=ps,h=Math.cos(w)*(r?r/2:y),o=Math.cos(w)*y,a=Math.sin(w)*y,d=Math.sin(w)*(r?r/2:y),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+d,s-o),t.lineTo(n-d,s+o);break;case"line":o=r?r/2:Math.cos(w)*y,a=Math.sin(w)*y,t.moveTo(n-o,s-a),t.lineTo(n+o,s+a);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(w)*(r?r/2:y),s+Math.sin(w)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Kb(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Uf(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function zf(t){t.restore()}function j2(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),se(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function M2(t,e,n,s,r){if(r.strikethrough||r.underline){const i=t.measureText(s),o=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,c=r.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,c),t.lineTo(a,c),t.stroke()}}function I2(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function To(t,e,n,s,r,i={}){const o=Me(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="";let l,u;for(t.save(),t.font=r.string,j2(t,i),l=0;l<o.length;++l)u=o[l],i.backdrop&&I2(t,i.backdrop),a&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),se(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,n,s,i.maxWidth)),t.fillText(u,n,s,i.maxWidth),M2(t,n,s,u,i),s+=Number(r.lineHeight);t.restore()}function Rl(t,e){const{x:n,y:s,w:r,h:i,radius:o}=e;t.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*ne,ne,!0),t.lineTo(n,s+i-o.bottomLeft),t.arc(n+o.bottomLeft,s+i-o.bottomLeft,o.bottomLeft,ne,De,!0),t.lineTo(n+r-o.bottomRight,s+i),t.arc(n+r-o.bottomRight,s+i-o.bottomRight,o.bottomRight,De,0,!0),t.lineTo(n+r,s+o.topRight),t.arc(n+r-o.topRight,s+o.topRight,o.topRight,0,-De,!0),t.lineTo(n+o.topLeft,s)}const D2=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,N2=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function L2(t,e){const n=(""+t).match(D2);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const F2=t=>+t||0;function Wf(t,e){const n={},s=J(e),r=s?Object.keys(e):e,i=J(t)?s?o=>G(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=F2(i(o));return n}function qb(t){return Wf(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ir(t){return Wf(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Nt(t){const e=qb(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Qe(t,e){t=t||{},e=e||ke.font;let n=G(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=G(t.style,e.style);s&&!(""+s).match(N2)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:G(t.family,e.family),lineHeight:L2(G(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:G(t.weight,e.weight),string:""};return r.string=O2(r),r}function ma(t,e,n,s){let r,i,o;for(r=0,i=t.length;r<i;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function V2(t,e,n){const{min:s,max:r}=t,i=Db(e,(r-s)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(s,-Math.abs(i)),max:o(r,i)}}function ei(t,e){return Object.assign(Object.create(t),e)}function Hf(t,e=[""],n,s,r=()=>t[0]){const i=n||t;typeof s>"u"&&(s=Jb("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:s,_getTarget:r,override:a=>Hf([a,...t],e,i,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return Gb(a,l,()=>q2(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return gy(a).includes(l)},ownKeys(a){return gy(a)},set(a,l,u){const c=a._storage||(a._storage=r());return a[l]=c[l]=u,delete a._keys,!0}})}function Kr(t,e,n,s){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Yb(t,s),setContext:i=>Kr(t,i,n,s),override:i=>Kr(t.override(i),e,n,s)};return new Proxy(r,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,a){return Gb(i,o,()=>B2(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,a){return t[o]=a,delete i[o],!0}})}function Yb(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:s,isScriptable:is(n)?n:()=>n,isIndexable:is(s)?s:()=>s}}const $2=(t,e)=>t?t+Ff(e):e,Kf=(t,e)=>J(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Gb(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function B2(t,e,n){const{_proxy:s,_context:r,_subProxy:i,_descriptors:o}=t;let a=s[e];return is(a)&&o.isScriptable(e)&&(a=U2(e,a,t,n)),Me(a)&&a.length&&(a=z2(e,a,t,o.isIndexable)),Kf(e,a)&&(a=Kr(a,r,i&&i[e],o)),a}function U2(t,e,n,s){const{_proxy:r,_context:i,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(i,o||s);return a.delete(t),Kf(t,l)&&(l=qf(r._scopes,r,t,l)),l}function z2(t,e,n,s){const{_proxy:r,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&s(t))return e[i.index%e.length];if(J(e[0])){const l=e,u=r._scopes.filter(c=>c!==l);e=[];for(const c of l){const h=qf(u,r,t,c);e.push(Kr(h,i,o&&o[t],a))}}return e}function Xb(t,e,n){return is(t)?t(e,n):t}const W2=(t,e)=>t===!0?e:typeof t=="string"?Us(e,t):void 0;function H2(t,e,n,s,r){for(const i of e){const o=W2(n,i);if(o){t.add(o);const a=Xb(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function qf(t,e,n,s){const r=e._rootScopes,i=Xb(e._fallback,n,s),o=[...t,...r],a=new Set;a.add(s);let l=py(a,o,n,i||n,s);return l===null||typeof i<"u"&&i!==n&&(l=py(a,o,i,l,s),l===null)?!1:Hf(Array.from(a),[""],r,i,()=>K2(e,n,s))}function py(t,e,n,s,r){for(;n;)n=H2(t,e,n,s,r);return n}function K2(t,e,n){const s=t._getTarget();e in s||(s[e]={});const r=s[e];return Me(r)&&J(n)?n:r||{}}function q2(t,e,n,s){let r;for(const i of e)if(r=Jb($2(i,t),n),typeof r<"u")return Kf(t,r)?qf(n,s,t,r):r}function Jb(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function gy(t){let e=t._keys;return e||(e=t._keys=Y2(t._scopes)),e}function Y2(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(s);return Array.from(e)}function Yf(){return typeof window<"u"&&typeof document<"u"}function Gf(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ol(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const iu=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function G2(t,e){return iu(t).getPropertyValue(e)}const X2=["top","right","bottom","left"];function Ns(t,e,n){const s={};n=n?"-"+n:"";for(let r=0;r<4;r++){const i=X2[r];s[i]=parseFloat(t[e+"-"+i+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const J2=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Q2(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:r,offsetY:i}=s;let o=!1,a,l;if(J2(r,i,t.target))a=r,l=i;else{const u=e.getBoundingClientRect();a=s.clientX-u.left,l=s.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function bs(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,r=iu(n),i=r.boxSizing==="border-box",o=Ns(r,"padding"),a=Ns(r,"border","width"),{x:l,y:u,box:c}=Q2(t,n),h=o.left+(c&&a.left),d=o.top+(c&&a.top);let{width:f,height:g}=e;return i&&(f-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-h)/f*n.width/s),y:Math.round((u-d)/g*n.height/s)}}function Z2(t,e,n){let s,r;if(e===void 0||n===void 0){const i=t&&Gf(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const o=i.getBoundingClientRect(),a=iu(i),l=Ns(a,"border","width"),u=Ns(a,"padding");e=o.width-u.width-l.width,n=o.height-u.height-l.height,s=Ol(a.maxWidth,i,"clientWidth"),r=Ol(a.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:s||Cl,maxHeight:r||Cl}}const zn=t=>Math.round(t*10)/10;function eM(t,e,n,s){const r=iu(t),i=Ns(r,"margin"),o=Ol(r.maxWidth,t,"clientWidth")||Cl,a=Ol(r.maxHeight,t,"clientHeight")||Cl,l=Z2(t,e,n);let{width:u,height:c}=l;if(r.boxSizing==="content-box"){const d=Ns(r,"border","width"),f=Ns(r,"padding");u-=f.width+d.width,c-=f.height+d.height}return u=Math.max(0,u-i.width),c=Math.max(0,s?u/s:c-i.height),u=zn(Math.min(u,o,l.maxWidth)),c=zn(Math.min(c,a,l.maxHeight)),u&&!c&&(c=zn(u/2)),(e!==void 0||n!==void 0)&&s&&l.height&&c>l.height&&(c=l.height,u=zn(Math.floor(c*s))),{width:u,height:c}}function my(t,e,n){const s=e||1,r=zn(t.height*s),i=zn(t.width*s);t.height=zn(t.height),t.width=zn(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==r||o.width!==i?(t.currentDevicePixelRatio=s,o.height=r,o.width=i,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const tM=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Yf()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function yy(t,e){const n=G2(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}const nM=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},sM=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Dr(t,e,n){return t?nM(e,n):sM()}function Qb(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function Zb(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function ya(t,e,n){return t.options.clip?t[n]:e[n]}function rM(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:ya(n,e,"left"),right:ya(n,e,"right"),top:ya(s,e,"top"),bottom:ya(s,e,"bottom")}:e}function iM(t,e){const n=e._clip;if(n.disabled)return!1;const s=rM(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class oM{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,r){const i=n.listeners[r],o=n.duration;i.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Bb.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const i=s.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(r.draw(),this._notify(r,s,e,"progress")),i.length||(s.running=!1,this._notify(r,s,e,"complete"),s.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var dn=new oM;const vy="transparent",aM={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=uy(t||vy),r=s.valid&&uy(e||vy);return r&&r.valid?r.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class lM{constructor(e,n,s,r){const i=n[s];r=ma([e.to,r,i,e.from]);const o=ma([e.from,i,r]);this._active=!0,this._fn=e.fn||aM[e.type||typeof o],this._easing=zi[e.easing]||zi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const r=this._target[this._prop],i=s-this._start,o=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=ma([e.to,n,r,e.from]),this._from=ma([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,r=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||n<s),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=i;return}l=n/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(i,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][n]()}}class e_{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!J(e))return;const n=Object.keys(ke.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!J(i))return;const o={};for(const a of n)o[a]=i[a];(Me(i.properties)&&i.properties||[r]).forEach(a=>{(a===r||!s.has(a))&&s.set(a,o)})})}_animateOptions(e,n){const s=n.options,r=cM(e,s);if(!r)return[];const i=this._createAnimations(r,s);return s.$shared&&uM(e.options.$animations,s).then(()=>{e.options=s},()=>{}),i}_createAnimations(e,n){const s=this._properties,r=[],i=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){r.push(...this._animateOptions(e,n));continue}const c=n[u];let h=i[u];const d=s.get(u);if(h)if(d&&h.active()){h.update(d,c,a);continue}else h.cancel();if(!d||!d.duration){e[u]=c;continue}i[u]=h=new lM(d,e,u,c),r.push(h)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return dn.add(this._chart,s),!0}}function uM(t,e){const n=[],s=Object.keys(e);for(let r=0;r<s.length;r++){const i=t[s[r]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function cM(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function wy(t,e){const n=t&&t.options||{},s=n.reverse,r=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:s?i:r,end:s?r:i}}function hM(t,e,n){if(n===!1)return!1;const s=wy(t,n),r=wy(e,n);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function dM(t){let e,n,s,r;return J(t)?(e=t.top,n=t.right,s=t.bottom,r=t.left):e=n=s=r=t,{top:e,right:n,bottom:s,left:r,disabled:t===!1}}function t_(t,e){const n=[],s=t._getSortedDatasetMetas(e);let r,i;for(r=0,i=s.length;r<i;++r)n.push(s[r].index);return n}function xy(t,e,n,s={}){const r=t.keys,i=s.mode==="single";let o,a,l,u;if(e===null)return;let c=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(c=!0,s.all)continue;break}u=t.values[l],Dt(u)&&(i||e===0||es(e)===es(u))&&(e+=u)}return!c&&!s.all?0:e}function fM(t,e){const{iScale:n,vScale:s}=e,r=n.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,u,c;for(l=0,u=o.length;l<u;++l)c=o[l],a[l]={[r]:c,[i]:t[c]};return a}function lc(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function pM(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function gM(t){const{min:e,max:n,minDefined:s,maxDefined:r}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function mM(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function by(t,e,n,s){for(const r of e.getMatchingVisibleMetas(s).reverse()){const i=t[r.index];if(n&&i>0||!n&&i<0)return r.index}return null}function _y(t,e){const{chart:n,_cachedMeta:s}=t,r=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=s,l=i.axis,u=o.axis,c=pM(i,o,s),h=e.length;let d;for(let f=0;f<h;++f){const g=e[f],{[l]:y,[u]:w}=g,p=g._stacks||(g._stacks={});d=p[u]=mM(r,c,y),d[a]=w,d._top=by(d,o,!0,s.type),d._bottom=by(d,o,!1,s.type);const m=d._visualValues||(d._visualValues={});m[a]=w}}function uc(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function yM(t,e){return ei(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function vM(t,e,n){return ei(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function hi(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const r of e){const i=r._stacks;if(!i||i[s]===void 0||i[s][n]===void 0)return;delete i[s][n],i[s]._visualValues!==void 0&&i[s]._visualValues[n]!==void 0&&delete i[s]._visualValues[n]}}}const cc=t=>t==="reset"||t==="none",ky=(t,e)=>e?t:Object.assign({},t),wM=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:t_(n,!0),values:null};class Nr{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=lc(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&hi(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),r=(h,d,f,g)=>h==="x"?d:h==="r"?g:f,i=n.xAxisID=G(s.xAxisID,uc(e,"x")),o=n.yAxisID=G(s.yAxisID,uc(e,"y")),a=n.rAxisID=G(s.rAxisID,uc(e,"r")),l=n.indexAxis,u=n.iAxisID=r(l,i,o,a),c=n.vAxisID=r(l,o,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&oy(this._data,this),e._stacked&&hi(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(J(n)){const r=this._cachedMeta;this._data=fM(n,r)}else if(s!==n){if(s){oy(s,this);const r=this._cachedMeta;hi(r),r._parsed=[]}n&&Object.isExtensible(n)&&w2(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const i=n._stacked;n._stacked=lc(n.vScale,n),n.stack!==s.stack&&(r=!0,hi(n),n.stack=s.stack),this._resyncElements(e),(r||i!==n._stacked)&&(_y(this,n._parsed),n._stacked=lc(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:r}=this,{iScale:i,_stacked:o}=s,a=i.axis;let l=e===0&&n===r.length?!0:s._sorted,u=e>0&&s._parsed[e-1],c,h,d;if(this._parsing===!1)s._parsed=r,s._sorted=!0,d=r;else{Me(r[e])?d=this.parseArrayData(s,r,e,n):J(r[e])?d=this.parseObjectData(s,r,e,n):d=this.parsePrimitiveData(s,r,e,n);const f=()=>h[a]===null||u&&h[a]<u[a];for(c=0;c<n;++c)s._parsed[c+e]=h=d[c],l&&(f()&&(l=!1),u=h);s._sorted=l}o&&_y(this,d)}parsePrimitiveData(e,n,s,r){const{iScale:i,vScale:o}=e,a=i.axis,l=o.axis,u=i.getLabels(),c=i===o,h=new Array(r);let d,f,g;for(d=0,f=r;d<f;++d)g=d+s,h[d]={[a]:c||i.parse(u[g],g),[l]:o.parse(n[g],g)};return h}parseArrayData(e,n,s,r){const{xScale:i,yScale:o}=e,a=new Array(r);let l,u,c,h;for(l=0,u=r;l<u;++l)c=l+s,h=n[c],a[l]={x:i.parse(h[0],c),y:o.parse(h[1],c)};return a}parseObjectData(e,n,s,r){const{xScale:i,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(r);let c,h,d,f;for(c=0,h=r;c<h;++c)d=c+s,f=n[d],u[c]={x:i.parse(Us(f,a),d),y:o.parse(Us(f,l),d)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const r=this.chart,i=this._cachedMeta,o=n[e.axis],a={keys:t_(r,!0),values:n._stacks[e.axis]._visualValues};return xy(a,o,i.index,{mode:s})}updateRangeFromParsed(e,n,s,r){const i=s[n.axis];let o=i===null?NaN:i;const a=r&&s._stacks[n.axis];r&&a&&(r.values=a,o=xy(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const s=this._cachedMeta,r=s._parsed,i=s._sorted&&e===s.iScale,o=r.length,a=this._getOtherScale(e),l=wM(n,s,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:h}=gM(a);let d,f;function g(){f=r[d];const y=f[a.axis];return!Dt(f[e.axis])||c>y||h<y}for(d=0;d<o&&!(!g()&&(this.updateRangeFromParsed(u,e,f,l),i));++d);if(i){for(d=o-1;d>=0;--d)if(!g()){this.updateRangeFromParsed(u,e,f,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let r,i,o;for(r=0,i=n.length;r<i;++r)o=n[r][e.axis],Dt(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,r=n.vScale,i=this.getParsed(e);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=dM(G(this.options.clip,hM(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,r=s.data||[],i=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,u=this.options.drawActiveElementsOnTop;let c;for(s.dataset&&s.dataset.draw(e,i,a,l),c=a;c<a+l;++c){const h=r[c];h.hidden||(h.active&&u?o.push(h):h.draw(e,i))}for(c=0;c<o.length;++c)o[c].draw(e,i)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=vM(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=yM(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=s,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const r=n==="active",i=this._cachedDataOpts,o=e+"-"+n,a=i[o],l=this.enableOptionSharing&&So(s);if(a)return ky(a,l);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,e),h=r?[`${e}Hover`,"hover",e,""]:[e,""],d=u.getOptionScopes(this.getDataset(),c),f=Object.keys(ke.elements[e]),g=()=>this.getContext(s,r,n),y=u.resolveNamedOptions(d,f,g,h);return y.$shared&&(y.$shared=l,i[o]=Object.freeze(ky(y,l))),y}_resolveAnimations(e,n,s){const r=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,a=i[o];if(a)return a;let l;if(r.options.animation!==!1){const c=this.chart.config,h=c.datasetAnimationScopeKeys(this._type,n),d=c.getOptionScopes(this.getDataset(),h);l=c.createResolver(d,this.getContext(e,s,n))}const u=new e_(r,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||cc(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),r=this._sharedOptions,i=this.getSharedOptions(s),o=this.includeOptions(n,i)||i!==r;return this.updateSharedOptions(i,n,s),{sharedOptions:i,includeOptions:o}}updateElement(e,n,s,r){cc(r)?Object.assign(e,s):this._resolveAnimations(n,r).update(e,s)}updateSharedOptions(e,n,s){e&&!cc(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,r){e.active=r;const i=this.getStyle(n,r);this._resolveAnimations(n,s,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const r=s.length,i=n.length,o=Math.min(i,r);o&&this.parse(0,o),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,n,s=!0){const r=this._cachedMeta,i=r.data,o=e+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),s&&this.updateElements(i,e,n,"reset")}updateElements(e,n,s,r){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(e,n);s._stacked&&hi(s,r)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,r]=e;this[n](s,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}B(Nr,"defaults",{}),B(Nr,"datasetElementType",null),B(Nr,"dataElementType",null);function xM(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let r=0,i=n.length;r<i;r++)s=s.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=$b(s.sort((r,i)=>r-i))}return t._cache.$bar}function bM(t){const e=t.iScale,n=xM(e,t.type);let s=e._length,r,i,o,a;const l=()=>{o===32767||o===-32768||(So(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(r=0,i=n.length;r<i;++r)o=e.getPixelForValue(n[r]),l();for(a=void 0,r=0,i=e.ticks.length;r<i;++r)o=e.getPixelForTick(r),l();return s}function _M(t,e,n,s){const r=n.barThickness;let i,o;return se(r)?(i=e.min*n.categoryPercentage,o=n.barPercentage):(i=r*s,o=1),{chunk:i/s,ratio:o,start:e.pixels[t]-i/2}}function kM(t,e,n,s){const r=e.pixels,i=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;o===null&&(o=i-(a===null?e.end-e.start:a-i)),a===null&&(a=i+i-o);const u=i-(i-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/s,ratio:n.barPercentage,start:u}}function SM(t,e,n,s){const r=n.parse(t[0],s),i=n.parse(t[1],s),o=Math.min(r,i),a=Math.max(r,i);let l=o,u=a;Math.abs(o)>Math.abs(a)&&(l=a,u=o),e[n.axis]=u,e._custom={barStart:l,barEnd:u,start:r,end:i,min:o,max:a}}function n_(t,e,n,s){return Me(t)?SM(t,e,n,s):e[n.axis]=n.parse(t,s),e}function Sy(t,e,n,s){const r=t.iScale,i=t.vScale,o=r.getLabels(),a=r===i,l=[];let u,c,h,d;for(u=n,c=n+s;u<c;++u)d=e[u],h={},h[r.axis]=a||r.parse(o[u],u),l.push(n_(d,h,i,u));return l}function hc(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function TM(t,e,n){return t!==0?es(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function EM(t){let e,n,s,r,i;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(r="end",i="start"):(r="start",i="end"),{start:n,end:s,reverse:e,top:r,bottom:i}}function CM(t,e,n,s){let r=e.borderSkipped;const i={};if(!r){t.borderSkipped=i;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:u,bottom:c}=EM(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?r=u:(n._bottom||0)===s?r=c:(i[Ty(c,o,a,l)]=!0,r=u)),i[Ty(r,o,a,l)]=!0,t.borderSkipped=i}function Ty(t,e,n,s){return s?(t=PM(t,e,n),t=Ey(t,n,e)):t=Ey(t,e,n),t}function PM(t,e,n){return t===e?n:t===n?e:t}function Ey(t,e,n){return t==="start"?e:t==="end"?n:t}function AM(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Ua extends Nr{parsePrimitiveData(e,n,s,r){return Sy(e,n,s,r)}parseArrayData(e,n,s,r){return Sy(e,n,s,r)}parseObjectData(e,n,s,r){const{iScale:i,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=i.axis==="x"?a:l,c=o.axis==="x"?a:l,h=[];let d,f,g,y;for(d=s,f=s+r;d<f;++d)y=n[d],g={},g[i.axis]=i.parse(Us(y,u),d),h.push(n_(Us(y,c),g,o,d));return h}updateRangeFromParsed(e,n,s,r){super.updateRangeFromParsed(e,n,s,r);const i=s._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:r}=n,i=this.getParsed(e),o=i._custom,a=hc(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,r){const i=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),u=a.isHorizontal(),c=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,r);for(let f=n;f<n+s;f++){const g=this.getParsed(f),y=i||se(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),w=this._calculateBarIndexPixels(f,c),p=(g._stacks||{})[a.axis],m={horizontal:u,base:y.base,enableBorderRadius:!p||hc(g._custom)||o===p._top||o===p._bottom,x:u?y.head:w.center,y:u?w.center:y.head,height:u?w.size:Math.abs(y.size),width:u?Math.abs(y.size):w.size};d&&(m.options=h||this.resolveDataElementOptions(f,e[f].active?"active":r));const v=m.options||e[f].options;CM(m,v,p,o),AM(m,v,c.ratio),this.updateElement(e[f],f,m,r)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),i=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[s.axis],u=c=>{const h=c._parsed.find(f=>f[s.axis]===l),d=h&&h[c.vScale.axis];if(se(d)||isNaN(d))return!0};for(const c of r)if(!(n!==void 0&&u(c))&&((i===!1||o.indexOf(c.stack)===-1||i===void 0&&c.stack===void 0)&&o.push(c.stack),c.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[G(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){const r=this._getStacks(e,s),i=n!==void 0?r.indexOf(n):-1;return i===-1?r.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,r=[];let i,o;for(i=0,o=n.data.length;i<o;++i)r.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const a=e.barThickness;return{min:a||bM(n),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:r},options:{base:i,minBarLength:o}}=this,a=i||0,l=this.getParsed(e),u=l._custom,c=hc(u);let h=l[n.axis],d=0,f=s?this.applyStack(n,l,s):h,g,y;f!==h&&(d=f-h,f=h),c&&(h=u.barStart,f=u.barEnd-u.barStart,h!==0&&es(h)!==es(u.barEnd)&&(d=0),d+=h);const w=!se(i)&&!c?i:d;let p=n.getPixelForValue(w);if(this.chart.getDataVisibility(e)?g=n.getPixelForValue(d+f):g=p,y=g-p,Math.abs(y)<o){y=TM(y,n,a)*o,h===a&&(p-=y/2);const m=n.getPixelForDecimal(0),v=n.getPixelForDecimal(1),b=Math.min(m,v),_=Math.max(m,v);p=Math.max(Math.min(p,_),b),g=p+y,s&&!c&&(l._stacks[n.axis]._visualValues[r]=n.getValueForPixel(g)-n.getValueForPixel(p))}if(p===n.getPixelForValue(a)){const m=es(y)*n.getLineWidthForValue(a)/2;p+=m,y-=m}return{size:y,base:p,head:g,center:g+y/2}}_calculateBarIndexPixels(e,n){const s=n.scale,r=this.options,i=r.skipNull,o=G(r.maxBarThickness,1/0);let a,l;const u=this._getAxisCount();if(n.grouped){const c=i?this._getStackCount(e):n.stackCount,h=r.barThickness==="flex"?kM(e,n,r,c*u):_M(e,n,r,c*u),d=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(G(d,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+f;a=h.start+h.chunk*g+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=s.getPixelForValue(this.getParsed(e)[s.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,r=s.length;let i=0;for(;i<r;++i)this.getParsed(i)[n.axis]!==null&&!s[i].hidden&&s[i].draw(this._ctx)}}B(Ua,"id","bar"),B(Ua,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),B(Ua,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function RM(t,e,n){let s=1,r=1,i=0,o=0;if(e<Ce){const a=t,l=a+e,u=Math.cos(a),c=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(v,b,_)=>Al(v,a,l,!0)?1:Math.max(b,b*n,_,_*n),g=(v,b,_)=>Al(v,a,l,!0)?-1:Math.min(b,b*n,_,_*n),y=f(0,u,h),w=f(De,c,d),p=g(ne,u,h),m=g(ne+De,c,d);s=(y-p)/2,r=(w-m)/2,i=-(y+p)/2,o=-(w+m)/2}return{ratioX:s,ratioY:r,offsetX:i,offsetY:o}}class ki extends Nr{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=s;else{let i=l=>+s[l];if(J(s[e])){const{key:l="value"}=this._parsing;i=u=>+Us(s[u],l)}let o,a;for(o=e,a=e+n;o<a;++o)r._parsed[o]=i(o)}}_getRotation(){return xn(this.options.rotation-90)}_getCircumference(){return xn(this.options.circumference)}_getRotationExtents(){let e=Ce,n=-Ce;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const r=this.chart.getDatasetMeta(s).controller,i=r._getRotation(),o=r._getCircumference();e=Math.min(e,i),n=Math.max(n,i+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,r=this._cachedMeta,i=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),l=Math.min(s2(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:c,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:g,offsetY:y}=RM(h,c,l),w=(s.width-o)/d,p=(s.height-o)/f,m=Math.max(Math.min(w,p)/2,0),v=Db(this.options.radius,m),b=Math.max(v*l,0),_=(v-b)/this._getVisibleDatasetWeightTotal();this.offsetX=g*v,this.offsetY=y*v,r.total=this.calculateTotal(),this.outerRadius=v-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const s=this.options,r=this._cachedMeta,i=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/Ce)}updateElements(e,n,s,r){const i=r==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,c=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=i&&u.animateScale,f=d?0:this.innerRadius,g=d?0:this.outerRadius,{sharedOptions:y,includeOptions:w}=this._getSharedOptions(n,r);let p=this._getRotation(),m;for(m=0;m<n;++m)p+=this._circumference(m,i);for(m=n;m<n+s;++m){const v=this._circumference(m,i),b=e[m],_={x:c+this.offsetX,y:h+this.offsetY,startAngle:p,endAngle:p+v,circumference:v,outerRadius:g,innerRadius:f};w&&(_.options=y||this.resolveDataElementOptions(m,b.active?"active":r)),p+=v,this.updateElement(b,m,_,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,r;for(r=0;r<n.length;r++){const i=e._parsed[r];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(s+=Math.abs(i))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Ce*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,r=s.data.labels||[],i=Bf(n._parsed[e],s.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const s=this.chart;let r,i,o,a,l;if(!e){for(r=0,i=s.data.datasets.length;r<i;++r)if(s.isDatasetVisible(r)){o=s.getDatasetMeta(r),e=o.data,a=o.controller;break}}if(!e)return 0;for(r=0,i=e.length;r<i;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,r=e.length;s<r;++s){const i=this.resolveDataElementOptions(s);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(G(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}B(ki,"id","doughnut"),B(ki,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),B(ki,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),B(ki,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:s,textAlign:r,color:i,useBorderRadius:o,borderRadius:a}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((l,u)=>{const h=e.getDatasetMeta(0).controller.getStyle(u);return{text:l,fillStyle:h.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(u),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:r,pointStyle:s,borderRadius:o&&(a||h.borderRadius),index:u}}):[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});function ms(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Xf{constructor(e){B(this,"options");this.options=e||{}}static override(e){Object.assign(Xf.prototype,e)}init(){}formats(){return ms()}parse(){return ms()}format(){return ms()}add(){return ms()}diff(){return ms()}startOf(){return ms()}endOf(){return ms()}}var OM={_date:Xf};function jM(t,e,n,s){const{controller:r,data:i,_sorted:o}=t,a=r._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&i.length){const u=a._reversePixels?y2:Yh;if(s){if(r._sharedOptions){const c=i[0],h=typeof c.getRange=="function"&&c.getRange(e);if(h){const d=u(i,e,n-h),f=u(i,e,n+h);return{lo:d.lo,hi:f.hi}}}}else{const c=u(i,e,n);if(l){const{vScale:h}=r._cachedMeta,{_parsed:d}=t,f=d.slice(0,c.lo+1).reverse().findIndex(y=>!se(y[h.axis]));c.lo-=Math.max(0,f);const g=d.slice(c.hi).findIndex(y=>!se(y[h.axis]));c.hi+=Math.max(0,g)}return c}}return{lo:0,hi:i.length-1}}function ou(t,e,n,s,r){const i=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=i.length;a<l;++a){const{index:u,data:c}=i[a],{lo:h,hi:d}=jM(i[a],e,o,r);for(let f=h;f<=d;++f){const g=c[f];g.skip||s(g,u,f)}}}function MM(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,r){const i=e?Math.abs(s.x-r.x):0,o=n?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function dc(t,e,n,s,r){const i=[];return!r&&!t.isPointInArea(e)||ou(t,n,e,function(a,l,u){!r&&!Kb(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&i.push({element:a,datasetIndex:l,index:u})},!0),i}function IM(t,e,n,s){let r=[];function i(o,a,l){const{startAngle:u,endAngle:c}=o.getProps(["startAngle","endAngle"],s),{angle:h}=Fb(o,{x:e.x,y:e.y});Al(h,u,c)&&r.push({element:o,datasetIndex:a,index:l})}return ou(t,n,e,i),r}function DM(t,e,n,s,r,i){let o=[];const a=MM(n);let l=Number.POSITIVE_INFINITY;function u(c,h,d){const f=c.inRange(e.x,e.y,r);if(s&&!f)return;const g=c.getCenterPoint(r);if(!(!!i||t.isPointInArea(g))&&!f)return;const w=a(e,g);w<l?(o=[{element:c,datasetIndex:h,index:d}],l=w):w===l&&o.push({element:c,datasetIndex:h,index:d})}return ou(t,n,e,u),o}function fc(t,e,n,s,r,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!s?IM(t,e,n,r):DM(t,e,n,s,r,i)}function Cy(t,e,n,s,r){const i=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return ou(t,n,e,(l,u,c)=>{l[o]&&l[o](e[n],r)&&(i.push({element:l,datasetIndex:u,index:c}),a=a||l.inRange(e.x,e.y,r))}),s&&!a?[]:i}var NM={modes:{index(t,e,n,s){const r=bs(e,t),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?dc(t,r,i,s,o):fc(t,r,i,!1,s,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const c=a[0].index,h=u.data[c];h&&!h.skip&&l.push({element:h,datasetIndex:u.index,index:c})}),l):[]},dataset(t,e,n,s){const r=bs(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?dc(t,r,i,s,o):fc(t,r,i,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,u=t.getDatasetMeta(l).data;a=[];for(let c=0;c<u.length;++c)a.push({element:u[c],datasetIndex:l,index:c})}return a},point(t,e,n,s){const r=bs(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return dc(t,r,i,s,o)},nearest(t,e,n,s){const r=bs(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return fc(t,r,i,n.intersect,s,o)},x(t,e,n,s){const r=bs(e,t);return Cy(t,r,"x",n.intersect,s)},y(t,e,n,s){const r=bs(e,t);return Cy(t,r,"y",n.intersect,s)}}};const s_=["left","top","right","bottom"];function di(t,e){return t.filter(n=>n.pos===e)}function Py(t,e){return t.filter(n=>s_.indexOf(n.pos)===-1&&n.box.axis===e)}function fi(t,e){return t.sort((n,s)=>{const r=e?s:n,i=e?n:s;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function LM(t){const e=[];let n,s,r,i,o,a;for(n=0,s=(t||[]).length;n<s;++n)r=t[n],{position:i,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&i+o,stackWeight:a});return e}function FM(t){const e={};for(const n of t){const{stack:s,pos:r,stackWeight:i}=n;if(!s||!s_.includes(r))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function VM(t,e){const n=FM(t),{vBoxMaxWidth:s,hBoxMaxHeight:r}=e;let i,o,a;for(i=0,o=t.length;i<o;++i){a=t[i];const{fullSize:l}=a.box,u=n[a.stack],c=u&&a.stackWeight/u.weight;a.horizontal?(a.width=c?c*s:l&&e.availableWidth,a.height=r):(a.width=s,a.height=c?c*r:l&&e.availableHeight)}return n}function $M(t){const e=LM(t),n=fi(e.filter(u=>u.box.fullSize),!0),s=fi(di(e,"left"),!0),r=fi(di(e,"right")),i=fi(di(e,"top"),!0),o=fi(di(e,"bottom")),a=Py(e,"x"),l=Py(e,"y");return{fullSize:n,leftAndTop:s.concat(i),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:di(e,"chartArea"),vertical:s.concat(r).concat(l),horizontal:i.concat(o).concat(a)}}function Ay(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function r_(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function BM(t,e,n,s){const{pos:r,box:i}=n,o=t.maxPadding;if(!J(r)){n.size&&(t[r]-=n.size);const h=s[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?i.height:i.width),n.size=h.size/h.count,t[r]+=n.size}i.getPadding&&r_(o,i.getPadding());const a=Math.max(0,e.outerWidth-Ay(o,t,"left","right")),l=Math.max(0,e.outerHeight-Ay(o,t,"top","bottom")),u=a!==t.w,c=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:u,other:c}:{same:c,other:u}}function UM(t){const e=t.maxPadding;function n(s){const r=Math.max(e[s]-t[s],0);return t[s]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function zM(t,e){const n=e.maxPadding;function s(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{i[o]=Math.max(e[o],n[o])}),i}return s(t?["left","right"]:["top","bottom"])}function Si(t,e,n,s){const r=[];let i,o,a,l,u,c;for(i=0,o=t.length,u=0;i<o;++i){a=t[i],l=a.box,l.update(a.width||e.w,a.height||e.h,zM(a.horizontal,e));const{same:h,other:d}=BM(e,n,a,s);u|=h&&r.length,c=c||d,l.fullSize||r.push(a)}return u&&Si(r,e,n,s)||c}function va(t,e,n,s,r){t.top=n,t.left=e,t.right=e+s,t.bottom=n+r,t.width=s,t.height=r}function Ry(t,e,n,s){const r=n.padding;let{x:i,y:o}=e;for(const a of t){const l=a.box,u=s[a.stack]||{placed:0,weight:1},c=a.stackWeight/u.weight||1;if(a.horizontal){const h=e.w*c,d=u.size||l.height;So(u.start)&&(o=u.start),l.fullSize?va(l,r.left,o,n.outerWidth-r.right-r.left,d):va(l,e.left+u.placed,o,h,d),u.start=o,u.placed+=h,o=l.bottom}else{const h=e.h*c,d=u.size||l.width;So(u.start)&&(i=u.start),l.fullSize?va(l,i,r.top,d,n.outerHeight-r.bottom-r.top):va(l,i,e.top+u.placed,d,h),u.start=i,u.placed+=h,i=l.right}}e.x=i,e.y=o}var Rt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const r=Nt(t.options.layout.padding),i=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=$M(t.boxes),l=a.vertical,u=a.horizontal;ee(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const c=l.reduce((y,w)=>w.box.options&&w.box.options.display===!1?y:y+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/c,hBoxMaxHeight:o/2}),d=Object.assign({},r);r_(d,Nt(s));const f=Object.assign({maxPadding:d,w:i,h:o,x:r.left,y:r.top},r),g=VM(l.concat(u),h);Si(a.fullSize,f,h,g),Si(l,f,h,g),Si(u,f,h,g)&&Si(l,f,h,g),UM(f),Ry(a.leftAndTop,f,h,g),f.x+=f.w,f.y+=f.h,Ry(a.rightAndBottom,f,h,g),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},ee(a.chartArea,y=>{const w=y.box;Object.assign(w,t.chartArea),w.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class i_{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,r){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):s)}}isAttached(e){return!0}updateConfig(e){}}class WM extends i_{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const za="$chartjs",HM={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Oy=t=>t===null||t==="";function KM(t,e){const n=t.style,s=t.getAttribute("height"),r=t.getAttribute("width");if(t[za]={initial:{height:s,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Oy(r)){const i=yy(t,"width");i!==void 0&&(t.width=i)}if(Oy(s))if(t.style.height==="")t.height=t.width/(e||2);else{const i=yy(t,"height");i!==void 0&&(t.height=i)}return t}const o_=tM?{passive:!0}:!1;function qM(t,e,n){t&&t.addEventListener(e,n,o_)}function YM(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,o_)}function GM(t,e){const n=HM[t.type]||t.type,{x:s,y:r}=bs(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:r!==void 0?r:null}}function jl(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function XM(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||jl(a.addedNodes,s),o=o&&!jl(a.removedNodes,s);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function JM(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||jl(a.removedNodes,s),o=o&&!jl(a.addedNodes,s);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Eo=new Map;let jy=0;function a_(){const t=window.devicePixelRatio;t!==jy&&(jy=t,Eo.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function QM(t,e){Eo.size||window.addEventListener("resize",a_),Eo.set(t,e)}function ZM(t){Eo.delete(t),Eo.size||window.removeEventListener("resize",a_)}function eI(t,e,n){const s=t.canvas,r=s&&Gf(s);if(!r)return;const i=Ub((a,l)=>{const u=r.clientWidth;n(a,l),u<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||i(u,c)});return o.observe(r),QM(t,i),o}function pc(t,e,n){n&&n.disconnect(),e==="resize"&&ZM(t)}function tI(t,e,n){const s=t.canvas,r=Ub(i=>{t.ctx!==null&&n(GM(i,t))},t);return qM(s,e,r),r}class nI extends i_{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(KM(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[za])return!1;const s=n[za].initial;["height","width"].forEach(i=>{const o=s[i];se(o)?n.removeAttribute(i):n.setAttribute(i,o)});const r=s.style||{};return Object.keys(r).forEach(i=>{n.style[i]=r[i]}),n.width=n.width,delete n[za],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:XM,detach:JM,resize:eI}[n]||tI;r[n]=o(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),r=s[n];if(!r)return;({attach:pc,detach:pc,resize:pc}[n]||YM)(e,n,r),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,r){return eM(e,n,s,r)}isAttached(e){const n=e&&Gf(e);return!!(n&&n.isConnected)}}function sI(t){return!Yf()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?WM:nI}var Sa;let Ks=(Sa=class{constructor(){B(this,"x");B(this,"y");B(this,"active",!1);B(this,"options");B(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return Pl(this.x)&&Pl(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const r={};return e.forEach(i=>{r[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),r}},B(Sa,"defaults",{}),B(Sa,"defaultRoutes"),Sa);function rI(t,e){const n=t.options.ticks,s=iI(t),r=Math.min(n.maxTicksLimit||s,s),i=n.major.enabled?aI(e):[],o=i.length,a=i[0],l=i[o-1],u=[];if(o>r)return lI(e,u,i,o/r),u;const c=oI(i,e,r);if(o>0){let h,d;const f=o>1?Math.round((l-a)/(o-1)):null;for(wa(e,u,c,se(f)?0:a-f,a),h=0,d=o-1;h<d;h++)wa(e,u,c,i[h],i[h+1]);return wa(e,u,c,l,se(f)?e.length:l+f),u}return wa(e,u,c),u}function iI(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(s,r))}function oI(t,e,n){const s=uI(t),r=e.length/n;if(!s)return Math.max(r,1);const i=c2(s);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>r)return l}return Math.max(r,1)}function aI(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function lI(t,e,n,s){let r=0,i=n[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===i&&(e.push(t[o]),r++,i=n[r*s])}function wa(t,e,n,s,r){const i=G(s,0),o=Math.min(G(r,t.length),t.length);let a=0,l,u,c;for(n=Math.ceil(n),r&&(l=r-s,n=l/Math.floor(l/n)),c=i;c<0;)a++,c=Math.round(i+a*n);for(u=Math.max(i,0);u<o;u++)u===c&&(e.push(t[u]),a++,c=Math.round(i+a*n))}function uI(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const cI=t=>t==="left"?"right":t==="right"?"left":t,My=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Iy=(t,e)=>Math.min(e||t,t);function Dy(t,e){const n=[],s=t.length/e,r=t.length;let i=0;for(;i<r;i+=s)n.push(t[Math.floor(i)]);return n}function hI(t,e,n){const s=t.ticks.length,r=Math.min(e,s-1),i=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(r),u;if(!(n&&(s===1?u=Math.max(l-i,o-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(r-1))/2,l+=r<e?u:-u,l<i-a||l>o+a)))return l}function dI(t,e){ee(t,n=>{const s=n.gc,r=s.length/2;let i;if(r>e){for(i=0;i<r;++i)delete n.data[s[i]];s.splice(0,r)}})}function pi(t){return t.drawTicks?t.tickLength:0}function Ny(t,e){if(!t.display)return 0;const n=Qe(t.font,e),s=Nt(t.padding);return(Me(t.text)?t.text.length:1)*n.lineHeight+s.height}function fI(t,e){return ei(t,{scale:e,type:"scale"})}function pI(t,e,n){return ei(t,{tick:n,index:e,type:"tick"})}function gI(t,e,n){let s=$f(t);return(n&&e!=="right"||!n&&e==="right")&&(s=cI(s)),s}function mI(t,e,n,s){const{top:r,left:i,bottom:o,right:a,chart:l}=t,{chartArea:u,scales:c}=l;let h=0,d,f,g;const y=o-r,w=a-i;if(t.isHorizontal()){if(f=Ge(s,i,a),J(n)){const p=Object.keys(n)[0],m=n[p];g=c[p].getPixelForValue(m)+y-e}else n==="center"?g=(u.bottom+u.top)/2+y-e:g=My(t,n,e);d=a-i}else{if(J(n)){const p=Object.keys(n)[0],m=n[p];f=c[p].getPixelForValue(m)-w+e}else n==="center"?f=(u.left+u.right)/2-w+e:f=My(t,n,e);g=Ge(s,o,r),h=n==="left"?-De:De}return{titleX:f,titleY:g,maxWidth:d,rotation:h}}class ti extends Ks{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:r}=this;return e=en(e,Number.POSITIVE_INFINITY),n=en(n,Number.NEGATIVE_INFINITY),s=en(s,Number.POSITIVE_INFINITY),r=en(r,Number.NEGATIVE_INFINITY),{min:en(e,s),max:en(n,r),minDefined:Dt(e),maxDefined:Dt(n)}}getMinMax(e){let{min:n,max:s,minDefined:r,maxDefined:i}=this.getUserBounds(),o;if(r&&i)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),i||(s=Math.max(s,o.max));return n=i&&n>s?s:n,s=r&&n>s?n:s,{min:en(n,en(s,n)),max:en(s,en(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ae(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:r,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=V2(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Dy(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=rI(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ae(this.options.afterUpdate,[this])}beforeSetDimensions(){ae(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ae(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ae(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ae(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,r,i;for(s=0,r=e.length;s<r;s++)i=e[s],i.label=ae(n.callback,[i.value,s,e],this)}afterTickToLabelConversion(){ae(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ae(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=Iy(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,i=n.maxRotation;let o=r,a,l,u;if(!this._isVisible()||!n.display||r>=i||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const c=this._getLabelSizes(),h=c.widest.width,d=c.highest.height,f=ct(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/s:f/(s-1),h+6>a&&(a=f/(s-(e.offset?.5:1)),l=this.maxHeight-pi(e.grid)-n.padding-Ny(e.title,this.chart.options.font),u=Math.sqrt(h*h+d*d),o=p2(Math.min(Math.asin(ct((c.highest.height+6)/a,-1,1)),Math.asin(ct(l/u,-1,1))-Math.asin(ct(d/u,-1,1)))),o=Math.max(r,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){ae(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ae(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:r,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Ny(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=pi(i)+l):(e.height=this.maxHeight,e.width=pi(i)+l),s.display&&this.ticks.length){const{first:u,last:c,widest:h,highest:d}=this._getLabelSizes(),f=s.padding*2,g=xn(this.labelRotation),y=Math.cos(g),w=Math.sin(g);if(a){const p=s.mirror?0:w*h.width+y*d.height;e.height=Math.min(this.maxHeight,e.height+p+f)}else{const p=s.mirror?0:y*h.width+w*d.height;e.width=Math.min(this.maxWidth,e.width+p+f)}this._calculatePadding(u,c,w,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,r){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?u?(d=r*e.width,f=s*n.height):(d=s*e.height,f=r*n.width):i==="start"?f=n.width:i==="end"?d=e.width:i!=="inner"&&(d=e.width/2,f=n.width/2),this.paddingLeft=Math.max((d-c+o)*this.width/(this.width-c),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let c=n.height/2,h=e.height/2;i==="start"?(c=0,h=e.height):i==="end"&&(c=n.height,h=0),this.paddingTop=c+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ae(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)se(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=Dy(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:r,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(n/Iy(n,s));let u=0,c=0,h,d,f,g,y,w,p,m,v,b,_;for(h=0;h<n;h+=l){if(g=e[h].label,y=this._resolveTickFontOptions(h),r.font=w=y.string,p=i[w]=i[w]||{data:{},gc:[]},m=y.lineHeight,v=b=0,!se(g)&&!Me(g))v=hy(r,p.data,p.gc,v,g),b=m;else if(Me(g))for(d=0,f=g.length;d<f;++d)_=g[d],!se(_)&&!Me(_)&&(v=hy(r,p.data,p.gc,v,_),b+=m);o.push(v),a.push(b),u=Math.max(v,u),c=Math.max(b,c)}dI(i,n);const S=o.indexOf(u),k=a.indexOf(c),E=P=>({width:o[P]||0,height:a[P]||0});return{first:E(0),last:E(n-1),widest:E(S),highest:E(k),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return m2(this._alignToPixels?gs(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=pI(this.getContext(),e,s))}return this.$context||(this.$context=fI(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=xn(this.labelRotation),s=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*s>a*r?a/s:l/r:l*r<a*s?l/s:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,r=this.options,{grid:i,position:o,border:a}=r,l=i.offset,u=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=pi(i),f=[],g=a.setContext(this.getContext()),y=g.display?g.width:0,w=y/2,p=function(Y){return gs(s,Y,y)};let m,v,b,_,S,k,E,P,C,j,L,W;if(o==="top")m=p(this.bottom),k=this.bottom-d,P=m-w,j=p(e.top)+w,W=e.bottom;else if(o==="bottom")m=p(this.top),j=e.top,W=p(e.bottom)-w,k=m+w,P=this.top+d;else if(o==="left")m=p(this.right),S=this.right-d,E=m-w,C=p(e.left)+w,L=e.right;else if(o==="right")m=p(this.left),C=e.left,L=p(e.right)-w,S=m+w,E=this.left+d;else if(n==="x"){if(o==="center")m=p((e.top+e.bottom)/2+.5);else if(J(o)){const Y=Object.keys(o)[0],$=o[Y];m=p(this.chart.scales[Y].getPixelForValue($))}j=e.top,W=e.bottom,k=m+w,P=k+d}else if(n==="y"){if(o==="center")m=p((e.left+e.right)/2);else if(J(o)){const Y=Object.keys(o)[0],$=o[Y];m=p(this.chart.scales[Y].getPixelForValue($))}S=m-w,E=S-d,C=e.left,L=e.right}const H=G(r.ticks.maxTicksLimit,h),z=Math.max(1,Math.ceil(h/H));for(v=0;v<h;v+=z){const Y=this.getContext(v),$=i.setContext(Y),A=a.setContext(Y),M=$.lineWidth,N=$.color,Q=A.dash||[],Z=A.dashOffset,kt=$.tickWidth,be=$.tickColor,Ft=$.tickBorderDash||[],Ke=$.tickBorderDashOffset;b=hI(this,v,l),b!==void 0&&(_=gs(s,b,M),u?S=E=C=L=_:k=P=j=W=_,f.push({tx1:S,ty1:k,tx2:E,ty2:P,x1:C,y1:j,x2:L,y2:W,width:M,color:N,borderDash:Q,borderDashOffset:Z,tickWidth:kt,tickColor:be,tickBorderDash:Ft,tickBorderDashOffset:Ke}))}return this._ticksLength=h,this._borderValue=m,f}_computeLabelItems(e){const n=this.axis,s=this.options,{position:r,ticks:i}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:c,mirror:h}=i,d=pi(s.grid),f=d+c,g=h?-c:f,y=-xn(this.labelRotation),w=[];let p,m,v,b,_,S,k,E,P,C,j,L,W="middle";if(r==="top")S=this.bottom-g,k=this._getXAxisLabelAlignment();else if(r==="bottom")S=this.top+g,k=this._getXAxisLabelAlignment();else if(r==="left"){const z=this._getYAxisLabelAlignment(d);k=z.textAlign,_=z.x}else if(r==="right"){const z=this._getYAxisLabelAlignment(d);k=z.textAlign,_=z.x}else if(n==="x"){if(r==="center")S=(e.top+e.bottom)/2+f;else if(J(r)){const z=Object.keys(r)[0],Y=r[z];S=this.chart.scales[z].getPixelForValue(Y)+f}k=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")_=(e.left+e.right)/2-f;else if(J(r)){const z=Object.keys(r)[0],Y=r[z];_=this.chart.scales[z].getPixelForValue(Y)}k=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?W="top":l==="end"&&(W="bottom"));const H=this._getLabelSizes();for(p=0,m=a.length;p<m;++p){v=a[p],b=v.label;const z=i.setContext(this.getContext(p));E=this.getPixelForTick(p)+i.labelOffset,P=this._resolveTickFontOptions(p),C=P.lineHeight,j=Me(b)?b.length:1;const Y=j/2,$=z.color,A=z.textStrokeColor,M=z.textStrokeWidth;let N=k;o?(_=E,k==="inner"&&(p===m-1?N=this.options.reverse?"left":"right":p===0?N=this.options.reverse?"right":"left":N="center"),r==="top"?u==="near"||y!==0?L=-j*C+C/2:u==="center"?L=-H.highest.height/2-Y*C+C:L=-H.highest.height+C/2:u==="near"||y!==0?L=C/2:u==="center"?L=H.highest.height/2-Y*C:L=H.highest.height-j*C,h&&(L*=-1),y!==0&&!z.showLabelBackdrop&&(_+=C/2*Math.sin(y))):(S=E,L=(1-j)*C/2);let Q;if(z.showLabelBackdrop){const Z=Nt(z.backdropPadding),kt=H.heights[p],be=H.widths[p];let Ft=L-Z.top,Ke=0-Z.left;switch(W){case"middle":Ft-=kt/2;break;case"bottom":Ft-=kt;break}switch(k){case"center":Ke-=be/2;break;case"right":Ke-=be;break;case"inner":p===m-1?Ke-=be:p>0&&(Ke-=be/2);break}Q={left:Ke,top:Ft,width:be+Z.width,height:kt+Z.height,color:z.backdropColor}}w.push({label:b,font:P,textOffset:L,options:{rotation:y,color:$,strokeColor:A,strokeWidth:M,textAlign:N,textBaseline:W,translation:[_,S],backdrop:Q}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-xn(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:r,padding:i}}=this.options,o=this._getLabelSizes(),a=e+i,l=o.widest.width;let u,c;return n==="left"?r?(c=this.right+i,s==="near"?u="left":s==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-a,s==="near"?u="right":s==="center"?(u="center",c-=l/2):(u="left",c=this.left)):n==="right"?r?(c=this.left+i,s==="near"?u="right":s==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+a,s==="near"?u="left":s==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:r,width:i,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,r,i,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(i=>i.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(l,u,c)=>{!c.width||!c.color||(s.save(),s.lineWidth=c.width,s.strokeStyle=c.color,s.setLineDash(c.borderDash||[]),s.lineDashOffset=c.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(u.x,u.y),s.stroke(),s.restore())};if(n.display)for(i=0,o=r.length;i<o;++i){const l=r[i];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:r}}=this,i=s.setContext(this.getContext()),o=s.display?i.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,c,h,d;this.isHorizontal()?(u=gs(e,this.left,o)-o/2,c=gs(e,this.right,a)+a/2,h=d=l):(h=gs(e,this.top,o)-o/2,d=gs(e,this.bottom,a)+a/2,u=c=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,h),n.lineTo(c,d),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&Uf(s,r);const i=this.getLabelItems(e);for(const o of i){const a=o.options,l=o.font,u=o.label,c=o.textOffset;To(s,u,0,c,l,a)}r&&zf(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:r}}=this;if(!s.display)return;const i=Qe(s.font),o=Nt(s.padding),a=s.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||J(n)?(l+=o.bottom,Me(s.text)&&(l+=i.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:u,titleY:c,maxWidth:h,rotation:d}=mI(this,l,n,a);To(e,s.text,0,0,i,{color:s.color,maxWidth:h,rotation:d,textAlign:gI(a,n,r),textBaseline:"middle",translation:[u,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=G(e.grid&&e.grid.z,-1),r=G(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ti.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];a[s]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Qe(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class xa{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;wI(n)&&(s=this.register(n));const r=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,yI(e,o,s),this.override&&ke.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,r=this.scope;s in n&&delete n[s],r&&s in ke[r]&&(delete ke[r][s],this.override&&delete zs[s])}}function yI(t,e,n){const s=ko(Object.create(null),[n?ke.get(n):{},ke.get(e),t.defaults]);ke.set(e,s),t.defaultRoutes&&vI(e,t.defaultRoutes),t.descriptors&&ke.describe(e,t.descriptors)}function vI(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),r=s.pop(),i=[t].concat(s).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");ke.route(i,r,l,a)})}function wI(t){return"id"in t&&"defaults"in t}class xI{constructor(){this.controllers=new xa(Nr,"datasets",!0),this.elements=new xa(Ks,"elements"),this.plugins=new xa(Object,"plugins"),this.scales=new xa(ti,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(r=>{const i=s||this._getRegistryForType(r);s||i.isForType(r)||i===this.plugins&&r.id?this._exec(e,i,r):ee(r,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,s){const r=Ff(e);ae(s["before"+r],[],s),n[e](s),ae(s["after"+r],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return r}}var sn=new xI;class bI{constructor(){this._init=void 0}notify(e,n,s,r){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(i,e,n,s);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,n,s,r){r=r||{};for(const i of e){const o=i.plugin,a=o[s],l=[n,r,i.options];if(ae(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){se(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,r=G(s.options&&s.options.plugins,{}),i=_I(s);return r===!1&&!n?[]:SI(e,i,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,r=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,s),e,"stop"),this._notify(r(s,n),e,"start")}}function _I(t){const e={},n=[],s=Object.keys(sn.plugins.items);for(let i=0;i<s.length;i++)n.push(sn.getPlugin(s[i]));const r=t.plugins||[];for(let i=0;i<r.length;i++){const o=r[i];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function kI(t,e){return!e&&t===!1?null:t===!0?{}:t}function SI(t,{plugins:e,localIds:n},s,r){const i=[],o=t.getContext();for(const a of e){const l=a.id,u=kI(s[l],r);u!==null&&i.push({plugin:a,options:TI(t.config,{plugin:a,local:n[l]},u,o)})}return i}function TI(t,{plugin:e,local:n},s,r){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(s,i);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Xh(t,e){const n=ke.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function EI(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function CI(t,e){return t===e?"_index_":"_value_"}function Ly(t){if(t==="x"||t==="y"||t==="r")return t}function PI(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Jh(t,...e){if(Ly(t))return t;for(const n of e){const s=n.axis||PI(n.position)||t.length>1&&Ly(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Fy(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function AI(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return Fy(t,"x",n[0])||Fy(t,"y",n[0])}return{}}function RI(t,e){const n=zs[t.type]||{scales:{}},s=e.scales||{},r=Xh(t.type,e),i=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!J(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Jh(o,a,AI(o,t),ke.scales[a.type]),u=CI(l,r),c=n.scales||{};i[o]=Ui(Object.create(null),[{axis:l},a,c[l],c[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Xh(a,e),c=(zs[a]||{}).scales||{};Object.keys(c).forEach(h=>{const d=EI(h,l),f=o[d+"AxisID"]||d;i[f]=i[f]||Object.create(null),Ui(i[f],[{axis:d},s[f],c[h]])})}),Object.keys(i).forEach(o=>{const a=i[o];Ui(a,[ke.scales[a.type],ke.scale])}),i}function l_(t){const e=t.options||(t.options={});e.plugins=G(e.plugins,{}),e.scales=RI(t,e)}function u_(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function OI(t){return t=t||{},t.data=u_(t.data),l_(t),t}const Vy=new Map,c_=new Set;function ba(t,e){let n=Vy.get(t);return n||(n=e(),Vy.set(t,n),c_.add(n)),n}const gi=(t,e,n)=>{const s=Us(e,n);s!==void 0&&t.add(s)};class jI{constructor(e){this._config=OI(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=u_(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),l_(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ba(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return ba(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return ba(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return ba(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let r=s.get(e);return(!r||n)&&(r=new Map,s.set(e,r)),r}getOptionScopes(e,n,s){const{options:r,type:i}=this,o=this._cachedScopes(e,s),a=o.get(n);if(a)return a;const l=new Set;n.forEach(c=>{e&&(l.add(e),c.forEach(h=>gi(l,e,h))),c.forEach(h=>gi(l,r,h)),c.forEach(h=>gi(l,zs[i]||{},h)),c.forEach(h=>gi(l,ke,h)),c.forEach(h=>gi(l,Gh,h))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),c_.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,zs[n]||{},ke.datasets[n]||{},{type:n},ke,Gh]}resolveNamedOptions(e,n,s,r=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=$y(this._resolverCache,e,r);let l=o;if(II(o,n)){i.$shared=!1,s=is(s)?s():s;const u=this.createResolver(e,s,a);l=Kr(o,s,u)}for(const u of n)i[u]=l[u];return i}createResolver(e,n,s=[""],r){const{resolver:i}=$y(this._resolverCache,e,s);return J(n)?Kr(i,n,void 0,r):i}}function $y(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const r=n.join();let i=s.get(r);return i||(i={resolver:Hf(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(r,i)),i}const MI=t=>J(t)&&Object.getOwnPropertyNames(t).some(e=>is(t[e]));function II(t,e){const{isScriptable:n,isIndexable:s}=Yb(t);for(const r of e){const i=n(r),o=s(r),a=(o||i)&&t[r];if(i&&(is(a)||MI(a))||o&&Me(a))return!0}return!1}var DI="4.5.1";const NI=["top","bottom","left","right","chartArea"];function By(t,e){return t==="top"||t==="bottom"||NI.indexOf(t)===-1&&e==="x"}function Uy(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function zy(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ae(n&&n.onComplete,[t],e)}function LI(t){const e=t.chart,n=e.options.animation;ae(n&&n.onProgress,[t],e)}function h_(t){return Yf()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Wa={},Wy=t=>{const e=h_(t);return Object.values(Wa).filter(n=>n.canvas===e).pop()};function FI(t,e,n){const s=Object.keys(t);for(const r of s){const i=+r;if(i>=e){const o=t[r];delete t[r],(n>0||i>e)&&(t[i+n]=o)}}}function VI(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}var On;let Bo=(On=class{static register(...e){sn.add(...e),Hy()}static unregister(...e){sn.remove(...e),Hy()}constructor(e,n){const s=this.config=new jI(n),r=h_(e),i=Wy(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||sI(r)),this.platform.updateConfig(s);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,c=l&&l.width;if(this.id=n2(),this.ctx=a,this.canvas=l,this.width=c,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new bI,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=x2(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Wa[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}dn.listen(this,"complete",zy),dn.listen(this,"progress",LI),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:r,_aspectRatio:i}=this;return se(e)?n&&i?i:r?s/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return sn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():my(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return dy(this.canvas,this.ctx),this}stop(){return dn.stop(this),this}resize(e,n){dn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,r=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,i),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,my(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),ae(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ee(n,(s,r)=>{s.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,r=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const a=n[o],l=Jh(o,a),u=l==="r",c=l==="x";return{options:a,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),ee(i,o=>{const a=o.options,l=a.id,u=Jh(l,a),c=G(a.type,o.dtype);(a.position===void 0||By(a.position,u)!==By(o.dposition))&&(a.position=o.dposition),r[l]=!0;let h=null;if(l in s&&s[l].type===c)h=s[l];else{const d=sn.getScale(c);h=new d({id:l,type:c,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(a,e)}),ee(r,(o,a)=>{o||delete s[a]}),ee(s,o=>{Rt.configure(this,o,o.options),Rt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((r,i)=>r.index-i.index),s>n){for(let r=n;r<s;++r)this._destroyDatasetMeta(r);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(Uy("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,r)=>{n.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=n.length;s<r;s++){const i=n[s];let o=this.getDatasetMeta(s);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=i.indexAxis||Xh(a,this.options),o.order=i.order||0,o.index=s,o.label=""+i.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=sn.getController(a),{datasetElementType:u,dataElementType:c}=ke.datasets[a];Object.assign(l,{dataElementType:sn.getElement(c),datasetElementType:u&&sn.getElement(u)}),o.controller=new l(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ee(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:h}=this.getDatasetMeta(u),d=!r&&i.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),r||ee(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Uy("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ee(this.scales,e=>{Rt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!ny(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:i}of n){const o=s==="_removeElements"?-i:i;FI(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=i=>new Set(e.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),r=s(0);for(let i=1;i<n;i++)if(!ny(r,s(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Rt.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],ee(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,is(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),r={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(dn.has(this)?this.attached&&!dn.running(this)&&dn.start(this):(this.draw(),zy({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let r,i;for(r=0,i=n.length;r<i;++r){const o=n[r];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},r=iM(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&Uf(n,r),e.controller.draw(),r&&zf(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return Kb(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,r){const i=NM.modes[n];return typeof i=="function"?i(this,e,s,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let r=s.filter(i=>i&&i._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=ei(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const r=s?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,r);So(n)?(i.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(i,{visible:s}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),dn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),dy(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Wa[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(i,o)=>{n.addEventListener(this,i,o),e[i]=o},r=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};ee(this.options.events,i=>s(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},r=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},i=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),s("resize",i),s("detach",o)};o=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){ee(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ee(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const r=s?"set":"remove";let i,o,a,l;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!Tl(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const r=this.options.hover,i=(l,u)=>l.filter(c=>!u.some(h=>c.datasetIndex===h.datasetIndex&&c.index===h.index)),o=i(n,e),a=s?e:i(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const i=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(i||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:r=[],options:i}=this,o=n,a=this._getActiveElements(e,r,s,o),l=l2(e),u=VI(e,this._lastEvent,s,l);s&&(this._lastEvent=null,ae(i.onHover,[e,a,this],this),l&&ae(i.onClick,[e,a,this],this));const c=!Tl(a,r);return(c||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=u,c}_getActiveElements(e,n,s,r){if(e.type==="mouseout")return[];if(!s)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}},B(On,"defaults",ke),B(On,"instances",Wa),B(On,"overrides",zs),B(On,"registry",sn),B(On,"version",DI),B(On,"getChart",Wy),On);function Hy(){return ee(Bo.instances,t=>t._plugins.invalidate())}function $I(t,e,n){const{startAngle:s,x:r,y:i,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:u,borderJoinStyle:c}=l,h=Math.min(u/o,rn(s-n));if(t.beginPath(),t.arc(r,i,o-u/2,s+h/2,n-h/2),a>0){const d=Math.min(u/a,rn(s-n));t.arc(r,i,a+u/2,n-d/2,s+d/2,!0)}else{const d=Math.min(u/2,o*rn(s-n));if(c==="round")t.arc(r,i,d,n-ne/2,s+ne/2,!0);else if(c==="bevel"){const f=2*d*d,g=-f*Math.cos(n+ne/2)+r,y=-f*Math.sin(n+ne/2)+i,w=f*Math.cos(s+ne/2)+r,p=f*Math.sin(s+ne/2)+i;t.lineTo(g,y),t.lineTo(w,p)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function BI(t,e,n){const{startAngle:s,pixelMargin:r,x:i,y:o,outerRadius:a,innerRadius:l}=e;let u=r/a;t.beginPath(),t.arc(i,o,a,s-u,n+u),l>r?(u=r/l,t.arc(i,o,l,n+u,s-u,!0)):t.arc(i,o,r,n+De,s-De),t.closePath(),t.clip()}function UI(t){return Wf(t,["outerStart","outerEnd","innerStart","innerEnd"])}function zI(t,e,n,s){const r=UI(t.options.borderRadius),i=(n-e)/2,o=Math.min(i,s*e/2),a=l=>{const u=(n-Math.min(i,l))*s/2;return ct(l,0,Math.min(i,u))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:ct(r.innerStart,0,o),innerEnd:ct(r.innerEnd,0,o)}}function sr(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function Ml(t,e,n,s,r,i){const{x:o,y:a,startAngle:l,pixelMargin:u,innerRadius:c}=e,h=Math.max(e.outerRadius+s+n-u,0),d=c>0?c+s+n+u:0;let f=0;const g=r-l;if(s){const z=c>0?c-s:0,Y=h>0?h-s:0,$=(z+Y)/2,A=$!==0?g*$/($+s):g;f=(g-A)/2}const y=Math.max(.001,g*h-n/ne)/h,w=(g-y)/2,p=l+w+f,m=r-w-f,{outerStart:v,outerEnd:b,innerStart:_,innerEnd:S}=zI(e,d,h,m-p),k=h-v,E=h-b,P=p+v/k,C=m-b/E,j=d+_,L=d+S,W=p+_/j,H=m-S/L;if(t.beginPath(),i){const z=(P+C)/2;if(t.arc(o,a,h,P,z),t.arc(o,a,h,z,C),b>0){const M=sr(E,C,o,a);t.arc(M.x,M.y,b,C,m+De)}const Y=sr(L,m,o,a);if(t.lineTo(Y.x,Y.y),S>0){const M=sr(L,H,o,a);t.arc(M.x,M.y,S,m+De,H+Math.PI)}const $=(m-S/d+(p+_/d))/2;if(t.arc(o,a,d,m-S/d,$,!0),t.arc(o,a,d,$,p+_/d,!0),_>0){const M=sr(j,W,o,a);t.arc(M.x,M.y,_,W+Math.PI,p-De)}const A=sr(k,p,o,a);if(t.lineTo(A.x,A.y),v>0){const M=sr(k,P,o,a);t.arc(M.x,M.y,v,p-De,P)}}else{t.moveTo(o,a);const z=Math.cos(P)*h+o,Y=Math.sin(P)*h+a;t.lineTo(z,Y);const $=Math.cos(C)*h+o,A=Math.sin(C)*h+a;t.lineTo($,A)}t.closePath()}function WI(t,e,n,s,r){const{fullCircles:i,startAngle:o,circumference:a}=e;let l=e.endAngle;if(i){Ml(t,e,n,s,l,r);for(let u=0;u<i;++u)t.fill();isNaN(a)||(l=o+(a%Ce||Ce))}return Ml(t,e,n,s,l,r),t.fill(),l}function HI(t,e,n,s,r){const{fullCircles:i,startAngle:o,circumference:a,options:l}=e,{borderWidth:u,borderJoinStyle:c,borderDash:h,borderDashOffset:d,borderRadius:f}=l,g=l.borderAlign==="inner";if(!u)return;t.setLineDash(h||[]),t.lineDashOffset=d,g?(t.lineWidth=u*2,t.lineJoin=c||"round"):(t.lineWidth=u,t.lineJoin=c||"bevel");let y=e.endAngle;if(i){Ml(t,e,n,s,y,r);for(let w=0;w<i;++w)t.stroke();isNaN(a)||(y=o+(a%Ce||Ce))}g&&BI(t,e,y),l.selfJoin&&y-o>=ne&&f===0&&c!=="miter"&&$I(t,e,y),i||(Ml(t,e,n,s,y,r),t.stroke())}class Ti extends Ks{constructor(n){super();B(this,"circumference");B(this,"endAngle");B(this,"fullCircles");B(this,"innerRadius");B(this,"outerRadius");B(this,"pixelMargin");B(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.getProps(["x","y"],r),{angle:o,distance:a}=Fb(i,{x:n,y:s}),{startAngle:l,endAngle:u,innerRadius:c,outerRadius:h,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),f=(this.options.spacing+this.options.borderWidth)/2,g=G(d,u-l),y=Al(o,l,u)&&l!==u,w=g>=Ce||y,p=Rs(a,c+f,h+f);return w&&p}getCenterPoint(n){const{x:s,y:r,startAngle:i,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:c}=this.options,h=(i+o)/2,d=(a+l+c+u)/2;return{x:s+Math.cos(h)*d,y:r+Math.sin(h)*d}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:r}=this,i=(s.offset||0)/4,o=(s.spacing||0)/2,a=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=r>Ce?Math.floor(r/Ce):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*i,Math.sin(l)*i);const u=1-Math.sin(Math.min(ne,r||0)),c=i*u;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,WI(n,this,c,o,a),HI(n,this,c,o,a),n.restore()}}B(Ti,"id","arc"),B(Ti,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),B(Ti,"defaultRoutes",{backgroundColor:"backgroundColor"}),B(Ti,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function d_(t,e){const{x:n,y:s,base:r,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,u,c,h;return t.horizontal?(h=o/2,a=Math.min(n,r),l=Math.max(n,r),u=s-h,c=s+h):(h=i/2,a=n-h,l=n+h,u=Math.min(s,r),c=Math.max(s,r)),{left:a,top:u,right:l,bottom:c}}function Wn(t,e,n,s){return t?0:ct(e,n,s)}function KI(t,e,n){const s=t.options.borderWidth,r=t.borderSkipped,i=qb(s);return{t:Wn(r.top,i.top,0,n),r:Wn(r.right,i.right,0,e),b:Wn(r.bottom,i.bottom,0,n),l:Wn(r.left,i.left,0,e)}}function qI(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,i=Ir(r),o=Math.min(e,n),a=t.borderSkipped,l=s||J(r);return{topLeft:Wn(!l||a.top||a.left,i.topLeft,0,o),topRight:Wn(!l||a.top||a.right,i.topRight,0,o),bottomLeft:Wn(!l||a.bottom||a.left,i.bottomLeft,0,o),bottomRight:Wn(!l||a.bottom||a.right,i.bottomRight,0,o)}}function YI(t){const e=d_(t),n=e.right-e.left,s=e.bottom-e.top,r=KI(t,n/2,s/2),i=qI(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:i},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function gc(t,e,n,s){const r=e===null,i=n===null,a=t&&!(r&&i)&&d_(t,s);return a&&(r||Rs(e,a.left,a.right))&&(i||Rs(n,a.top,a.bottom))}function GI(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function XI(t,e){t.rect(e.x,e.y,e.w,e.h)}function mc(t,e,n={}){const s=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-s,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+s,y:t.y+r,w:t.w+i,h:t.h+o,radius:t.radius}}class Ha extends Ks{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:r}}=this,{inner:i,outer:o}=YI(this),a=GI(o.radius)?Rl:XI;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),a(e,mc(o,n,i)),e.clip(),a(e,mc(i,-n,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),a(e,mc(i,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,s){return gc(this,e,n,s)}inXRange(e,n){return gc(this,e,null,n)}inYRange(e,n){return gc(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+r)/2:n,y:i?s:(s+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}B(Ha,"id","bar"),B(Ha,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),B(Ha,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Ky=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},JI=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class qy extends Ks{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ae(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,r)=>e.sort(s,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,r=Qe(s.font),i=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Ky(s,i);let u,c;n.font=r.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(o,i,a,l)+10):(c=this.maxHeight,u=this._fitCols(o,r,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,r){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=r+a;let h=e;i.textAlign="left",i.textBaseline="middle";let d=-1,f=-c;return this.legendItems.forEach((g,y)=>{const w=s+n/2+i.measureText(g.text).width;(y===0||u[u.length-1]+w+2*a>o)&&(h+=c,u[u.length-(y>0?0:1)]=0,f+=c,d++),l[y]={left:0,top:f,row:d,width:w,height:r},u[u.length-1]+=w+a}),h}_fitCols(e,n,s,r){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=o-e;let h=a,d=0,f=0,g=0,y=0;return this.legendItems.forEach((w,p)=>{const{itemWidth:m,itemHeight:v}=QI(s,n,i,w,r);p>0&&f+v+2*a>c&&(h+=d+a,u.push({width:d,height:f}),g+=d+a,y++,d=f=0),l[p]={left:g,top:f,col:y,width:m,height:v},d=Math.max(d,m),f+=v+a}),h+=d,u.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:r},rtl:i}}=this,o=Dr(i,this.left,this.width);if(this.isHorizontal()){let a=0,l=Ge(s,this.left+r,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=Ge(s,this.left+r,this.right-this.lineWidths[a])),u.top+=this.top+e+r,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+r}else{let a=0,l=Ge(s,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=Ge(s,this.top+e+r,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+r,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Uf(e,this),this._draw(),zf(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:r}=this,{align:i,labels:o}=e,a=ke.color,l=Dr(e.rtl,this.left,this.width),u=Qe(o.font),{padding:c}=o,h=u.size,d=h/2;let f;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=u.string;const{boxWidth:g,boxHeight:y,itemHeight:w}=Ky(o,h),p=function(S,k,E){if(isNaN(g)||g<=0||isNaN(y)||y<0)return;r.save();const P=G(E.lineWidth,1);if(r.fillStyle=G(E.fillStyle,a),r.lineCap=G(E.lineCap,"butt"),r.lineDashOffset=G(E.lineDashOffset,0),r.lineJoin=G(E.lineJoin,"miter"),r.lineWidth=P,r.strokeStyle=G(E.strokeStyle,a),r.setLineDash(G(E.lineDash,[])),o.usePointStyle){const C={radius:y*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:P},j=l.xPlus(S,g/2),L=k+d;Hb(r,C,j,L,o.pointStyleWidth&&g)}else{const C=k+Math.max((h-y)/2,0),j=l.leftForLtr(S,g),L=Ir(E.borderRadius);r.beginPath(),Object.values(L).some(W=>W!==0)?Rl(r,{x:j,y:C,w:g,h:y,radius:L}):r.rect(j,C,g,y),r.fill(),P!==0&&r.stroke()}r.restore()},m=function(S,k,E){To(r,E.text,S,k+w/2,u,{strikethrough:E.hidden,textAlign:l.textAlign(E.textAlign)})},v=this.isHorizontal(),b=this._computeTitleHeight();v?f={x:Ge(i,this.left+c,this.right-s[0]),y:this.top+c+b,line:0}:f={x:this.left+c,y:Ge(i,this.top+b+c,this.bottom-n[0].height),line:0},Qb(this.ctx,e.textDirection);const _=w+c;this.legendItems.forEach((S,k)=>{r.strokeStyle=S.fontColor,r.fillStyle=S.fontColor;const E=r.measureText(S.text).width,P=l.textAlign(S.textAlign||(S.textAlign=o.textAlign)),C=g+d+E;let j=f.x,L=f.y;l.setWidth(this.width),v?k>0&&j+C+c>this.right&&(L=f.y+=_,f.line++,j=f.x=Ge(i,this.left+c,this.right-s[f.line])):k>0&&L+_>this.bottom&&(j=f.x=j+n[f.line].width+c,f.line++,L=f.y=Ge(i,this.top+b+c,this.bottom-n[f.line].height));const W=l.x(j);if(p(W,L,S),j=b2(P,j+g+d,v?j+C:this.right,e.rtl),m(l.x(j),L,S),v)f.x+=C+c;else if(typeof S.text!="string"){const H=u.lineHeight;f.y+=f_(S,H)+c}else f.y+=_}),Zb(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=Qe(n.font),r=Nt(n.padding);if(!n.display)return;const i=Dr(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=s.size/2,u=r.top+l;let c,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),c=this.top+u,h=Ge(e.align,h,this.right-d);else{const g=this.columnSizes.reduce((y,w)=>Math.max(y,w.height),0);c=u+Ge(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const f=Ge(a,h,h+d);o.textAlign=i.textAlign($f(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,To(o,n.text,f,c,s)}_computeTitleHeight(){const e=this.options.title,n=Qe(e.font),s=Nt(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,r,i;if(Rs(e,this.left,this.right)&&Rs(n,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(r=i[s],Rs(e,r.left,r.left+r.width)&&Rs(n,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!tD(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,i=JI(r,s);r&&!i&&ae(n.onLeave,[e,r,this],this),this._hoveredItem=s,s&&!i&&ae(n.onHover,[e,s,this],this)}else s&&ae(n.onClick,[e,s,this],this)}}function QI(t,e,n,s,r){const i=ZI(s,t,e,n),o=eD(r,s,e.lineHeight);return{itemWidth:i,itemHeight:o}}function ZI(t,e,n,s){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((i,o)=>i.length>o.length?i:o)),e+n.size/2+s.measureText(r).width}function eD(t,e,n){let s=t;return typeof e.text!="string"&&(s=f_(e,n)),s}function f_(t,e){const n=t.text?t.text.length:0;return e*n}function tD(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var p_={id:"legend",_element:qy,start(t,e,n){const s=t.legend=new qy({ctx:t.ctx,options:n,chart:t});Rt.configure(t,s,n),Rt.addBox(t,s)},stop(t){Rt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;Rt.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,r=n.chart;r.isDatasetVisible(s)?(r.hide(s),e.hidden=!0):(r.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:r,color:i,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),c=Nt(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:s||u.pointStyle,rotation:u.rotation,textAlign:r||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class g_ extends Ks{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=Me(s.text)?s.text.length:1;this._padding=Nt(s.padding);const i=r*Qe(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:r,right:i,options:o}=this,a=o.align;let l=0,u,c,h;return this.isHorizontal()?(c=Ge(a,s,i),h=n+e,u=i-s):(o.position==="left"?(c=s+e,h=Ge(a,r,n),l=ne*-.5):(c=i-e,h=Ge(a,n,r),l=ne*.5),u=r-n),{titleX:c,titleY:h,maxWidth:u,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=Qe(n.font),i=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(i);To(e,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:u,textAlign:$f(n.align),textBaseline:"middle",translation:[o,a]})}}function nD(t,e){const n=new g_({ctx:t.ctx,options:e,chart:t});Rt.configure(t,n,e),Rt.addBox(t,n),t.titleBlock=n}var sD={id:"title",_element:g_,start(t,e,n){nD(t,n)},stop(t){const e=t.titleBlock;Rt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;Rt.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ei={average(t){if(!t.length)return!1;let e,n,s=new Set,r=0,i=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),r+=l.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:r/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,r=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=t.length;i<o;++i){const l=t[i].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),c=g2(e,u);c<r&&(r=c,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function tn(t,e){return e&&(Me(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function fn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function rD(t,e){const{element:n,datasetIndex:s,index:r}=e,i=t.getDatasetMeta(s).controller,{label:o,value:a}=i.getLabelAndValue(r);return{chart:t,label:o,parsed:i.getParsed(r),raw:t.data.datasets[s].data[r],formattedValue:a,dataset:i.getDataset(),dataIndex:r,datasetIndex:s,element:n}}function Yy(t,e){const n=t.chart.ctx,{body:s,footer:r,title:i}=t,{boxWidth:o,boxHeight:a}=e,l=Qe(e.bodyFont),u=Qe(e.titleFont),c=Qe(e.footerFont),h=i.length,d=r.length,f=s.length,g=Nt(e.padding);let y=g.height,w=0,p=s.reduce((b,_)=>b+_.before.length+_.lines.length+_.after.length,0);if(p+=t.beforeBody.length+t.afterBody.length,h&&(y+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),p){const b=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=f*b+(p-f)*l.lineHeight+(p-1)*e.bodySpacing}d&&(y+=e.footerMarginTop+d*c.lineHeight+(d-1)*e.footerSpacing);let m=0;const v=function(b){w=Math.max(w,n.measureText(b).width+m)};return n.save(),n.font=u.string,ee(t.title,v),n.font=l.string,ee(t.beforeBody.concat(t.afterBody),v),m=e.displayColors?o+2+e.boxPadding:0,ee(s,b=>{ee(b.before,v),ee(b.lines,v),ee(b.after,v)}),m=0,n.font=c.string,ee(t.footer,v),n.restore(),w+=g.width,{width:w,height:y}}function iD(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function oD(t,e,n,s){const{x:r,width:i}=s,o=n.caretSize+n.caretPadding;if(t==="left"&&r+i+o>e.width||t==="right"&&r-i-o<0)return!0}function aD(t,e,n,s){const{x:r,width:i}=n,{width:o,chartArea:{left:a,right:l}}=t;let u="center";return s==="center"?u=r<=(a+l)/2?"left":"right":r<=i/2?u="left":r>=o-i/2&&(u="right"),oD(u,t,e,n)&&(u="center"),u}function Gy(t,e,n){const s=n.yAlign||e.yAlign||iD(t,n);return{xAlign:n.xAlign||e.xAlign||aD(t,e,n,s),yAlign:s}}function lD(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function uD(t,e,n){let{y:s,height:r}=t;return e==="top"?s+=n:e==="bottom"?s-=r+n:s-=r/2,s}function Xy(t,e,n,s){const{caretSize:r,caretPadding:i,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,u=r+i,{topLeft:c,topRight:h,bottomLeft:d,bottomRight:f}=Ir(o);let g=lD(e,a);const y=uD(e,l,u);return l==="center"?a==="left"?g+=u:a==="right"&&(g-=u):a==="left"?g-=Math.max(c,d)+r:a==="right"&&(g+=Math.max(h,f)+r),{x:ct(g,0,s.width-e.width),y:ct(y,0,s.height-e.height)}}function _a(t,e,n){const s=Nt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function Jy(t){return tn([],fn(t))}function cD(t,e,n){return ei(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Qy(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const m_={beforeTitle:hn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:hn,beforeBody:hn,beforeLabel:hn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return se(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:hn,afterBody:hn,beforeFooter:hn,footer:hn,afterFooter:hn};function it(t,e,n,s){const r=t[e].call(n,s);return typeof r>"u"?m_[e].call(n,s):r}class Qh extends Ks{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&n.options.animation&&s.animations,i=new e_(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=cD(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,r=it(s,"beforeTitle",this,e),i=it(s,"title",this,e),o=it(s,"afterTitle",this,e);let a=[];return a=tn(a,fn(r)),a=tn(a,fn(i)),a=tn(a,fn(o)),a}getBeforeBody(e,n){return Jy(it(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,r=[];return ee(e,i=>{const o={before:[],lines:[],after:[]},a=Qy(s,i);tn(o.before,fn(it(a,"beforeLabel",this,i))),tn(o.lines,it(a,"label",this,i)),tn(o.after,fn(it(a,"afterLabel",this,i))),r.push(o)}),r}getAfterBody(e,n){return Jy(it(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,r=it(s,"beforeFooter",this,e),i=it(s,"footer",this,e),o=it(s,"afterFooter",this,e);let a=[];return a=tn(a,fn(r)),a=tn(a,fn(i)),a=tn(a,fn(o)),a}_createItems(e){const n=this._active,s=this.chart.data,r=[],i=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(rD(this.chart,n[l]));return e.filter&&(a=a.filter((c,h,d)=>e.filter(c,h,d,s))),e.itemSort&&(a=a.sort((c,h)=>e.itemSort(c,h,s))),ee(a,c=>{const h=Qy(e.callbacks,c);r.push(it(h,"labelColor",this,c)),i.push(it(h,"labelPointStyle",this,c)),o.push(it(h,"labelTextColor",this,c))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const s=this.options.setContext(this.getContext()),r=this._active;let i,o=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const a=Ei[s.position].call(this,r,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=Yy(this,s),u=Object.assign({},a,l),c=Gy(this.chart,s,u),h=Xy(s,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,i={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,r){const i=this.getCaretPosition(e,s,r);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,s){const{xAlign:r,yAlign:i}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:u,bottomLeft:c,bottomRight:h}=Ir(a),{x:d,y:f}=e,{width:g,height:y}=n;let w,p,m,v,b,_;return i==="center"?(b=f+y/2,r==="left"?(w=d,p=w-o,v=b+o,_=b-o):(w=d+g,p=w+o,v=b-o,_=b+o),m=w):(r==="left"?p=d+Math.max(l,c)+o:r==="right"?p=d+g-Math.max(u,h)-o:p=this.caretX,i==="top"?(v=f,b=v-o,w=p-o,m=p+o):(v=f+y,b=v+o,w=p+o,m=p-o),_=v),{x1:w,x2:p,x3:m,y1:v,y2:b,y3:_}}drawTitle(e,n,s){const r=this.title,i=r.length;let o,a,l;if(i){const u=Dr(s.rtl,this.x,this.width);for(e.x=_a(this,s.titleAlign,s),n.textAlign=u.textAlign(s.titleAlign),n.textBaseline="middle",o=Qe(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,l=0;l<i;++l)n.fillText(r[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===i&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,n,s,r,i){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:u}=i,c=Qe(i.bodyFont),h=_a(this,"left",i),d=r.x(h),f=l<c.lineHeight?(c.lineHeight-l)/2:0,g=n.y+f;if(i.usePointStyle){const y={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},w=r.leftForLtr(d,u)+u/2,p=g+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,fy(e,y,w,p),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,fy(e,y,w,p)}else{e.lineWidth=J(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const y=r.leftForLtr(d,u),w=r.leftForLtr(r.xPlus(d,1),u-2),p=Ir(o.borderRadius);Object.values(p).some(m=>m!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Rl(e,{x:y,y:g,w:u,h:l,radius:p}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Rl(e,{x:w,y:g+1,w:u-2,h:l-2,radius:p}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(y,g,u,l),e.strokeRect(y,g,u,l),e.fillStyle=o.backgroundColor,e.fillRect(w,g+1,u-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:r}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:c}=s,h=Qe(s.bodyFont);let d=h.lineHeight,f=0;const g=Dr(s.rtl,this.x,this.width),y=function(E){n.fillText(E,g.x(e.x+f),e.y+d/2),e.y+=d+i},w=g.textAlign(o);let p,m,v,b,_,S,k;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=_a(this,w,s),n.fillStyle=s.bodyColor,ee(this.beforeBody,y),f=a&&w!=="right"?o==="center"?u/2+c:u+2+c:0,b=0,S=r.length;b<S;++b){for(p=r[b],m=this.labelTextColors[b],n.fillStyle=m,ee(p.before,y),v=p.lines,a&&v.length&&(this._drawColorBox(n,e,b,g,s),d=Math.max(h.lineHeight,l)),_=0,k=v.length;_<k;++_)y(v[_]),d=h.lineHeight;ee(p.after,y)}f=0,d=h.lineHeight,ee(this.afterBody,y),e.y-=i}drawFooter(e,n,s){const r=this.footer,i=r.length;let o,a;if(i){const l=Dr(s.rtl,this.x,this.width);for(e.x=_a(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",o=Qe(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<i;++a)n.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,n,s,r){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=e,{width:u,height:c}=s,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:g}=Ir(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,s,r),n.lineTo(a+u-d,l),n.quadraticCurveTo(a+u,l,a+u,l+d),o==="center"&&i==="right"&&this.drawCaret(e,n,s,r),n.lineTo(a+u,l+c-g),n.quadraticCurveTo(a+u,l+c,a+u-g,l+c),o==="bottom"&&this.drawCaret(e,n,s,r),n.lineTo(a+f,l+c),n.quadraticCurveTo(a,l+c,a,l+c-f),o==="center"&&i==="left"&&this.drawCaret(e,n,s,r),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,r=s&&s.x,i=s&&s.y;if(r||i){const o=Ei[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Yy(this,e),l=Object.assign({},o,this._size),u=Gy(n,e,l),c=Xy(e,l,u,n);(r._to!==c.x||i._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=Nt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(i,e,r,n),Qb(e,n.textDirection),i.y+=o.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),Zb(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,r=e.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),i=!Tl(s,r),o=this._positionChanged(r,n);(i||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],o=this._getActiveElements(e,i,n,s),a=this._positionChanged(o,e),l=n||!Tl(o,i)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,s,r){const i=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,s);return i.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:s,caretY:r,options:i}=this,o=Ei[i.position].call(this,e,n);return o!==!1&&(s!==o.x||r!==o.y)}}B(Qh,"positioners",Ei);var y_={id:"tooltip",_element:Qh,positioners:Ei,afterInit(t,e,n){n&&(t.tooltip=new Qh({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:m_},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const hD=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function dD(t,e,n,s){const r=t.indexOf(e);if(r===-1)return hD(t,e,n,s);const i=t.lastIndexOf(e);return r!==i?n:r}const fD=(t,e)=>t===null?null:ct(Math.round(t),0,e);function Zy(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Zh extends ti{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:r,label:i}of n)s[r]===i&&s.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(se(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:dD(s,e,G(n,e),this._addedLabels),fD(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,r=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return Zy.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}B(Zh,"id","category"),B(Zh,"defaults",{ticks:{callback:Zy}});function pD(t,e){const n=[],{bounds:r,step:i,min:o,max:a,precision:l,count:u,maxTicks:c,maxDigits:h,includeBounds:d}=t,f=i||1,g=c-1,{min:y,max:w}=e,p=!se(o),m=!se(a),v=!se(u),b=(w-y)/(h+1);let _=ry((w-y)/g/f)*f,S,k,E,P;if(_<1e-14&&!p&&!m)return[{value:y},{value:w}];P=Math.ceil(w/_)-Math.floor(y/_),P>g&&(_=ry(P*_/g/f)*f),se(l)||(S=Math.pow(10,l),_=Math.ceil(_*S)/S),r==="ticks"?(k=Math.floor(y/_)*_,E=Math.ceil(w/_)*_):(k=y,E=w),p&&m&&i&&d2((a-o)/i,_/1e3)?(P=Math.round(Math.min((a-o)/_,c)),_=(a-o)/P,k=o,E=a):v?(k=p?o:k,E=m?a:E,P=u-1,_=(E-k)/P):(P=(E-k)/_,Ba(P,Math.round(P),_/1e3)?P=Math.round(P):P=Math.ceil(P));const C=Math.max(iy(_),iy(k));S=Math.pow(10,se(l)?C:l),k=Math.round(k*S)/S,E=Math.round(E*S)/S;let j=0;for(p&&(d&&k!==o?(n.push({value:o}),k<o&&j++,Ba(Math.round((k+j*_)*S)/S,o,e0(o,b,t))&&j++):k<o&&j++);j<P;++j){const L=Math.round((k+j*_)*S)/S;if(m&&L>a)break;n.push({value:L})}return m&&d&&E!==a?n.length&&Ba(n[n.length-1].value,a,e0(a,b,t))?n[n.length-1].value=a:n.push({value:a}):(!m||E===a)&&n.push({value:E}),n}function e0(t,e,{horizontal:n,minRotation:s}){const r=xn(s),i=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class gD extends ti{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return se(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:r,max:i}=this;const o=l=>r=n?r:l,a=l=>i=s?i:l;if(e){const l=es(r),u=es(i);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(r===i){let l=i===0?1:Math.abs(i*.05);a(i+l),e||o(r-l)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=pD(r,i);return e.bounds==="ticks"&&f2(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const r=(s-n)/Math.max(e.length-1,1)/2;n-=r,s+=r}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return Bf(e,this.chart.options.locale,this.options.ticks.format)}}class ed extends gD{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Dt(e)?e:0,this.max=Dt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=xn(this.options.ticks.minRotation),r=(e?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}B(ed,"id","linear"),B(ed,"defaults",{ticks:{callback:Wb.formatters.numeric}});const au={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},at=Object.keys(au);function t0(t,e){return t-e}function n0(t,e){if(se(e))return null;const n=t._adapter,{parser:s,round:r,isoWeekday:i}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),Dt(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(Pl(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,r)),+o)}function s0(t,e,n,s){const r=at.length;for(let i=at.indexOf(t);i<r-1;++i){const o=au[at[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=s)return at[i]}return at[r-1]}function mD(t,e,n,s,r){for(let i=at.length-1;i>=at.indexOf(n);i--){const o=at[i];if(au[o].common&&t._adapter.diff(r,s,o)>=e-1)return o}return at[n?at.indexOf(n):0]}function yD(t){for(let e=at.indexOf(t)+1,n=at.length;e<n;++e)if(au[at[e]].common)return at[e]}function r0(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:r}=Vf(n,e),i=n[s]>=e?n[s]:n[r];t[i]=!0}}function vD(t,e,n,s){const r=t._adapter,i=+r.startOf(e[0].value,s),o=e[e.length-1].value;let a,l;for(a=i;a<=o;a=+r.add(a,1,s))l=n[a],l>=0&&(e[l].major=!0);return e}function i0(t,e,n){const s=[],r={},i=e.length;let o,a;for(o=0;o<i;++o)a=e[o],r[a]=o,s.push({value:a,major:!1});return i===0||!n?s:vD(t,s,r,n)}class Il extends ti{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),r=this._adapter=new OM._date(e.adapters.date);r.init(n),Ui(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:n0(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:r,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(r=Math.min(r,u.min)),!a&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=Dt(r)&&!isNaN(r)?r:+n.startOf(Date.now(),s),i=Dt(i)&&!isNaN(i)?i:+n.endOf(Date.now(),s)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,o=this.max,a=v2(r,i,o);return this._unit=n.unit||(s.autoSkip?s0(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):mD(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:yD(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),i0(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,r,i;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?s=i:s=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=ct(n,0,o),s=ct(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,r=this.options,i=r.time,o=i.unit||s0(i.minUnit,n,s,this._getLabelCapacity(n)),a=G(r.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,u=Pl(l)||l===!0,c={};let h=n,d,f;if(u&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,u?"day":o),e.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const g=r.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<s;d=+e.add(d,a,o),f++)r0(c,d,g);return(d===s||r.bounds==="ticks"||f===1)&&r0(c,d,g),Object.keys(c).sort(t0).map(y=>+y)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,i=this._unit,o=n||r[i];return this._adapter.format(e,o)}_tickFormatFunction(e,n,s,r){const i=this.options,o=i.ticks.callback;if(o)return ae(o,[e,n,s],this);const a=i.time.displayFormats,l=this._unit,u=this._majorUnit,c=l&&a[l],h=u&&a[u],d=s[n],f=u&&h&&d&&d.major;return this._adapter.format(e,r||(f?h:c))}generateTickLabels(e){let n,s,r;for(n=0,s=e.length;n<s;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,r=xn(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:s*i+a*o,h:s*o+a*i}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,r=s[n.unit]||s.millisecond,i=this._tickFormatFunction(e,0,i0(this,[e],this._majorUnit),r),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,s=r.length;n<s;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const r=this.getLabels();for(n=0,s=r.length;n<s;++n)e.push(n0(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return $b(e.sort(t0))}}B(Il,"id","time"),B(Il,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ka(t,e,n){let s=0,r=t.length-1,i,o,a,l;n?(e>=t[s].pos&&e<=t[r].pos&&({lo:s,hi:r}=Yh(t,"pos",e)),{pos:i,time:a}=t[s],{pos:o,time:l}=t[r]):(e>=t[s].time&&e<=t[r].time&&({lo:s,hi:r}=Yh(t,"time",e)),{time:i,pos:a}=t[s],{time:o,pos:l}=t[r]);const u=o-i;return u?a+(l-a)*(e-i)/u:a}class o0 extends Il{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=ka(n,this.min),this._tableRange=ka(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,r=[],i=[];let o,a,l,u,c;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=s&&r.push(u);if(r.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=r.length;o<a;++o)c=r[o+1],l=r[o-1],u=r[o],Math.round((c+l)/2)!==u&&i.push({time:u,pos:o/(a-1)});return i}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((r,i)=>r-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(ka(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return ka(this._table,s*this._tableRange+this._minPos,!0)}}B(o0,"id","timeseries"),B(o0,"defaults",Il.defaults);const v_="label";function a0(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function wD(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function w_(t,e){t.labels=e}function x_(t,e,n=v_){const s=[];t.datasets=e.map(r=>{const i=t.datasets.find(o=>o[n]===r[n]);return!i||!r.data||s.includes(i)?{...r}:(s.push(i),Object.assign(i,r),i)})}function xD(t,e=v_){const n={labels:[],datasets:[]};return w_(n,t.labels),x_(n,t.datasets,e),n}function bD(t,e){const{height:n=150,width:s=300,redraw:r=!1,datasetIdKey:i,type:o,data:a,options:l,plugins:u=[],fallbackContent:c,updateMode:h,...d}=t,f=T.useRef(null),g=T.useRef(null),y=()=>{f.current&&(g.current=new Bo(f.current,{type:o,data:xD(a,i),options:l&&{...l},plugins:u}),a0(e,g.current))},w=()=>{a0(e,null),g.current&&(g.current.destroy(),g.current=null)};return T.useEffect(()=>{!r&&g.current&&l&&wD(g.current,l)},[r,l]),T.useEffect(()=>{!r&&g.current&&w_(g.current.config.data,a.labels)},[r,a.labels]),T.useEffect(()=>{!r&&g.current&&a.datasets&&x_(g.current.config.data,a.datasets,i)},[r,a.datasets]),T.useEffect(()=>{g.current&&(r?(w(),setTimeout(y)):g.current.update(h))},[r,l,a.labels,a.datasets,h]),T.useEffect(()=>{g.current&&(w(),setTimeout(y))},[o]),T.useEffect(()=>(y(),()=>w()),[]),x.jsx("canvas",{ref:f,role:"img",height:n,width:s,...d,children:c})}const _D=T.forwardRef(bD);function b_(t,e){return Bo.register(e),T.forwardRef((n,s)=>x.jsx(_D,{...n,ref:s,type:t}))}const kD=b_("bar",Ua),SD=b_("doughnut",ki);Bo.register(Zh,ed,Ha,sD,y_,p_);const TD=({marks:t})=>{const e=T.useMemo(()=>{if(!t.length)return{cat:0,fat:0,assignment:0};const r=t.reduce((i,o)=>({cat:i.cat+(o.cat||0),fat:i.fat+(o.fat||0),assignment:i.assignment+(o.assignment||0)}),{cat:0,fat:0,assignment:0});return{cat:r.cat/t.length,fat:r.fat/t.length,assignment:r.assignment/t.length}},[t]),n={labels:["CAT","FAT","Assignment"],datasets:[{label:"Average Score",data:[e.cat,e.fat,e.assignment],backgroundColor:["rgba(59, 130, 246, 0.6)","rgba(16, 185, 129, 0.6)","rgba(245, 158, 11, 0.6)"],borderColor:["rgb(59, 130, 246)","rgb(16, 185, 129)","rgb(245, 158, 11)"],borderWidth:1}]},s={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Average Class Performance"}},scales:{y:{beginAtZero:!0,max:100}}};return x.jsx(kD,{options:s,data:n})};Bo.register(Ti,y_,p_);const ED=({claims:t})=>{const e=T.useMemo(()=>{const s={pending:0,approved:0,rejected:0};return t.forEach(r=>{s[r.status]!==void 0&&s[r.status]++}),s},[t]),n={labels:["Pending","Approved","Rejected"],datasets:[{label:"# of Claims",data:[e.pending,e.approved,e.rejected],backgroundColor:["rgba(245, 158, 11, 0.6)","rgba(16, 185, 129, 0.6)","rgba(239, 68, 68, 0.6)"],borderColor:["rgba(245, 158, 11, 1)","rgba(16, 185, 129, 1)","rgba(239, 68, 68, 1)"],borderWidth:1}]};return x.jsx("div",{style:{maxHeight:"300px",display:"flex",justifyContent:"center"},children:x.jsx(SD,{data:n})})},CD=()=>{const{user:t}=Do(),[e,n]=T.useState([]),[s,r]=T.useState(null),[i,o]=T.useState([]),[a,l]=T.useState([]),[u,c]=T.useState([]),[h,d]=T.useState([]),[f,g]=T.useState(!0),[y,w]=T.useState("approve"),[p,m]=T.useState(""),[v,b]=T.useState(0),[_,S]=T.useState(!1),[k,E]=T.useState(""),[P,C]=T.useState(""),[j,L]=T.useState("Year 1"),[W,H]=T.useState(""),[z,Y]=T.useState(""),[$,A]=T.useState(null),[M,N]=T.useState([]);T.useEffect(()=>{t&&be()},[t]);const Q=O=>{const Vt=h.filter(Ae=>Ae.courseId===O.id).map(Ae=>Ae.studentId).map(Ae=>{const Qt=i.find(Ys=>Ys.id===Ae),me=u.find(Ys=>Ys.courseId===O.id&&Ys.studentId===Ae);return{studentId:Ae,name:(Qt==null?void 0:Qt.name)||"Unknown",regNumber:(Qt==null?void 0:Qt.regNumber)||"N/A",cat:(me==null?void 0:me.cat)||0,fat:(me==null?void 0:me.fat)||0,assignment:(me==null?void 0:me.assignment)||0,markId:(me==null?void 0:me.id)||null}});N(Vt),A(O)},Z=(O,q,Ve)=>{N(Vt=>Vt.map(Ae=>Ae.studentId===O?{...Ae,[q]:parseFloat(Ve)||0}:Ae))},kt=async()=>{for(const O of M){const q={studentId:O.studentId,courseId:$.id,cat:O.cat,fat:O.fat,assignment:O.assignment,total:O.cat+O.fat+O.assignment};O.markId?await ye.updateMark(O.markId,q):await ye.createMark(q)}alert("Grades saved successfully!"),A(null),be()},be=async()=>{g(!0);try{const O=await ye.getClaims({lecturerId:t.id}),q=await ye.getUsers().then(me=>me.filter(Ys=>Ys.role==="student")),Vt=(await ye.getCourses()).filter(me=>me.lecturerId===t.id),Ae=await ye.getMarks(),Qt=await ye.getEnrollments();n(O),o(q),l(Vt),c(Ae),d(Qt)}catch(O){console.error("Error loading lecturer data",O)}finally{g(!1)}},Ft=async O=>{O.preventDefault();try{await ye.createCourse({code:k,name:P,targetYear:j,intake:W,cohortYear:z,lecturerId:t.id}),S(!1),E(""),C(""),L("Year 1"),H(""),Y(""),alert("Course created successfully!"),be()}catch{alert("Failed to create course")}},[Ke,qs]=T.useState(null),__=async O=>{if(confirm("Are you sure you want to delete this course? This cannot be undone."))try{await ye.deleteCourse(O),alert("Course deleted."),be()}catch{alert("Failed to delete course")}},k_=O=>{r(O),w("approve"),m(""),b(O.originalMark)},S_=async O=>{if(O.preventDefault(),!!s){if(y==="approve"){const q={};q[s.assessmentType]=parseFloat(v),await ye.updateMark(s.markId,q),await ye.updateClaim(s.id,{status:"approved",lecturerComment:p||"Mark updated.",resolvedAt:new Date().toISOString()})}else await ye.updateClaim(s.id,{status:"rejected",lecturerComment:p||"No errors found in marking.",resolvedAt:new Date().toISOString()});alert("Claim resolved successfully."),r(null),be()}},T_=(O,q,Ve)=>{const Vt=`
ACADEMIC CORRECTION REPORT
--------------------------
Date: ${new Date().toLocaleDateString()}
Claim ID: ${O.id}
Student: ${q==null?void 0:q.name} (${q==null?void 0:q.email})
Course: ${Ve==null?void 0:Ve.code} - ${Ve==null?void 0:Ve.name}
Assessment: ${O.assessmentType}

Original Mark: ${O.originalMark}
Decision: ${O.status.toUpperCase()}
Lecturer Comments: ${O.lecturerComment}

Resolved At: ${new Date(O.resolvedAt).toLocaleString()}
--------------------------
Generated by Digital Academic Marks Review System
`,Ae=new Blob([Vt],{type:"text/plain"}),Qt=URL.createObjectURL(Ae),me=document.createElement("a");me.href=Qt,me.download=`CorrectionReport_${O.id}.txt`,document.body.appendChild(me),me.click(),document.body.removeChild(me)};return f?x.jsx("div",{className:"p-4",children:"Loading Dashboard..."}):x.jsxs(Ob,{children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Lecturer Dashboard"}),x.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-sm transition-colors",onClick:()=>S(!0),children:[x.jsx(Sh,{size:18}),x.jsx("span",{children:"Create New Course"})]})]}),x.jsxs("div",{className:"mb-8",children:[x.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white",children:"My Courses"}),x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(O=>{const q=h.filter(Ve=>Ve.courseId===O.id).length;return x.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-6 transition-all hover:shadow-md",children:[x.jsx("h4",{className:"font-bold text-lg text-slate-900 dark:text-white mb-1",children:O.code}),x.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:O.name}),x.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-3 text-center mb-4",children:x.jsxs("div",{className:"flex items-center justify-center gap-2 text-slate-700 dark:text-slate-300 font-semibold",children:[x.jsx(Vg,{size:16,className:"text-blue-500"}),x.jsxs("span",{children:[q," Students Enrolled"]})]})}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:"flex-1 py-2 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 font-medium rounded-lg transition-colors",onClick:()=>Q(O),children:"Manage & Grade"}),x.jsx("button",{className:"px-3 py-2 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 font-medium rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",onClick:()=>qs(O),children:"Edit"}),x.jsx("button",{className:"px-3 py-2 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 font-medium rounded-lg hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors",onClick:()=>__(O.id),children:"Delete"})]})]},O.id)})})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[x.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-6",children:x.jsx(TD,{marks:u})}),x.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-6",children:[x.jsx("h3",{className:"text-center font-bold text-slate-600 dark:text-slate-300 mb-4",children:"Claim Statistics"}),x.jsx(ED,{claims:e})]})]}),x.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white",children:"Review Pending Claims"}),x.jsxs("div",{className:"flex flex-col gap-4",children:[e.length===0&&x.jsx("p",{className:"text-slate-500 italic",children:"No pending claims."}),e.map(O=>{const q=i.find(Ae=>Ae.id===O.studentId),Ve=a.find(Ae=>Ae.id===O.courseId),Vt=O.status==="pending";return x.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-6 flex flex-col md:flex-row gap-6 ${Vt?"":"opacity-85"}`,children:[x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"flex justify-between items-start mb-2",children:[x.jsxs("h4",{className:"font-bold text-slate-900 dark:text-white text-lg",children:[Ve==null?void 0:Ve.code," - ",O.assessmentType.toUpperCase()]}),x.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide
                                        ${O.status==="pending"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400":O.status==="approved"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:O.status})]}),x.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-500 dark:text-slate-400 mb-3",children:[x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx(Vg,{size:14})," ",q==null?void 0:q.name," (",q==null?void 0:q.regNumber,")"]}),x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx(Sh,{size:14})," Original Score: ",O.originalMark]})]}),x.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-4 rounded-lg text-slate-700 dark:text-slate-300 text-sm mb-4",children:['"',O.explanation,'"']}),!Vt&&x.jsxs("div",{className:"text-sm border-t border-slate-100 dark:border-slate-700 pt-3 mt-2",children:[x.jsx("strong",{className:"text-slate-900 dark:text-slate-200",children:"Decision Note:"})," ",x.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:O.lecturerComment}),x.jsx("div",{className:"mt-3",children:x.jsxs("button",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded text-xs font-medium transition-colors",onClick:()=>T_(O,q,Ve),children:[x.jsx(qC,{size:14})," Download Official Report"]})})]})]}),Vt&&x.jsx("div",{className:"flex items-center",children:x.jsx("button",{className:"w-full md:w-auto px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm transition-colors",onClick:()=>k_(O),children:"Review"})})]},O.id)})]}),_&&x.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-xl shadow-2xl p-6 border border-slate-200 dark:border-slate-700",children:[x.jsx("h3",{className:"text-xl font-bold mb-4 text-slate-900 dark:text-white",children:"Create New Course"}),x.jsxs("form",{onSubmit:Ft,children:[x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block mb-2 text-sm font-medium text-slate-700 dark:text-slate-300",children:"Course Code"}),x.jsx("input",{type:"text",required:!0,placeholder:"e.g. CS101",className:"w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",value:k,onChange:O=>E(O.target.value)})]}),x.jsxs("div",{className:"mb-6",children:[x.jsx("label",{className:"block mb-2 text-sm font-medium text-slate-700 dark:text-slate-300",children:"Course Name"}),x.jsx("input",{type:"text",required:!0,placeholder:"e.g. Intro to CS",className:"w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",value:P,onChange:O=>C(O.target.value)})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block mb-2 text-sm font-medium text-slate-700 dark:text-slate-300",children:"Target Year"}),x.jsxs("select",{className:"w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",value:j,onChange:O=>L(O.target.value),children:[x.jsx("option",{value:"Year 1",children:"Year 1"}),x.jsx("option",{value:"Year 2",children:"Year 2"}),x.jsx("option",{value:"Year 3",children:"Year 3"}),x.jsx("option",{value:"Year 4",children:"Year 4"})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block mb-2 text-sm font-medium text-slate-700 dark:text-slate-300",children:"Intake"}),x.jsx("input",{type:"text",placeholder:"e.g. 9",className:"w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",value:W,onChange:O=>H(O.target.value)})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-2 text-sm font-medium text-slate-700 dark:text-slate-300",children:"Cohort Year"}),x.jsx("input",{type:"text",placeholder:"e.g. 2024",className:"w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",value:z,onChange:O=>Y(O.target.value)})]})]}),x.jsxs("div",{className:"flex justify-end gap-3",children:[x.jsx("button",{type:"button",className:"px-4 py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",onClick:()=>S(!1),children:"Cancel"}),x.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:"Create"})]})]})]})}),$&&x.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-xl shadow-2xl border border-slate-200 dark:border-slate-700 flex flex-col",children:[x.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center sticky top-0 bg-white dark:bg-slate-800 z-10",children:[x.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:["Grading: ",$.code]}),x.jsx("button",{className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 transition-colors",onClick:()=>A(null),children:x.jsx(ZC,{size:24})})]}),x.jsx("div",{className:"p-6",children:M.length===0?x.jsx("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:"No students enrolled yet."}):x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-sm text-left",children:[x.jsx("thead",{className:"text-xs text-slate-700 dark:text-slate-300 uppercase bg-slate-50 dark:bg-slate-700/50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-4 py-3 rounded-l-lg",children:"Student"}),x.jsx("th",{className:"px-4 py-3 w-24",children:"CAT (30)"}),x.jsx("th",{className:"px-4 py-3 w-24",children:"FAT (60)"}),x.jsx("th",{className:"px-4 py-3 w-24",children:"Assgn (10)"}),x.jsx("th",{className:"px-4 py-3 w-20 rounded-r-lg",children:"Total"})]})}),x.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:M.map(O=>x.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[x.jsxs("td",{className:"px-4 py-3 font-medium text-slate-900 dark:text-white",children:[x.jsx("div",{children:O.name}),x.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 font-normal",children:O.regNumber})]}),x.jsx("td",{className:"px-4 py-3",children:x.jsx("input",{type:"number",className:"w-full px-2 py-1 rounded border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-800 text-center focus:ring-2 focus:ring-blue-500 outline-none transition-all",value:O.cat,onChange:q=>Z(O.studentId,"cat",q.target.value)})}),x.jsx("td",{className:"px-4 py-3",children:x.jsx("input",{type:"number",className:"w-full px-2 py-1 rounded border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-800 text-center focus:ring-2 focus:ring-blue-500 outline-none transition-all",value:O.fat,onChange:q=>Z(O.studentId,"fat",q.target.value)})}),x.jsx("td",{className:"px-4 py-3",children:x.jsx("input",{type:"number",className:"w-full px-2 py-1 rounded border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-800 text-center focus:ring-2 focus:ring-blue-500 outline-none transition-all",value:O.assignment,onChange:q=>Z(O.studentId,"assignment",q.target.value)})}),x.jsx("td",{className:"px-4 py-3 font-bold text-slate-900 dark:text-white text-center",children:O.cat+O.fat+O.assignment})]},O.studentId))})]})})}),x.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex justify-end gap-3 bg-slate-50 dark:bg-slate-800/50 rounded-b-xl",children:[x.jsx("button",{onClick:()=>A(null),className:"px-4 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-600 transition-colors",children:"Cancel"}),x.jsx("button",{onClick:kt,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm transition-colors",children:"Save All Marks"})]})]})}),s&&x.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-lg rounded-xl shadow-2xl p-6 border border-slate-200 dark:border-slate-700",children:[x.jsx("h3",{className:"text-xl font-bold mb-4 text-slate-900 dark:text-white",children:"Review Claim"}),x.jsxs("form",{onSubmit:S_,children:[x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block mb-2 font-semibold text-slate-700 dark:text-slate-300",children:"Action"}),x.jsxs("div",{className:"flex gap-4",children:[x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[x.jsx("input",{type:"radio",name:"decision",value:"approve",checked:y==="approve",onChange:O=>w(O.target.value),className:"text-blue-600 focus:ring-blue-500"}),x.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Update Mark"})]}),x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[x.jsx("input",{type:"radio",name:"decision",value:"reject",checked:y==="reject",onChange:O=>w(O.target.value),className:"text-blue-600 focus:ring-blue-500"}),x.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Reject Claim"})]})]})]}),y==="approve"&&x.jsxs("div",{className:"mb-4",children:[x.jsxs("label",{className:"block mb-2 text-sm font-medium text-slate-700 dark:text-slate-300",children:["Corrected Score (",s.assessmentType.toUpperCase(),")"]}),x.jsx("input",{type:"number",value:v,onChange:O=>b(O.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none transition-all"})]}),x.jsxs("div",{className:"mb-6",children:[x.jsx("label",{className:"block mb-2 text-sm font-medium text-slate-700 dark:text-slate-300",children:"Comments / Reason"}),x.jsx("textarea",{rows:3,required:!0,value:p,onChange:O=>m(O.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"Explanation for the student..."})]}),x.jsxs("div",{className:"flex justify-end gap-3",children:[x.jsx("button",{type:"button",className:"px-4 py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",onClick:()=>r(null),children:"Cancel"}),x.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:"Submit Decision"})]})]})]})})]})},l0=({children:t,allowedRoles:e})=>{const{user:n,loading:s}=Do(),r=Ql();return s?x.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"2rem"},children:"Loading..."}):n?e&&!e.includes(n.role)?x.jsx(hh,{to:n.role==="student"?"/student":"/lecturer",replace:!0}):t:x.jsx(hh,{to:"/login",state:{from:r},replace:!0})};function PD(){return x.jsx(Z1,{children:x.jsxs(X1,{children:[x.jsx(rr,{path:"/login",element:x.jsx(VC,{})}),x.jsxs(rr,{element:x.jsx(eP,{}),children:[x.jsx(rr,{path:"/student/*",element:x.jsx(l0,{allowedRoles:["student"],children:x.jsx(Mj,{})})}),x.jsx(rr,{path:"/lecturer/*",element:x.jsx(l0,{allowedRoles:["lecturer"],children:x.jsx(CD,{})})})]}),x.jsx(rr,{path:"/",element:x.jsx(hh,{to:"/login",replace:!0})})]})})}yc.createRoot(document.getElementById("root")).render(x.jsx(w0.StrictMode,{children:x.jsx($C,{children:x.jsx(DC,{children:x.jsx(PD,{})})})}));
